var Ee=t=>{throw TypeError(t)};var ce=(t,e,s)=>e.has(t)||Ee("Cannot "+s);var i=(t,e,s)=>(ce(t,e,"read from private field"),s?s.call(t):e.get(t)),f=(t,e,s)=>e.has(t)?Ee("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),c=(t,e,s,r)=>(ce(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),d=(t,e,s)=>(ce(t,e,"access private method"),s);import{S as Le,k as Oe,l as F,s as re,m as X,n as ne,o as le,q as Fe,t as we,v as De,w as ke,x as Qe,y as ae,z as Te,A as Be,r as A,B as Ue,C as O,D as P}from"./index-DtxISyQc.js";import{b as je,u as He,d as ze,r as Ye,e as We,g as Ve,h as Ge,i as Je,j as Xe,k as Ze,m as $e,a as et,n as tt,o as st,p as it,f as rt,q as nt}from"./api-Cd6wgmjm.js";var m,n,Z,S,x,j,q,N,$,H,z,w,D,L,Y,h,J,de,fe,pe,ye,Ce,Se,Re,Ke,Pe,at=(Pe=class extends Le{constructor(e,s){super();f(this,h);f(this,m);f(this,n);f(this,Z);f(this,S);f(this,x);f(this,j);f(this,q);f(this,N);f(this,$);f(this,H);f(this,z);f(this,w);f(this,D);f(this,L);f(this,Y,new Set);this.options=s,c(this,m,e),c(this,N,null),c(this,q,Oe()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,n).addObserver(this),qe(i(this,n),this.options)?d(this,h,J).call(this):this.updateResult(),d(this,h,ye).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return me(i(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return me(i(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,d(this,h,Ce).call(this),d(this,h,Se).call(this),i(this,n).removeObserver(this)}setOptions(e){const s=this.options,r=i(this,n);if(this.options=i(this,m).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof F(this.options.enabled,i(this,n))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");d(this,h,Re).call(this),i(this,n).setOptions(this.options),s._defaulted&&!re(this.options,s)&&i(this,m).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,n),observer:this});const o=this.hasListeners();o&&Me(i(this,n),r,this.options,s)&&d(this,h,J).call(this),this.updateResult(),o&&(i(this,n)!==r||F(this.options.enabled,i(this,n))!==F(s.enabled,i(this,n))||X(this.options.staleTime,i(this,n))!==X(s.staleTime,i(this,n)))&&d(this,h,de).call(this);const a=d(this,h,fe).call(this);o&&(i(this,n)!==r||F(this.options.enabled,i(this,n))!==F(s.enabled,i(this,n))||a!==i(this,L))&&d(this,h,pe).call(this,a)}getOptimisticResult(e){const s=i(this,m).getQueryCache().build(i(this,m),e),r=this.createResult(s,e);return ot(this,r)&&(c(this,S,r),c(this,j,this.options),c(this,x,i(this,n).state)),r}getCurrentResult(){return i(this,S)}trackResult(e,s){return new Proxy(e,{get:(r,o)=>(this.trackProp(o),s==null||s(o),o==="promise"&&!this.options.experimental_prefetchInRender&&i(this,q).status==="pending"&&i(this,q).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,o))})}trackProp(e){i(this,Y).add(e)}getCurrentQuery(){return i(this,n)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=i(this,m).defaultQueryOptions(e),r=i(this,m).getQueryCache().build(i(this,m),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){var s;return d(this,h,J).call(this,{...e,cancelRefetch:(s=e.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),i(this,S)))}createResult(e,s){var Ie;const r=i(this,n),o=this.options,a=i(this,S),u=i(this,x),g=i(this,j),R=e!==r?e.state:i(this,Z),{state:I}=e;let l={...I},W=!1,y;if(s._optimisticResults){const E=this.hasListeners(),te=!E&&qe(e,s),B=E&&Me(e,r,s,o);(te||B)&&(l={...l,...ke(I.data,e.options)}),s._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:V,errorUpdatedAt:G,status:v}=l;y=l.data;let ee=!1;if(s.placeholderData!==void 0&&y===void 0&&v==="pending"){let E;a!=null&&a.isPlaceholderData&&s.placeholderData===(g==null?void 0:g.placeholderData)?(E=a.data,ee=!0):E=typeof s.placeholderData=="function"?s.placeholderData((Ie=i(this,z))==null?void 0:Ie.state.data,i(this,z)):s.placeholderData,E!==void 0&&(v="success",y=Qe(a==null?void 0:a.data,E,s),W=!0)}if(s.select&&y!==void 0&&!ee)if(a&&y===(u==null?void 0:u.data)&&s.select===i(this,$))y=i(this,H);else try{c(this,$,s.select),y=s.select(y),y=Qe(a==null?void 0:a.data,y,s),c(this,H,y),c(this,N,null)}catch(E){c(this,N,E)}i(this,N)&&(V=i(this,N),y=i(this,H),G=Date.now(),v="error");const ue=l.fetchStatus==="fetching",oe=v==="pending",he=v==="error",ve=oe&&ue,ge=y!==void 0,Q={status:v,fetchStatus:l.fetchStatus,isPending:oe,isSuccess:v==="success",isError:he,isInitialLoading:ve,isLoading:ve,data:y,dataUpdatedAt:l.dataUpdatedAt,error:V,errorUpdatedAt:G,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>R.dataUpdateCount||l.errorUpdateCount>R.errorUpdateCount,isFetching:ue,isRefetching:ue&&!oe,isLoadingError:he&&!ge,isPaused:l.fetchStatus==="paused",isPlaceholderData:W,isRefetchError:he&&ge,isStale:Ae(e,s),refetch:this.refetch,promise:i(this,q),isEnabled:F(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const E=se=>{Q.status==="error"?se.reject(Q.error):Q.data!==void 0&&se.resolve(Q.data)},te=()=>{const se=c(this,q,Q.promise=Oe());E(se)},B=i(this,q);switch(B.status){case"pending":e.queryHash===r.queryHash&&E(B);break;case"fulfilled":(Q.status==="error"||Q.data!==B.value)&&te();break;case"rejected":(Q.status!=="error"||Q.error!==B.reason)&&te();break}}return Q}updateResult(){const e=i(this,S),s=this.createResult(i(this,n),this.options);if(c(this,x,i(this,n).state),c(this,j,this.options),i(this,x).data!==void 0&&c(this,z,i(this,n)),re(s,e))return;c(this,S,s);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!i(this,Y).size)return!0;const u=new Set(a!=null?a:i(this,Y));return this.options.throwOnError&&u.add("error"),Object.keys(i(this,S)).some(g=>{const p=g;return i(this,S)[p]!==e[p]&&u.has(p)})};d(this,h,Ke).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&d(this,h,ye).call(this)}},m=new WeakMap,n=new WeakMap,Z=new WeakMap,S=new WeakMap,x=new WeakMap,j=new WeakMap,q=new WeakMap,N=new WeakMap,$=new WeakMap,H=new WeakMap,z=new WeakMap,w=new WeakMap,D=new WeakMap,L=new WeakMap,Y=new WeakMap,h=new WeakSet,J=function(e){d(this,h,Re).call(this);let s=i(this,n).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(ne)),s},de=function(){d(this,h,Ce).call(this);const e=X(this.options.staleTime,i(this,n));if(le||i(this,S).isStale||!Fe(e))return;const r=we(i(this,S).dataUpdatedAt,e)+1;c(this,w,setTimeout(()=>{i(this,S).isStale||this.updateResult()},r))},fe=function(){var e;return(e=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,n)):this.options.refetchInterval)!=null?e:!1},pe=function(e){d(this,h,Se).call(this),c(this,L,e),!(le||F(this.options.enabled,i(this,n))===!1||!Fe(i(this,L))||i(this,L)===0)&&c(this,D,setInterval(()=>{(this.options.refetchIntervalInBackground||De.isFocused())&&d(this,h,J).call(this)},i(this,L)))},ye=function(){d(this,h,de).call(this),d(this,h,pe).call(this,d(this,h,fe).call(this))},Ce=function(){i(this,w)&&(clearTimeout(i(this,w)),c(this,w,void 0))},Se=function(){i(this,D)&&(clearInterval(i(this,D)),c(this,D,void 0))},Re=function(){const e=i(this,m).getQueryCache().build(i(this,m),this.options);if(e===i(this,n))return;const s=i(this,n);c(this,n,e),c(this,Z,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ke=function(e){ae.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(i(this,S))}),i(this,m).getQueryCache().notify({query:i(this,n),type:"observerResultsUpdated"})})},Pe);function ut(t,e){return F(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qe(t,e){return ut(t,e)||t.state.data!==void 0&&me(t,e,e.refetchOnMount)}function me(t,e,s){if(F(e.enabled,t)!==!1&&X(e.staleTime,t)!=="static"){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&Ae(t,e)}return!1}function Me(t,e,s,r){return(t!==e||F(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Ae(t,s)}function Ae(t,e){return F(e.enabled,t)!==!1&&t.isStaleByTime(X(e.staleTime,t))}function ot(t,e){return!re(t.getCurrentResult(),e)}var U,K,b,M,_,ie,be,Ne,ht=(Ne=class extends Le{constructor(e,s){super();f(this,_);f(this,U);f(this,K);f(this,b);f(this,M);c(this,U,e),this.setOptions(s),this.bindMethods(),d(this,_,ie).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const s=this.options;this.options=i(this,U).defaultMutationOptions(e),re(this.options,s)||i(this,U).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,b),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Te(s.mutationKey)!==Te(this.options.mutationKey)?this.reset():((r=i(this,b))==null?void 0:r.state.status)==="pending"&&i(this,b).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=i(this,b))==null||e.removeObserver(this)}onMutationUpdate(e){d(this,_,ie).call(this),d(this,_,be).call(this,e)}getCurrentResult(){return i(this,K)}reset(){var e;(e=i(this,b))==null||e.removeObserver(this),c(this,b,void 0),d(this,_,ie).call(this),d(this,_,be).call(this)}mutate(e,s){var r;return c(this,M,s),(r=i(this,b))==null||r.removeObserver(this),c(this,b,i(this,U).getMutationCache().build(i(this,U),this.options)),i(this,b).addObserver(this),i(this,b).execute(e)}},U=new WeakMap,K=new WeakMap,b=new WeakMap,M=new WeakMap,_=new WeakSet,ie=function(){var s,r;const e=(r=(s=i(this,b))==null?void 0:s.state)!=null?r:Be();c(this,K,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},be=function(e){ae.batch(()=>{var s,r,o,a,u,g,p,R;if(i(this,M)&&this.hasListeners()){const I=i(this,K).variables,l=i(this,K).context;(e==null?void 0:e.type)==="success"?((r=(s=i(this,M)).onSuccess)==null||r.call(s,e.data,I,l),(a=(o=i(this,M)).onSettled)==null||a.call(o,e.data,null,I,l)):(e==null?void 0:e.type)==="error"&&((g=(u=i(this,M)).onError)==null||g.call(u,e.error,I,l),(R=(p=i(this,M)).onSettled)==null||R.call(p,void 0,e.error,I,l))}this.listeners.forEach(I=>{I(i(this,K))})})},Ne),xe=A.createContext(!1),ct=()=>A.useContext(xe);xe.Provider;function lt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var dt=A.createContext(lt()),ft=()=>A.useContext(dt),pt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},yt=t=>{A.useEffect(()=>{t.clearReset()},[t])},Ct=({result:t,errorResetBoundary:e,throwOnError:s,query:r,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||Ue(s,[t.error,r])),St=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r!=null?r:1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>e(s(...r)):e(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Rt=(t,e)=>t.isLoading&&t.isFetching&&!e,mt=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,_e=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function bt(t,e,s){var l,W,y,V,G;const r=ct(),o=ft(),a=O(),u=a.defaultQueryOptions(t);(W=(l=a.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||W.call(l,u),u._optimisticResults=r?"isRestoring":"optimistic",St(u),pt(u,o),yt(o);const g=!a.getQueryCache().get(u.queryHash),[p]=A.useState(()=>new e(a,u)),R=p.getOptimisticResult(u),I=!r&&t.subscribed!==!1;if(A.useSyncExternalStore(A.useCallback(v=>{const ee=I?p.subscribe(ae.batchCalls(v)):ne;return p.updateResult(),ee},[p,I]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),A.useEffect(()=>{p.setOptions(u)},[u,p]),mt(u,R))throw _e(u,p,o);if(Ct({result:R,errorResetBoundary:o,throwOnError:u.throwOnError,query:a.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw R.error;if((V=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||V.call(y,u,R),u.experimental_prefetchInRender&&!le&&Rt(R,r)){const v=g?_e(u,p,o):(G=a.getQueryCache().get(u.queryHash))==null?void 0:G.promise;v==null||v.catch(ne).finally(()=>{p.updateResult()})}return u.notifyOnChangeProps?R:p.trackResult(R)}function k(t,e){return bt(t,at)}function T(t,e){const s=O(),[r]=A.useState(()=>new ht(s,t));A.useEffect(()=>{r.setOptions(t)},[r,t]);const o=A.useSyncExternalStore(A.useCallback(u=>r.subscribe(ae.batchCalls(u)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=A.useCallback((u,g)=>{r.mutate(u,g).catch(ne)},[r]);if(o.error&&Ue(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const C={FARMERS:P.FARMERS,CLAIMS:P.CLAIMS,FARMER_CLAIMS:t=>[P.CLAIMS,t],ASSISTANCES:P.ASSISTANCE,FARMER_APPLICATIONS:t=>[P.APPLICATIONS,t],ALL_APPLICATIONS:P.APPLICATIONS,CROP_INSURANCE:P.CROP_INSURANCE,FARMER_CROP_INSURANCE:t=>[P.CROP_INSURANCE,t],CROP_INSURANCE_STATS:"cropInsuranceStats",DASHBOARD_DATA:t=>["dashboardData",t]},Et=()=>k({queryKey:[C.FARMERS],queryFn:$e}),Ot=()=>{const t=O();return T({mutationFn:Ye,onSuccess:()=>{t.invalidateQueries({queryKey:[C.FARMERS]})}})},Ft=()=>{const t=O();return T({mutationFn:We,onSuccess:()=>{t.invalidateQueries({queryKey:[C.FARMERS]})}})},Qt=(t=null)=>k({queryKey:t?C.FARMER_CLAIMS(t):[C.CLAIMS],queryFn:()=>et(t)}),Tt=()=>{const t=O();return T({mutationFn:({id:e,updateData:s})=>Ve(e,s),onSuccess:()=>{t.invalidateQueries({queryKey:[C.CLAIMS]}),t.invalidateQueries({queryKey:["claims"]})}})},qt=()=>k({queryKey:[C.ASSISTANCES],queryFn:tt}),Mt=()=>{const t=O();return T({mutationFn:Ge,onSuccess:()=>{t.invalidateQueries({queryKey:[C.ASSISTANCES]})}})},_t=()=>{const t=O();return T({mutationFn:Je,onSuccess:()=>{t.invalidateQueries({queryKey:[C.ASSISTANCES]})}})},Pt=t=>k({queryKey:C.FARMER_APPLICATIONS(t),queryFn:()=>st(t),enabled:!!t}),Nt=()=>k({queryKey:[C.ALL_APPLICATIONS],queryFn:it}),Lt=()=>{const t=O();return T({mutationFn:Xe,onSuccess:()=>{t.invalidateQueries({queryKey:[C.ALL_APPLICATIONS]}),t.invalidateQueries({queryKey:["applications"]})}})},Ut=()=>{const t=O();return T({mutationFn:({applicationId:e,statusData:s})=>Ze(e,s),onSuccess:()=>{t.invalidateQueries({queryKey:[C.ALL_APPLICATIONS]}),t.invalidateQueries({queryKey:["applications"]})}})},Kt=(t=null)=>k({queryKey:t?C.FARMER_CROP_INSURANCE(t):[C.CROP_INSURANCE],queryFn:()=>rt(t)}),xt=()=>{const t=O();return T({mutationFn:je,onSuccess:()=>{t.invalidateQueries({queryKey:[C.CROP_INSURANCE]}),t.invalidateQueries({queryKey:["cropInsurance"]})}})},wt=()=>{const t=O();return T({mutationFn:({id:e,updateData:s})=>He(e,s),onSuccess:()=>{t.invalidateQueries({queryKey:[C.CROP_INSURANCE]}),t.invalidateQueries({queryKey:["cropInsurance"]})}})},Dt=()=>{const t=O();return T({mutationFn:ze,onSuccess:()=>{t.invalidateQueries({queryKey:[C.CROP_INSURANCE]}),t.invalidateQueries({queryKey:["cropInsurance"]})}})},kt=()=>k({queryKey:[C.CROP_INSURANCE_STATS],queryFn:nt});export{Kt as a,Ot as b,Ft as c,kt as d,xt as e,wt as f,Dt as g,Qt as h,qt as i,Nt as j,Tt as k,Ut as l,Mt as m,_t as n,Pt as o,Lt as p,Et as u};
