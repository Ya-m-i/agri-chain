import{r,u as w,a as v,j as e}from"./index-BuN-uhjc.js";import{f as b}from"./FarmLogo-Dn1-N7qe.js";import{a as j}from"./AgriLogo-XYbgWJXO.js";import{l as y}from"./api-BI7gw163.js";const S=()=>{const[a,g]=r.useState({username:"",password:""}),[s,h]=r.useState(!1),[o,n]=r.useState("");r.useEffect(()=>{console.log("Current mode:",s?"Admin":"Farmer")},[s]);const l=w(),{isAuthenticated:i,userType:d,login:c,logout:f}=v();r.useEffect(()=>{i&&l(d==="admin"?"/admin":"/farmer-dashboard")},[i,d,l]);const x=m=>{g({...a,[m.target.name]:m.target.value})},p=async m=>{if(m.preventDefault(),n(""),f(),s)a.username==="admin"&&a.password==="admin123"?(localStorage.setItem("isAdmin","true"),localStorage.removeItem("isFarmer"),c("admin"),console.log("Admin login successful, navigating to /admin"),l("/admin")):alert("Invalid admin credentials");else try{const t=await y(a.username,a.password);localStorage.setItem("isFarmer","true"),localStorage.removeItem("isAdmin");const u={...t,id:t._id||t.id,name:`${t.firstName||""} ${t.middleName||""} ${t.lastName||""}`.replace(/  +/g," ").trim(),phone:t.contactNum};console.log("Farmer login successful, userData:",u),c("farmer",u),l("/farmer-dashboard")}catch(t){n(t.message||"Invalid farmer credentials")}};return e.jsxs("div",{className:"h-screen w-screen overflow-hidden flex justify-center items-center bg-gradient-to-b from-lime-50 to-white relative px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:()=>{console.log("Toggling mode from",s,"to",!s),h(!s)},className:"absolute top-4 sm:top-6 right-4 sm:right-6 bg-white text-lime-800 px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium shadow-md hover:shadow-lg transition-all duration-300 border border-lime-200 hover:bg-lime-50 z-10 max-w-[200px] sm:max-w-none",children:[e.jsxs("span",{className:"hidden sm:inline",children:["Switch to ",s?"Farmer":"Admin"," Login"]}),e.jsx("span",{className:"sm:hidden",children:s?"Farmer":"Admin"})]}),e.jsxs("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-lg shadow-xl w-full max-w-sm sm:max-w-md lg:max-w-lg xl:max-w-xl border border-gray-100 transition-all duration-300 hover:shadow-2xl",children:[e.jsx("div",{className:"flex justify-center mb-4 sm:mb-6",children:s?e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 lg:w-45 lg:h-45 flex items-center justify-center",children:e.jsx("img",{src:j,alt:"Admin Logo",className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 lg:w-45 lg:h-45 flex items-center justify-center",children:e.jsx("img",{src:b,alt:"Farmer Logo",className:"w-full h-full object-contain"})})}),e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1 text-center text-lime-800",children:s?"ADMIN LOGIN":"FARMER LOGIN"}),e.jsx("p",{className:"text-gray-500 text-center mb-4 sm:mb-6 text-xs sm:text-sm lg:text-base",children:"Enter your credentials to access your account"}),e.jsxs("form",{onSubmit:p,className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsx("input",{id:"username",type:"text",name:"username",placeholder:"Enter your username",value:a.username,onChange:x,className:"w-full pl-8 sm:pl-10 pr-3 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),e.jsx("input",{id:"password",type:"password",name:"password",placeholder:"Enter your password",value:a.password,onChange:x,className:"w-full pl-8 sm:pl-10 pr-3 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent",required:!0})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-lime-800 text-white py-2 sm:py-3 rounded-lg hover:bg-lime-700 transition-colors duration-300 font-medium shadow-md hover:shadow-lg flex items-center justify-center text-sm sm:text-base",children:["Login",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})})]})]}),o&&e.jsx("div",{className:"mt-3 sm:mt-4 text-center text-red-600 font-medium text-xs sm:text-sm",children:o}),e.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:s?"Admin access only. Unauthorized access is prohibited.":"Secure login for registered farmers."})})]}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-16 sm:h-24 lg:h-32 bg-lime-800 opacity-5 rounded-b-full"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 sm:w-48 sm:h-48 lg:w-64 lg:h-64 bg-lime-800 opacity-5 rounded-full -mr-16 sm:-mr-24 lg:-mr-32 -mb-16 sm:-mb-24 lg:-mb-32"})]})};export{S as default};
