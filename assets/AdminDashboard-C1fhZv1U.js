const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-ZCof-of1.js","assets/index-DnKO_Y06.js","assets/index-tfE_9VrQ.css"])))=>i.map(i=>d[i]);
var Zw=Object.defineProperty;var Kw=(e,t,r)=>t in e?Zw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var uc=(e,t,r)=>Kw(e,typeof t!="symbol"?t+"":t,r);import{b as Hw,c as pt,g as Jr,r as _,j as a,d as Qd,V as ef,u as Yw,a as Gw,_ as jm}from"./index-DnKO_Y06.js";import{P as oa,u as je}from"./notificationStore-CGskvczz.js";import{a as Vw}from"./AgriLogo-XYbgWJXO.js";import{C as Ju,S as Zn,L as la,D as al,a as Ar,X as nt,B as tf,b as Ns,c as rf,d as nf,P as jy,e as Ny,f as af,p as Py,g as sl,h as ol,i as Ay,F as zr,U as Ir,T as Pr,A as sf,j as Qu,k as Ga,E as Sy,l as ed,m as Cy,n as Oy,o as Xw,q as Jw,r as td,I as ky,s as Qw,t as jo,u as ej,M as tj,v as rj,w as nj,x as ij,y as aj,z as Nm,G as sj,R as oj}from"./insuranceUtils-Dtnwxilh.js";import{u as of,a as lf,b as Ty,c as Ey,d as lj,e as cj,f as uj,g as dj,h as fj,i as hj,j as mj,k as pj,l as gj,m as vj,n as yj}from"./useAPI-QzZfegmg.js";import{f as xj}from"./api--ZPKW_Nf.js";import{T as bj,M as dc}from"./trash-2-C4VbChiW.js";var My=Hw();/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wj=pt("activity",_j);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Nj=pt("camera",jj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Aj=pt("chart-column",Pj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Cj=pt("chart-no-axes-column-increasing",Sj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],kj=pt("chart-pie",Oj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dy=pt("check",Tj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],so=pt("clipboard-check",Ej);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pm=pt("dollar-sign",Mj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Lj=pt("download",Dj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rj=pt("funnel",Ij);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M11 12h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 14",key:"1j4xps"}],["path",{d:"m7 18 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"uospg8"}],["path",{d:"m2 13 6 6",key:"16e5sb"}]],$j=pt("hand-helping",zj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pn=pt("layers",Bj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Am=pt("layout-dashboard",Fj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lr=pt("map-pin",qj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Uj=pt("thumbs-down",Wj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Kj=pt("thumbs-up",Zj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],cf=pt("trending-up",Hj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],No=pt("truck",Yj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Un=pt("user-plus",Gj);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],rd=pt("users",Vj);var is={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Xj=is.exports,Sm;function Jj(){return Sm||(Sm=1,function(e,t){(function(r,n){n(t)})(Xj,function(r){var n="1.9.4";function s(i){var l,d,g,y;for(d=1,g=arguments.length;d<g;d++){y=arguments[d];for(l in y)i[l]=y[l]}return i}var o=Object.create||function(){function i(){}return function(l){return i.prototype=l,new i}}();function c(i,l){var d=Array.prototype.slice;if(i.bind)return i.bind.apply(i,d.call(arguments,1));var g=d.call(arguments,2);return function(){return i.apply(l,g.length?g.concat(d.call(arguments)):arguments)}}var u=0;function f(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function m(i,l,d){var g,y,P,E;return E=function(){g=!1,y&&(P.apply(d,y),y=!1)},P=function(){g?y=arguments:(i.apply(d,arguments),setTimeout(E,l),g=!0)},P}function h(i,l,d){var g=l[1],y=l[0],P=g-y;return i===g&&d?i:((i-y)%P+P)%P+y}function p(){return!1}function v(i,l){if(l===!1)return i;var d=Math.pow(10,l===void 0?6:l);return Math.round(i*d)/d}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function j(i){return x(i).split(/\s+/)}function b(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var d in l)i.options[d]=l[d];return i.options}function w(i,l,d){var g=[];for(var y in i)g.push(encodeURIComponent(d?y.toUpperCase():y)+"="+encodeURIComponent(i[y]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function S(i,l){return i.replace(A,function(d,g){var y=l[g];if(y===void 0)throw new Error("No value provided for variable "+d);return typeof y=="function"&&(y=y(l)),y})}var C=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function T(i,l){for(var d=0;d<i.length;d++)if(i[d]===l)return d;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var I=0;function F(i){var l=+new Date,d=Math.max(0,16-(l-I));return I=l+d,window.setTimeout(i,d)}var K=window.requestAnimationFrame||O("RequestAnimationFrame")||F,Y=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Q(i,l,d){if(d&&K===F)i.call(l);else return K.call(window,c(i,l))}function X(i){i&&Y.call(window,i)}var te={__proto__:null,extend:s,create:o,bind:c,get lastId(){return u},stamp:f,throttle:m,wrapNum:h,falseFn:p,formatNum:v,trim:x,splitWords:j,setOptions:b,getParamString:w,template:S,isArray:C,indexOf:T,emptyImageUrl:k,requestFn:K,cancelFn:Y,requestAnimFrame:Q,cancelAnimFrame:X};function de(){}de.extend=function(i){var l=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,g=o(d);g.constructor=l,l.prototype=g;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return i.statics&&s(l,i.statics),i.includes&&(be(i.includes),s.apply(null,[g].concat(i.includes))),s(g,i),delete g.statics,delete g.includes,g.options&&(g.options=d.options?o(d.options):{},s(g.options,i.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,E=g._initHooks.length;P<E;P++)g._initHooks[P].call(this)}},l},de.include=function(i){var l=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},de.mergeOptions=function(i){return s(this.prototype.options,i),this},de.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),d=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function be(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=C(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pe={on:function(i,l,d){if(typeof i=="object")for(var g in i)this._on(g,i[g],l);else{i=j(i);for(var y=0,P=i.length;y<P;y++)this._on(i[y],l,d)}return this},off:function(i,l,d){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var g in i)this._off(g,i[g],l);else{i=j(i);for(var y=arguments.length===1,P=0,E=i.length;P<E;P++)y?this._off(i[P]):this._off(i[P],l,d)}return this},_on:function(i,l,d,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,d)===!1){d===this&&(d=void 0);var y={fn:l,ctx:d};g&&(y.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(y)}},_off:function(i,l,d){var g,y,P;if(this._events&&(g=this._events[i],!!g)){if(arguments.length===1){if(this._firingCount)for(y=0,P=g.length;y<P;y++)g[y].fn=p;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var E=this._listens(i,l,d);if(E!==!1){var R=g[E];this._firingCount&&(R.fn=p,this._events[i]=g=g.slice()),g.splice(E,1)}}},fire:function(i,l,d){if(!this.listens(i,d))return this;var g=s({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[i];if(y){this._firingCount=this._firingCount+1||1;for(var P=0,E=y.length;P<E;P++){var R=y[P],B=R.fn;R.once&&this.off(i,B,R.ctx),B.call(R.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(i,l,d,g){typeof i!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(g=!!l,y=void 0,d=void 0);var P=this._events&&this._events[i];if(P&&P.length&&this._listens(i,y,d)!==!1)return!0;if(g){for(var E in this._eventParents)if(this._eventParents[E].listens(i,l,d,g))return!0}return!1},_listens:function(i,l,d){if(!this._events)return!1;var g=this._events[i]||[];if(!l)return!!g.length;d===this&&(d=void 0);for(var y=0,P=g.length;y<P;y++)if(g[y].fn===l&&g[y].ctx===d)return y;return!1},once:function(i,l,d){if(typeof i=="object")for(var g in i)this._on(g,i[g],l,!0);else{i=j(i);for(var y=0,P=i.length;y<P;y++)this._on(i[y],l,d,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[f(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[f(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};pe.addEventListener=pe.on,pe.removeEventListener=pe.clearAllEventListeners=pe.off,pe.addOneTimeEventListener=pe.once,pe.fireEvent=pe.fire,pe.hasEventListeners=pe.listens;var Te=de.extend(pe);function q(i,l,d){this.x=d?Math.round(i):i,this.y=d?Math.round(l):l}var ce=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(i){return this.clone()._add(G(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(G(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new q(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new q(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(i){i=G(i);var l=i.x-this.x,d=i.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(i){return i=G(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=G(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function G(i,l,d){return i instanceof q?i:C(i)?new q(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new q(i.x,i.y):new q(i,l,d)}function he(i,l){if(i)for(var d=l?[i,l]:i,g=0,y=d.length;g<y;g++)this.extend(d[g])}he.prototype={extend:function(i){var l,d;if(!i)return this;if(i instanceof q||typeof i[0]=="number"||"x"in i)l=d=G(i);else if(i=D(i),l=i.min,d=i.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(i){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,d;return typeof i[0]=="number"||i instanceof q?i=G(i):i=D(i),i instanceof he?(l=i.min,d=i.max):l=d=i,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(i){i=D(i);var l=this.min,d=this.max,g=i.min,y=i.max,P=y.x>=l.x&&g.x<=d.x,E=y.y>=l.y&&g.y<=d.y;return P&&E},overlaps:function(i){i=D(i);var l=this.min,d=this.max,g=i.min,y=i.max,P=y.x>l.x&&g.x<d.x,E=y.y>l.y&&g.y<d.y;return P&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,d=this.max,g=Math.abs(l.x-d.x)*i,y=Math.abs(l.y-d.y)*i;return D(G(l.x-g,l.y-y),G(d.x+g,d.y+y))},equals:function(i){return i?(i=D(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function D(i,l){return!i||i instanceof he?i:new he(i,l)}function V(i,l){if(i)for(var d=l?[i,l]:i,g=0,y=d.length;g<y;g++)this.extend(d[g])}V.prototype={extend:function(i){var l=this._southWest,d=this._northEast,g,y;if(i instanceof ae)g=i,y=i;else if(i instanceof V){if(g=i._southWest,y=i._northEast,!g||!y)return this}else return i?this.extend(re(i)||se(i)):this;return!l&&!d?(this._southWest=new ae(g.lat,g.lng),this._northEast=new ae(y.lat,y.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),d.lat=Math.max(y.lat,d.lat),d.lng=Math.max(y.lng,d.lng)),this},pad:function(i){var l=this._southWest,d=this._northEast,g=Math.abs(l.lat-d.lat)*i,y=Math.abs(l.lng-d.lng)*i;return new V(new ae(l.lat-g,l.lng-y),new ae(d.lat+g,d.lng+y))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ae||"lat"in i?i=re(i):i=se(i);var l=this._southWest,d=this._northEast,g,y;return i instanceof V?(g=i.getSouthWest(),y=i.getNorthEast()):g=y=i,g.lat>=l.lat&&y.lat<=d.lat&&g.lng>=l.lng&&y.lng<=d.lng},intersects:function(i){i=se(i);var l=this._southWest,d=this._northEast,g=i.getSouthWest(),y=i.getNorthEast(),P=y.lat>=l.lat&&g.lat<=d.lat,E=y.lng>=l.lng&&g.lng<=d.lng;return P&&E},overlaps:function(i){i=se(i);var l=this._southWest,d=this._northEast,g=i.getSouthWest(),y=i.getNorthEast(),P=y.lat>l.lat&&g.lat<d.lat,E=y.lng>l.lng&&g.lng<d.lng;return P&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=se(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(i,l){return i instanceof V?i:new V(i,l)}function ae(i,l,d){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,d!==void 0&&(this.alt=+d)}ae.prototype={equals:function(i,l){if(!i)return!1;i=re(i);var d=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return d<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return ze.distance(this,re(i))},wrap:function(){return ze.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,d=l/Math.cos(Math.PI/180*this.lat);return se([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function re(i,l,d){return i instanceof ae?i:C(i)&&typeof i[0]!="object"?i.length===3?new ae(i[0],i[1],i[2]):i.length===2?new ae(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ae(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new ae(i,l,d)}var Ne={latLngToPoint:function(i,l){var d=this.projection.project(i),g=this.scale(l);return this.transformation._transform(d,g)},pointToLatLng:function(i,l){var d=this.scale(l),g=this.transformation.untransform(i,d);return this.projection.unproject(g)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(i),g=this.transformation.transform(l.min,d),y=this.transformation.transform(l.max,d);return new he(g,y)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?h(i.lng,this.wrapLng,!0):i.lng,d=this.wrapLat?h(i.lat,this.wrapLat,!0):i.lat,g=i.alt;return new ae(d,l,g)},wrapLatLngBounds:function(i){var l=i.getCenter(),d=this.wrapLatLng(l),g=l.lat-d.lat,y=l.lng-d.lng;if(g===0&&y===0)return i;var P=i.getSouthWest(),E=i.getNorthEast(),R=new ae(P.lat-g,P.lng-y),B=new ae(E.lat-g,E.lng-y);return new V(R,B)}},ze=s({},Ne,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var d=Math.PI/180,g=i.lat*d,y=l.lat*d,P=Math.sin((l.lat-i.lat)*d/2),E=Math.sin((l.lng-i.lng)*d/2),R=P*P+Math.cos(g)*Math.cos(y)*E*E,B=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*B}}),J=6378137,W={R:J,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,i.lat),-d),y=Math.sin(g*l);return new q(this.R*i.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(i){var l=180/Math.PI;return new ae((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:function(){var i=J*Math.PI;return new he([-i,-i],[i,i])}()};function ee(i,l,d,g){if(C(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=d,this._d=g}ee.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new q((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Z(i,l,d,g){return new ee(i,l,d,g)}var Ee=s({},ze,{code:"EPSG:3857",projection:W,transformation:function(){var i=.5/(Math.PI*W.R);return Z(i,.5,-i,.5)}()}),Ce=s({},Ee,{code:"EPSG:900913"});function it(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Fe(i,l){var d="",g,y,P,E,R,B;for(g=0,P=i.length;g<P;g++){for(R=i[g],y=0,E=R.length;y<E;y++)B=R[y],d+=(y?"L":"M")+B.x+" "+B.y;d+=l?oe.svg?"z":"x":""}return d||"M0 0"}var ct=document.documentElement.style,It="ActiveXObject"in window,$=It&&!document.addEventListener,ge="msLaunchUri"in navigator&&!("documentMode"in document),_e=Yt("webkit"),Ae=Yt("android"),Se=Yt("android 2")||Yt("android 3"),bt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ei=Ae&&Yt("Google")&&bt<537&&!("AudioNode"in window),Qr=!!window.opera,Fr=!ge&&Yt("chrome"),Oe=Yt("gecko")&&!_e&&!Qr&&!It,at=!Fr&&Yt("safari"),mr=Yt("phantom"),Kt="OTransition"in ct,kt=navigator.platform.indexOf("Win")===0,en=It&&"transition"in ct,Ht="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,pr="MozPerspective"in ct,gr=!window.L_DISABLE_3D&&(en||Ht||pr)&&!Kt&&!mr,gt=typeof orientation<"u"||Yt("mobile"),Ls=gt&&_e,Is=gt&&Ht,Bi=!window.PointerEvent&&window.MSPointerEvent,Fi=!!(window.PointerEvent||Bi),Rs="ontouchstart"in window||!!window.TouchEvent,Ul=!window.L_NO_TOUCH&&(Rs||Fi),Zl=gt&&Qr,Kl=gt&&Oe,ti=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Hl=function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",p,l),window.removeEventListener("testPassiveEventSupport",p,l)}catch{}return i}(),zs=function(){return!!document.createElement("canvas").getContext}(),ri=!!(document.createElementNS&&it("svg").createSVGRect),Ca=!!ri&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$s=!ri&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Yl=navigator.platform.indexOf("Mac")===0,ni=navigator.platform.indexOf("Linux")===0;function Yt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var oe={ie:It,ielt9:$,edge:ge,webkit:_e,android:Ae,android23:Se,androidStock:ei,opera:Qr,chrome:Fr,gecko:Oe,safari:at,phantom:mr,opera12:Kt,win:kt,ie3d:en,webkit3d:Ht,gecko3d:pr,any3d:gr,mobile:gt,mobileWebkit:Ls,mobileWebkit3d:Is,msPointer:Bi,pointer:Fi,touch:Ul,touchNative:Rs,mobileOpera:Zl,mobileGecko:Kl,retina:ti,passiveEvents:Hl,canvas:zs,svg:ri,vml:$s,inlineSvg:Ca,mac:Yl,linux:ni},On=oe.msPointer?"MSPointerDown":"pointerdown",vr=oe.msPointer?"MSPointerMove":"pointermove",tn=oe.msPointer?"MSPointerUp":"pointerup",rn=oe.msPointer?"MSPointerCancel":"pointercancel",Oa={touchstart:On,touchmove:vr,touchend:tn,touchcancel:rn},qi={touchstart:Xl,touchmove:me,touchend:me,touchcancel:me},kn={},ii=!1;function Gl(i,l,d){return l==="touchstart"&&Tn(),qi[l]?(d=qi[l].bind(this,d),i.addEventListener(Oa[l],d,!1),d):(console.warn("wrong event specified:",l),p)}function Wi(i,l,d){if(!Oa[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(Oa[l],d,!1)}function Vl(i){kn[i.pointerId]=i}function Ui(i){kn[i.pointerId]&&(kn[i.pointerId]=i)}function Bs(i){delete kn[i.pointerId]}function Tn(){ii||(document.addEventListener(On,Vl,!0),document.addEventListener(vr,Ui,!0),document.addEventListener(tn,Bs,!0),document.addEventListener(rn,Bs,!0),ii=!0)}function me(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in kn)l.touches.push(kn[d]);l.changedTouches=[l],i(l)}}function Xl(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ut(l),me(i,l)}function Jl(i){var l={},d,g;for(g in i)d=i[g],l[g]=d&&d.bind?d.bind(i):d;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Fs=200;function Ql(i,l){i.addEventListener("dblclick",l);var d=0,g;function y(P){if(P.detail!==1){g=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var E=Ur(P);if(!(E.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!E.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var R=Date.now();R-d<=Fs?(g++,g===2&&l(Jl(P))):g=1,d=R}}}return i.addEventListener("click",y),{dblclick:l,simDblclick:y}}function qs(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var ai=Dn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),En=Dn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_t=En==="webkitTransition"||En==="OTransition"?En+"End":"transitionend";function si(i){return typeof i=="string"?document.getElementById(i):i}function Mn(i,l){var d=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(i,null);d=g?g[l]:null}return d==="auto"?null:d}function Le(i,l,d){var g=document.createElement(i);return g.className=l||"",d&&d.appendChild(g),g}function Xe(i){var l=i.parentNode;l&&l.removeChild(i)}function st(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function qr(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function Ft(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function oi(i,l){if(i.classList!==void 0)return i.classList.contains(l);var d=an(i);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function we(i,l){if(i.classList!==void 0)for(var d=j(l),g=0,y=d.length;g<y;g++)i.classList.add(d[g]);else if(!oi(i,l)){var P=an(i);nn(i,(P?P+" ":"")+l)}}function Je(i,l){i.classList!==void 0?i.classList.remove(l):nn(i,x((" "+an(i)+" ").replace(" "+l+" "," ")))}function nn(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function an(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Gt(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&ec(i,l)}function ec(i,l){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=i.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):i.style.filter+=" progid:"+g+"(opacity="+l+")"}function Dn(i){for(var l=document.documentElement.style,d=0;d<i.length;d++)if(i[d]in l)return i[d];return!1}function yr(i,l,d){var g=l||new q(0,0);i.style[ai]=(oe.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function ot(i,l){i._leaflet_pos=l,oe.any3d?yr(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function Wr(i){return i._leaflet_pos||new q(0,0)}var sn,li,ka;if("onselectstart"in document)sn=function(){ye(window,"selectstart",ut)},li=function(){qe(window,"selectstart",ut)};else{var ci=Dn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);sn=function(){if(ci){var i=document.documentElement.style;ka=i[ci],i[ci]="none"}},li=function(){ci&&(document.documentElement.style[ci]=ka,ka=void 0)}}function Ta(){ye(window,"dragstart",ut)}function Ea(){qe(window,"dragstart",ut)}var Zi,Ma;function Da(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Ki(),Zi=i,Ma=i.style.outlineStyle,i.style.outlineStyle="none",ye(window,"keydown",Ki))}function Ki(){Zi&&(Zi.style.outlineStyle=Ma,Zi=void 0,Ma=void 0,qe(window,"keydown",Ki))}function Ws(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function La(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var er={__proto__:null,TRANSFORM:ai,TRANSITION:En,TRANSITION_END:_t,get:si,getStyle:Mn,create:Le,remove:Xe,empty:st,toFront:qr,toBack:Ft,hasClass:oi,addClass:we,removeClass:Je,setClass:nn,getClass:an,setOpacity:Gt,testProp:Dn,setTransform:yr,setPosition:ot,getPosition:Wr,get disableTextSelection(){return sn},get enableTextSelection(){return li},disableImageDrag:Ta,enableImageDrag:Ea,preventOutline:Da,restoreOutline:Ki,getSizedParentNode:Ws,getScale:La};function ye(i,l,d,g){if(l&&typeof l=="object")for(var y in l)Ra(i,y,l[y],d);else{l=j(l);for(var P=0,E=l.length;P<E;P++)Ra(i,l[P],d,g)}return this}var tr="_leaflet_events";function qe(i,l,d,g){if(arguments.length===1)Us(i),delete i[tr];else if(l&&typeof l=="object")for(var y in l)za(i,y,l[y],d);else if(l=j(l),arguments.length===2)Us(i,function(R){return T(l,R)!==-1});else for(var P=0,E=l.length;P<E;P++)za(i,l[P],d,g);return this}function Us(i,l){for(var d in i[tr]){var g=d.split(/\d/)[0];(!l||l(g))&&za(i,g,null,null,d)}}var Ia={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ra(i,l,d,g){var y=l+f(d)+(g?"_"+f(g):"");if(i[tr]&&i[tr][y])return this;var P=function(R){return d.call(g||i,R||window.event)},E=P;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?P=Gl(i,l,P):oe.touch&&l==="dblclick"?P=Ql(i,P):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(Ia[l]||l,P,oe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(P=function(R){R=R||window.event,di(i,R)&&E(R)},i.addEventListener(Ia[l],P,!1)):i.addEventListener(l,E,!1):i.attachEvent("on"+l,P),i[tr]=i[tr]||{},i[tr][y]=P}function za(i,l,d,g,y){y=y||l+f(d)+(g?"_"+f(g):"");var P=i[tr]&&i[tr][y];if(!P)return this;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?Wi(i,l,P):oe.touch&&l==="dblclick"?qs(i,P):"removeEventListener"in i?i.removeEventListener(Ia[l]||l,P,!1):i.detachEvent("on"+l,P),i[tr][y]=null}function on(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function $a(i){return Ra(i,"wheel",on),this}function qt(i){return ye(i,"mousedown touchstart dblclick contextmenu",on),i._leaflet_disable_click=!0,this}function ut(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Er(i){return ut(i),on(i),this}function Ur(i){if(i.composedPath)return i.composedPath();for(var l=[],d=i.target;d;)l.push(d),d=d.parentNode;return l}function ui(i,l){if(!l)return new q(i.clientX,i.clientY);var d=La(l),g=d.boundingClientRect;return new q((i.clientX-g.left)/d.x-l.clientLeft,(i.clientY-g.top)/d.y-l.clientTop)}var Hi=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Zs(i){return oe.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Hi:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function di(i,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==i;)d=d.parentNode}catch{return!1}return d!==i}var wt={__proto__:null,on:ye,off:qe,stopPropagation:on,disableScrollPropagation:$a,disableClickPropagation:qt,preventDefault:ut,stop:Er,getPropagationPath:Ur,getMousePosition:ui,getWheelDelta:Zs,isExternalTarget:di,addListener:ye,removeListener:qe},Ba=Te.extend({run:function(i,l,d,g){this.stop(),this._el=i,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Wr(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var d=this._startPos.add(this._offset.multiplyBy(i));l&&d._round(),ot(this._el,d),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ke=Te.extend({options:{crs:Ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=b(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(re(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=En&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,_t,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(re(i),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=s({animate:d.animate},d.zoom),d.pan=s({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,d.zoom):this._tryAnimatedPan(i,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,d){var g=this.getZoomScale(l),y=this.getSize().divideBy(2),P=i instanceof q?i:this.latLngToContainerPoint(i),E=P.subtract(y).multiplyBy(1-1/g),R=this.containerPointToLatLng(y.add(E));return this.setView(R,l,{zoom:d})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():se(i);var d=G(l.paddingTopLeft||l.padding||[0,0]),g=G(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(i,!1,d.add(g));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:i.getCenter(),zoom:y};var P=g.subtract(d).divideBy(2),E=this.project(i.getSouthWest(),y),R=this.project(i.getNorthEast(),y),B=this.unproject(E.add(R).divideBy(2).add(P),y);return{center:B,zoom:y}},fitBounds:function(i,l){if(i=se(i),!i.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(i,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=G(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){we(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,d){if(d=d||{},d.animate===!1||!oe.any3d)return this.setView(i,l,d);this._stop();var g=this.project(this.getCenter()),y=this.project(i),P=this.getSize(),E=this._zoom;i=re(i),l=l===void 0?E:l;var R=Math.max(P.x,P.y),B=R*this.getZoomScale(E,l),H=y.distanceTo(g)||1,ie=1.42,xe=ie*ie;function Pe(ft){var ao=ft?-1:1,Fw=ft?B:R,qw=B*B-R*R+ao*xe*xe*H*H,Ww=2*Fw*xe*H,cc=qw/Ww,wm=Math.sqrt(cc*cc+1)-cc,Uw=wm<1e-9?-18:Math.log(wm);return Uw}function Ut(ft){return(Math.exp(ft)-Math.exp(-ft))/2}function Nt(ft){return(Math.exp(ft)+Math.exp(-ft))/2}function xr(ft){return Ut(ft)/Nt(ft)}var Vt=Pe(0);function ea(ft){return R*(Nt(Vt)/Nt(Vt+ie*ft))}function Rw(ft){return R*(Nt(Vt)*xr(Vt+ie*ft)-Ut(Vt))/xe}function zw(ft){return 1-Math.pow(1-ft,1.5)}var $w=Date.now(),bm=(Pe(1)-Vt)/ie,Bw=d.duration?1e3*d.duration:1e3*bm*.8;function _m(){var ft=(Date.now()-$w)/Bw,ao=zw(ft)*bm;ft<=1?(this._flyToFrame=Q(_m,this),this._move(this.unproject(g.add(y.subtract(g).multiplyBy(Rw(ao)/H)),E),this.getScaleZoom(R/ea(ao),E),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),_m.call(this),this},flyToBounds:function(i,l){var d=this._getBoundsCenterZoom(i,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(i){return i=se(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,se(i));return d.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var d=G(l.paddingTopLeft||l.padding||[0,0]),g=G(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),P=this.project(i),E=this.getPixelBounds(),R=D([E.min.add(d),E.max.subtract(g)]),B=R.getSize();if(!R.contains(P)){this._enforcingBounds=!0;var H=P.subtract(R.getCenter()),ie=R.extend(P).getSize().subtract(B);y.x+=H.x<0?-ie.x:ie.x,y.y+=H.y<0?-ie.y:ie.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=l.divideBy(2).round(),y=d.divideBy(2).round(),P=g.subtract(y);return!P.x&&!P.y?this:(i.animate&&i.pan?this.panBy(P):(i.pan&&this._rawPanBy(P),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=c(this._handleGeolocationResponse,this),d=c(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,i):navigator.geolocation.getCurrentPosition(l,d,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,d=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,d=i.coords.longitude,g=new ae(l,d),y=g.toBounds(i.coords.accuracy*2),P=this._locateOptions;if(P.setView){var E=this.getBoundsZoom(y);this.setView(g,P.maxZoom?Math.min(E,P.maxZoom):E)}var R={latlng:g,bounds:y,timestamp:i.timestamp};for(var B in i.coords)typeof i.coords[B]=="number"&&(R[B]=i.coords[B]);this.fire("locationfound",R)}},addHandler:function(i,l){if(!l)return this;var d=this[i]=new l(this);return this._handlers.push(d),this.options[i]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Xe(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var d="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),g=Le("div",d,l||this._mapPane);return i&&(this._panes[i]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),d=this.unproject(i.getTopRight());return new V(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,d){i=se(i),d=G(d||[0,0]);var g=this.getZoom()||0,y=this.getMinZoom(),P=this.getMaxZoom(),E=i.getNorthWest(),R=i.getSouthEast(),B=this.getSize().subtract(d),H=D(this.project(R,g),this.project(E,g)).getSize(),ie=oe.any3d?this.options.zoomSnap:1,xe=B.x/H.x,Pe=B.y/H.y,Ut=l?Math.max(xe,Pe):Math.min(xe,Pe);return g=this.getScaleZoom(Ut,g),ie&&(g=Math.round(g/(ie/100))*(ie/100),g=l?Math.ceil(g/ie)*ie:Math.floor(g/ie)*ie),Math.max(y,Math.min(P,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var d=this._getTopLeftPoint(i,l);return new he(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(i)/d.scale(l)},getScaleZoom:function(i,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var g=d.zoom(i*d.scale(l));return isNaN(g)?1/0:g},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(re(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(G(i),l)},layerPointToLatLng:function(i){var l=G(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(re(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(re(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(se(i))},distance:function(i,l){return this.options.crs.distance(re(i),re(l))},containerPointToLayerPoint:function(i){return G(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return G(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(G(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(re(i)))},mouseEventToContainerPoint:function(i){return ui(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=si(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(l,"scroll",this._onScroll,this),this._containerId=f(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,we(i,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Mn(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ot(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(i.markerPane,"leaflet-zoom-hide"),we(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,d){ot(this._mapPane,new q(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,d)._move(i,l)._moveEnd(y),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,d,g){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),g?d&&d.pinch&&this.fire("zoom",d):((y||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){ot(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[f(this._container)]=this;var l=i?qe:ye;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var d=[],g,y=l==="mouseout"||l==="mouseover",P=i.target||i.srcElement,E=!1;P;){if(g=this._targets[f(P)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){E=!0;break}if(g&&g.listens(l,!0)&&(y&&!di(P,i)||(d.push(g),y))||P===this._container)break;P=P.parentNode}return!d.length&&!E&&!y&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var d=i.type;d==="mousedown"&&Da(l),this._fireDOMEvent(i,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,d){if(i.type==="click"){var g=s({},i);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var y=this._findEventTargets(i,l);if(d){for(var P=[],E=0;E<d.length;E++)d[E].listens(l,!0)&&P.push(d[E]);y=P.concat(y)}if(y.length){l==="contextmenu"&&ut(i);var R=y[0],B={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var H=R.getLatLng&&(!R._radius||R._radius<=10);B.containerPoint=H?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(i),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=H?R.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(E=0;E<y.length;E++)if(y[E].fire(l,B,!0),B.originalEvent._stopped||y[E].options.bubblingMouseEvents===!1&&T(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return Wr(this._mapPane)||new q(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var d=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var d=this.getSize()._divideBy(2);return this.project(i,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,d){var g=this._getNewPixelOrigin(d,l);return this.project(i,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(i,l,d){var g=this._getNewPixelOrigin(d,l);return D([this.project(i.getSouthWest(),l)._subtract(g),this.project(i.getNorthWest(),l)._subtract(g),this.project(i.getSouthEast(),l)._subtract(g),this.project(i.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,d){if(!d)return i;var g=this.project(i,l),y=this.getSize().divideBy(2),P=new he(g.subtract(y),g.add(y)),E=this._getBoundsOffset(P,d,l);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?i:this.unproject(g.add(E),l)},_limitOffset:function(i,l){if(!l)return i;var d=this.getPixelBounds(),g=new he(d.min.add(i),d.max.add(i));return i.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(i,l,d){var g=D(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),y=g.min.subtract(i.min),P=g.max.subtract(i.max),E=this._rebound(y.x,-P.x),R=this._rebound(y.y,-P.y);return new q(E,R)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),d=this.getMaxZoom(),g=oe.any3d?this.options.zoomSnap:1;return g&&(i=Math.round(i/g)*g),Math.max(l,Math.min(d,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var d=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var i=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var d=ai,g=this._proxy.style[d];yr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();yr(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),y=this._getCenterOffset(i)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(y)?!1:(Q(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tc(i,l){return new ke(i,l)}var rr=de.extend({options:{position:"topright"},initialize:function(i){b(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),d=this.getPosition(),g=i._controlCorners[d];return we(l,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Ln=function(i){return new rr(i)};ke.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",d=this._controlContainer=Le("div",l+"control-container",this._container);function g(y,P){var E=l+y+" "+l+P;i[y+P]=Le("div",E,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Xe(this._controlCorners[i]);Xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var N=rr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,d,g){return d<g?-1:g<d?1:0}},initialize:function(i,l,d){b(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in i)this._addLayer(i[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return rr.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(f(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=Le("div",i),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),qt(l),$a(l);var g=this._section=Le("section",i+"-list");d&&(this._map.on("click",this.collapse,this),ye(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Le("a",i+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),ye(y,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){ut(P),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Le("div",i+"-base",g),this._separator=Le("div",i+"-separator",g),this._overlaysList=Le("div",i+"-overlays",g),l.appendChild(g)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&f(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,d){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(c(function(g,y){return this.options.sortFunction(g.layer,y.layer,g.name,y.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;st(this._baseLayersList),st(this._overlaysList),this._layerControlInputs=[];var i,l,d,g,y=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),l=l||g.overlay,i=i||!g.overlay,y+=g.overlay?0:1;return this.options.hideSingleBase&&(i=i&&y>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(f(i.target)),d=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(i,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(i){var l=document.createElement("label"),d=this._map.hasLayer(i.layer),g;i.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+f(this),d),this._layerControlInputs.push(g),g.layerId=f(i.layer),ye(g,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+i.name;var P=document.createElement("span");l.appendChild(P),P.appendChild(g),P.appendChild(y);var E=i.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,d,g=[],y=[];this._handlingClick=!0;for(var P=i.length-1;P>=0;P--)l=i[P],d=this._getLayer(l.layerId).layer,l.checked?g.push(d):l.checked||y.push(d);for(P=0;P<y.length;P++)this._map.hasLayer(y[P])&&this._map.removeLayer(y[P]);for(P=0;P<g.length;P++)this._map.hasLayer(g[P])||this._map.addLayer(g[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,d,g=this._map.getZoom(),y=i.length-1;y>=0;y--)l=i[y],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ye(i,"click",ut),this.expand();var l=this;setTimeout(function(){qe(i,"click",ut),l._preventClick=!1})}}),M=function(i,l,d){return new N(i,l,d)},z=rr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",d=Le("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,d,g,y){var P=Le("a",d,g);return P.innerHTML=i,P.href="#",P.title=l,P.setAttribute("role","button"),P.setAttribute("aria-label",l),qt(P),ye(P,"click",Er),ye(P,"click",y,this),ye(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";Je(this._zoomInButton,l),Je(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(we(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(we(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ke.mergeOptions({zoomControl:!0}),ke.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new z,this.addControl(this.zoomControl))});var ne=function(i){return new z(i)},ve=rr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",d=Le("div",l),g=this.options;return this._addScales(g,l+"-line",d),i.on(g.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),d},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,d){i.metric&&(this._mScale=Le("div",l,d)),i.imperial&&(this._iScale=Le("div",l,d))},_update:function(){var i=this._map,l=i.getSize().y/2,d=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/i)},_updateImperial:function(i){var l=i*3.2808399,d,g,y;l>5280?(d=l/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(i,l,d){i.style.width=Math.round(this.options.maxWidth*d)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),d=i/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),Ie=function(i){return new ve(i)},$e='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Me=rr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?$e+" ":"")+"Leaflet</a>"},initialize:function(i){b(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),qt(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),i.length&&d.push(i.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});ke.mergeOptions({attributionControl:!0}),ke.addInitHook(function(){this.options.attributionControl&&new Me().addTo(this)});var Ye=function(i){return new Me(i)};rr.Layers=N,rr.Zoom=z,rr.Scale=ve,rr.Attribution=Me,Ln.layers=M,Ln.zoom=ne,Ln.scale=Ie,Ln.attribution=Ye;var Qe=de.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(i,l){return i.addHandler(l,this),this};var lt={Events:pe},vt=oe.touch?"touchstart mousedown":"mousedown",tt=Te.extend({options:{clickTolerance:3},initialize:function(i,l,d,g){b(this,g),this._element=i,this._dragStartTarget=l||i,this._preventOutline=d},enable:function(){this._enabled||(ye(this._dragStartTarget,vt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(tt._dragging===this&&this.finishDrag(!0),qe(this._dragStartTarget,vt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!oi(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){tt._dragging===this&&this.finishDrag();return}if(!(tt._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(tt._dragging=this,this._preventOutline&&Da(this._element),Ta(),sn(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,d=Ws(this._element);this._startPoint=new q(l.clientX,l.clientY),this._startPos=Wr(this._element),this._parentScale=La(d);var g=i.type==="mousedown";ye(document,g?"mousemove":"touchmove",this._onMove,this),ye(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,d=new q(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ut(i),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),ot(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qe(document,"mousemove touchmove",this._onMove,this),qe(document,"mouseup touchend touchcancel",this._onUp,this),Ea(),li();var l=this._moved&&this._moving;this._moving=!1,tt._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function jt(i,l,d){var g,y=[1,4,2,8],P,E,R,B,H,ie,xe,Pe;for(P=0,ie=i.length;P<ie;P++)i[P]._code=zn(i[P],l);for(R=0;R<4;R++){for(xe=y[R],g=[],P=0,ie=i.length,E=ie-1;P<ie;E=P++)B=i[P],H=i[E],B._code&xe?H._code&xe||(Pe=Yi(H,B,xe,l,d),Pe._code=zn(Pe,l),g.push(Pe)):(H._code&xe&&(Pe=Yi(H,B,xe,l,d),Pe._code=zn(Pe,l),g.push(Pe)),g.push(B));i=g}return i}function fi(i,l){var d,g,y,P,E,R,B,H,ie;if(!i||i.length===0)throw new Error("latlngs not passed");Wt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var xe=re([0,0]),Pe=se(i),Ut=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());Ut<1700&&(xe=In(i));var Nt=i.length,xr=[];for(d=0;d<Nt;d++){var Vt=re(i[d]);xr.push(l.project(re([Vt.lat-xe.lat,Vt.lng-xe.lng])))}for(R=B=H=0,d=0,g=Nt-1;d<Nt;g=d++)y=xr[d],P=xr[g],E=y.y*P.x-P.y*y.x,B+=(y.x+P.x)*E,H+=(y.y+P.y)*E,R+=E*3;R===0?ie=xr[0]:ie=[B/R,H/R];var ea=l.unproject(G(ie));return re([ea.lat+xe.lat,ea.lng+xe.lng])}function In(i){for(var l=0,d=0,g=0,y=0;y<i.length;y++){var P=re(i[y]);l+=P.lat,d+=P.lng,g++}return re([l/g,d/g])}var Ks={__proto__:null,clipPolygon:jt,polygonCenter:fi,centroid:In};function Fa(i,l){if(!l||!i.length)return i.slice();var d=l*l;return i=rc(i,d),i=Rn(i,d),i}function qa(i,l,d){return Math.sqrt(ln(i,l,d,!0))}function Wa(i,l,d){return ln(i,l,d)}function Rn(i,l){var d=i.length,g=typeof Uint8Array<"u"?Uint8Array:Array,y=new g(d);y[0]=y[d-1]=1,Ua(i,y,l,0,d-1);var P,E=[];for(P=0;P<d;P++)y[P]&&E.push(i[P]);return E}function Ua(i,l,d,g,y){var P=0,E,R,B;for(R=g+1;R<=y-1;R++)B=ln(i[R],i[g],i[y],!0),B>P&&(E=R,P=B);P>d&&(l[E]=1,Ua(i,l,d,g,E),Ua(i,l,d,E,y))}function rc(i,l){for(var d=[i[0]],g=1,y=0,P=i.length;g<P;g++)De(i[g],i[y])>l&&(d.push(i[g]),y=g);return y<P-1&&d.push(i[P-1]),d}var Hs;function Ys(i,l,d,g,y){var P=g?Hs:zn(i,d),E=zn(l,d),R,B,H;for(Hs=E;;){if(!(P|E))return[i,l];if(P&E)return!1;R=P||E,B=Yi(i,l,R,d,y),H=zn(B,d),R===P?(i=B,P=H):(l=B,E=H)}}function Yi(i,l,d,g,y){var P=l.x-i.x,E=l.y-i.y,R=g.min,B=g.max,H,ie;return d&8?(H=i.x+P*(B.y-i.y)/E,ie=B.y):d&4?(H=i.x+P*(R.y-i.y)/E,ie=R.y):d&2?(H=B.x,ie=i.y+E*(B.x-i.x)/P):d&1&&(H=R.x,ie=i.y+E*(R.x-i.x)/P),new q(H,ie,y)}function zn(i,l){var d=0;return i.x<l.min.x?d|=1:i.x>l.max.x&&(d|=2),i.y<l.min.y?d|=4:i.y>l.max.y&&(d|=8),d}function De(i,l){var d=l.x-i.x,g=l.y-i.y;return d*d+g*g}function ln(i,l,d,g){var y=l.x,P=l.y,E=d.x-y,R=d.y-P,B=E*E+R*R,H;return B>0&&(H=((i.x-y)*E+(i.y-P)*R)/B,H>1?(y=d.x,P=d.y):H>0&&(y+=E*H,P+=R*H)),E=i.x-y,R=i.y-P,g?E*E+R*R:new q(y,P)}function Wt(i){return!C(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Jh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Wt(i)}function Qh(i,l){var d,g,y,P,E,R,B,H;if(!i||i.length===0)throw new Error("latlngs not passed");Wt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ie=re([0,0]),xe=se(i),Pe=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());Pe<1700&&(ie=In(i));var Ut=i.length,Nt=[];for(d=0;d<Ut;d++){var xr=re(i[d]);Nt.push(l.project(re([xr.lat-ie.lat,xr.lng-ie.lng])))}for(d=0,g=0;d<Ut-1;d++)g+=Nt[d].distanceTo(Nt[d+1])/2;if(g===0)H=Nt[0];else for(d=0,P=0;d<Ut-1;d++)if(E=Nt[d],R=Nt[d+1],y=E.distanceTo(R),P+=y,P>g){B=(P-g)/y,H=[R.x-B*(R.x-E.x),R.y-B*(R.y-E.y)];break}var Vt=l.unproject(G(H));return re([Vt.lat+ie.lat,Vt.lng+ie.lng])}var fw={__proto__:null,simplify:Fa,pointToSegmentDistance:qa,closestPointOnSegment:Wa,clipSegment:Ys,_getEdgeIntersection:Yi,_getBitCode:zn,_sqClosestPointOnSegment:ln,isFlat:Wt,_flat:Jh,polylineCenter:Qh},nc={project:function(i){return new q(i.lng,i.lat)},unproject:function(i){return new ae(i.y,i.x)},bounds:new he([-180,-90],[180,90])},ic={R:6378137,R_MINOR:6356752314245179e-9,bounds:new he([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,d=this.R,g=i.lat*l,y=this.R_MINOR/d,P=Math.sqrt(1-y*y),E=P*Math.sin(g),R=Math.tan(Math.PI/4-g/2)/Math.pow((1-E)/(1+E),P/2);return g=-d*Math.log(Math.max(R,1e-10)),new q(i.lng*l*d,g)},unproject:function(i){for(var l=180/Math.PI,d=this.R,g=this.R_MINOR/d,y=Math.sqrt(1-g*g),P=Math.exp(-i.y/d),E=Math.PI/2-2*Math.atan(P),R=0,B=.1,H;R<15&&Math.abs(B)>1e-7;R++)H=y*Math.sin(E),H=Math.pow((1-H)/(1+H),y/2),B=Math.PI/2-2*Math.atan(P*H)-E,E+=B;return new ae(E*l,i.x*l/d)}},hw={__proto__:null,LonLat:nc,Mercator:ic,SphericalMercator:W},mw=s({},ze,{code:"EPSG:3395",projection:ic,transformation:function(){var i=.5/(Math.PI*ic.R);return Z(i,.5,-i,.5)}()}),em=s({},ze,{code:"EPSG:4326",projection:nc,transformation:Z(1/180,1,-1/180,.5)}),pw=s({},Ne,{projection:nc,transformation:Z(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var d=l.lng-i.lng,g=l.lat-i.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Ne.Earth=ze,Ne.EPSG3395=mw,Ne.EPSG3857=Ee,Ne.EPSG900913=Ce,Ne.EPSG4326=em,Ne.Simple=pw;var Mr=Te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[f(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[f(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ke.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=f(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=f(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return f(i)in this._layers},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},_addLayers:function(i){i=i?C(i)?i:[i]:[];for(var l=0,d=i.length;l<d;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[f(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=f(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var y=this._zoomBoundLayers[g].options;i=y.minZoom===void 0?i:Math.min(i,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gi=Mr.extend({initialize:function(i,l){b(this,l),this._layers={};var d,g;if(i)for(d=0,g=i.length;d<g;d++)this.addLayer(i[d])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[i]&&g[i].apply(g,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return f(i)}}),gw=function(i,l){return new Gi(i,l)},cn=Gi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Gi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Gi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new V;for(var l in this._layers){var d=this._layers[l];i.extend(d.getBounds?d.getBounds():d.getLatLng())}return i}}),vw=function(i,l){return new cn(i,l)},Vi=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){b(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var d=this._getIconUrl(i);if(!d){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(i,l){var d=this.options,g=d[l+"Size"];typeof g=="number"&&(g=[g,g]);var y=G(g),P=G(l==="shadow"&&d.shadowAnchor||d.iconAnchor||y&&y.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(d.className||""),P&&(i.style.marginLeft=-P.x+"px",i.style.marginTop=-P.y+"px"),y&&(i.style.width=y.x+"px",i.style.height=y.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return oe.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function yw(i){return new Vi(i)}var Za=Vi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Za.imagePath!="string"&&(Za.imagePath=this._detectIconPath()),(this.options.imagePath||Za.imagePath)+Vi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(d,g,y){var P=g.exec(d);return P&&P[y]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Le("div","leaflet-default-icon-path",document.body),l=Mn(i,"background-image")||Mn(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),tm=Qe.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new tt(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,d=l._map,g=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,P=Wr(l._icon),E=d.getPixelBounds(),R=d.getPixelOrigin(),B=D(E.min._subtract(R).add(y),E.max._subtract(R).subtract(y));if(!B.contains(P)){var H=G((Math.max(B.max.x,P.x)-B.max.x)/(E.max.x-B.max.x)-(Math.min(B.min.x,P.x)-B.min.x)/(E.min.x-B.min.x),(Math.max(B.max.y,P.y)-B.max.y)/(E.max.y-B.max.y)-(Math.min(B.min.y,P.y)-B.min.y)/(E.min.y-B.min.y)).multiplyBy(g);d.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),ot(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Q(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,d=l._shadow,g=Wr(l._icon),y=l._map.layerPointToLatLng(g);d&&ot(d,g),l._latlng=y,i.latlng=y,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Gs=Mr.extend({options:{icon:new Za,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){b(this,l),this._latlng=re(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=re(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=i.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,i.title&&(d.title=i.title),d.tagName==="IMG"&&(d.alt=i.alt||"")),we(d,l),i.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(d,"focus",this._panOnFocus,this);var y=i.icon.createShadow(this._shadow),P=!1;y!==this._shadow&&(this._removeShadow(),P=!0),y&&(we(y,l),y.alt=""),this._shadow=y,i.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&P&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qe(this._icon,"focus",this._panOnFocus,this),Xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xe(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&ot(this._icon,i),this._shadow&&ot(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tm)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tm(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Gt(this._icon,i),this._shadow&&Gt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,d=l.iconSize?G(l.iconSize):G(0,0),g=l.iconAnchor?G(l.iconAnchor):G(0,0);i.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xw(i,l){return new Gs(i,l)}var $n=Mr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return b(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=$n.extend({options:{fill:!0,radius:10},initialize:function(i,l){b(this,l),this._latlng=re(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=re(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return $n.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,d=this._clickTolerance(),g=[i+d,l+d];this._pxBounds=new he(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bw(i,l){return new Vs(i,l)}var ac=Vs.extend({initialize:function(i,l,d){if(typeof l=="number"&&(l=s({},d,{radius:l})),b(this,l),this._latlng=re(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:$n.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===ze.distance){var y=Math.PI/180,P=this._mRadius/ze.R/y,E=d.project([l+P,i]),R=d.project([l-P,i]),B=E.add(R).divideBy(2),H=d.unproject(B).lat,ie=Math.acos((Math.cos(P*y)-Math.sin(l*y)*Math.sin(H*y))/(Math.cos(l*y)*Math.cos(H*y)))/y;(isNaN(ie)||ie===0)&&(ie=P/Math.cos(Math.PI/180*l)),this._point=B.subtract(d.getPixelOrigin()),this._radius=isNaN(ie)?0:B.x-d.project([H,i-ie]).x,this._radiusY=B.y-E.y}else{var xe=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(xe).x}this._updateBounds()}});function _w(i,l,d){return new ac(i,l,d)}var un=$n.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){b(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,d=null,g=ln,y,P,E=0,R=this._parts.length;E<R;E++)for(var B=this._parts[E],H=1,ie=B.length;H<ie;H++){y=B[H-1],P=B[H];var xe=g(i,y,P,!0);xe<l&&(l=xe,d=g(i,y,P))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=re(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new V,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],d=Wt(i),g=0,y=i.length;g<y;g++)d?(l[g]=re(i[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(i[g]);return l},_project:function(){var i=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new q(i,i);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,d){var g=i[0]instanceof ae,y=i.length,P,E;if(g){for(E=[],P=0;P<y;P++)E[P]=this._map.latLngToLayerPoint(i[P]),d.extend(E[P]);l.push(E)}else for(P=0;P<y;P++)this._projectLatlngs(i[P],l,d)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,g,y,P,E,R,B;for(d=0,y=0,P=this._rings.length;d<P;d++)for(B=this._rings[d],g=0,E=B.length;g<E-1;g++)R=Ys(B[g],B[g+1],i,g,!0),R&&(l[y]=l[y]||[],l[y].push(R[0]),(R[1]!==B[g+1]||g===E-2)&&(l[y].push(R[1]),y++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,d=0,g=i.length;d<g;d++)i[d]=Fa(i[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var d,g,y,P,E,R,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(d=0,P=this._parts.length;d<P;d++)for(R=this._parts[d],g=0,E=R.length,y=E-1;g<E;y=g++)if(!(!l&&g===0)&&qa(i,R[y],R[g])<=B)return!0;return!1}});function ww(i,l){return new un(i,l)}un._flat=Jh;var Xi=un.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=un.prototype._convertLatLngs.call(this,i),d=l.length;return d>=2&&l[0]instanceof ae&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(i){un.prototype._setLatLngs.call(this,i),Wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Wt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,d=new q(l,l);if(i=new he(i.min.subtract(d),i.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,y=this._rings.length,P;g<y;g++)P=jt(this._rings[g],i,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,d,g,y,P,E,R,B,H;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(P=0,B=this._parts.length;P<B;P++)for(d=this._parts[P],E=0,H=d.length,R=H-1;E<H;R=E++)g=d[E],y=d[R],g.y>i.y!=y.y>i.y&&i.x<(y.x-g.x)*(i.y-g.y)/(y.y-g.y)+g.x&&(l=!l);return l||un.prototype._containsPoint.call(this,i,!0)}});function jw(i,l){return new Xi(i,l)}var dn=cn.extend({initialize:function(i,l){b(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=C(i)?i:i.features,d,g,y;if(l){for(d=0,g=l.length;d<g;d++)y=l[d],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var P=this.options;if(P.filter&&!P.filter(i))return this;var E=Xs(i,P);return E?(E.feature=eo(i),E.defaultOptions=E.options,this.resetStyle(E),P.onEachFeature&&P.onEachFeature(i,E),this.addLayer(E)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function Xs(i,l){var d=i.type==="Feature"?i.geometry:i,g=d?d.coordinates:null,y=[],P=l&&l.pointToLayer,E=l&&l.coordsToLatLng||sc,R,B,H,ie;if(!g&&!d)return null;switch(d.type){case"Point":return R=E(g),rm(P,i,R,l);case"MultiPoint":for(H=0,ie=g.length;H<ie;H++)R=E(g[H]),y.push(rm(P,i,R,l));return new cn(y);case"LineString":case"MultiLineString":return B=Js(g,d.type==="LineString"?0:1,E),new un(B,l);case"Polygon":case"MultiPolygon":return B=Js(g,d.type==="Polygon"?1:2,E),new Xi(B,l);case"GeometryCollection":for(H=0,ie=d.geometries.length;H<ie;H++){var xe=Xs({geometry:d.geometries[H],type:"Feature",properties:i.properties},l);xe&&y.push(xe)}return new cn(y);case"FeatureCollection":for(H=0,ie=d.features.length;H<ie;H++){var Pe=Xs(d.features[H],l);Pe&&y.push(Pe)}return new cn(y);default:throw new Error("Invalid GeoJSON object.")}}function rm(i,l,d,g){return i?i(l,d):new Gs(d,g&&g.markersInheritOptions&&g)}function sc(i){return new ae(i[1],i[0],i[2])}function Js(i,l,d){for(var g=[],y=0,P=i.length,E;y<P;y++)E=l?Js(i[y],l-1,d):(d||sc)(i[y]),g.push(E);return g}function oc(i,l){return i=re(i),i.alt!==void 0?[v(i.lng,l),v(i.lat,l),v(i.alt,l)]:[v(i.lng,l),v(i.lat,l)]}function Qs(i,l,d,g){for(var y=[],P=0,E=i.length;P<E;P++)y.push(l?Qs(i[P],Wt(i[P])?0:l-1,d,g):oc(i[P],g));return!l&&d&&y.length>0&&y.push(y[0].slice()),y}function Ji(i,l){return i.feature?s({},i.feature,{geometry:l}):eo(l)}function eo(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var lc={toGeoJSON:function(i){return Ji(this,{type:"Point",coordinates:oc(this.getLatLng(),i)})}};Gs.include(lc),ac.include(lc),Vs.include(lc),un.include({toGeoJSON:function(i){var l=!Wt(this._latlngs),d=Qs(this._latlngs,l?1:0,!1,i);return Ji(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),Xi.include({toGeoJSON:function(i){var l=!Wt(this._latlngs),d=l&&!Wt(this._latlngs[0]),g=Qs(this._latlngs,d?2:l?1:0,!0,i);return l||(g=[g]),Ji(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),Gi.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(i).geometry.coordinates)}),Ji(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var d=l==="GeometryCollection",g=[];return this.eachLayer(function(y){if(y.toGeoJSON){var P=y.toGeoJSON(i);if(d)g.push(P.geometry);else{var E=eo(P);E.type==="FeatureCollection"?g.push.apply(g,E.features):g.push(E)}}}),d?Ji(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function nm(i,l){return new dn(i,l)}var Nw=nm,to=Mr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,d){this._url=i,this._bounds=se(l),b(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&qr(this._image),this},bringToBack:function(){return this._map&&Ft(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=se(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:Le("img");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onload=c(this.fire,this,"load"),l.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;yr(this._image,d,l)},_reset:function(){var i=this._image,l=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();ot(i,l.min),i.style.width=d.x+"px",i.style.height=d.y+"px"},_updateOpacity:function(){Gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Pw=function(i,l,d){return new to(i,l,d)},im=to.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:Le("video");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onloadeddata=c(this.fire,this,"load"),i){for(var d=l.getElementsByTagName("source"),g=[],y=0;y<d.length;y++)g.push(d[y].src);this._url=d.length>0?g:[l.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var E=Le("source");E.src=this._url[P],l.appendChild(E)}}});function Aw(i,l,d){return new im(i,l,d)}var am=to.extend({_initImage:function(){var i=this._image=this._url;we(i,"leaflet-image-layer"),this._zoomAnimated&&we(i,"leaflet-zoom-animated"),this.options.className&&we(i,this.options.className),i.onselectstart=p,i.onmousemove=p}});function Sw(i,l,d){return new am(i,l,d)}var Zr=Mr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof ae||C(i))?(this._latlng=re(i),b(this,l)):(b(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Gt(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Gt(this._container,0),this._removeTimeout=setTimeout(c(Xe,void 0,this._container),200)):Xe(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=re(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qr(this._container),this},bringToBack:function(){return this._map&&Ft(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof cn){l=null;var d=this._source._layers;for(var g in d)if(d[g]._map){l=d[g];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=G(this.options.offset),d=this._getAnchor();this._zoomAnimated?ot(this._container,i.add(d)):l=l.add(i).add(d);var g=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});ke.include({_initOverlay:function(i,l,d,g){var y=l;return y instanceof i||(y=new i(g).setContent(l)),d&&y.setLatLng(d),y}}),Mr.include({_initOverlay:function(i,l,d,g){var y=d;return y instanceof i?(b(y,g),y._source=this):(y=l&&!g?l:new i(g,this),y.setContent(d)),y}});var ro=Zr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Zr.prototype.openOn.call(this,i)},onAdd:function(i){Zr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $n||this._source.on("preclick",on))},onRemove:function(i){Zr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $n||this._source.off("preclick",on))},getEvents:function(){var i=Zr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=Le("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Le("div",i+"-content-wrapper",l);if(this._contentNode=Le("div",i+"-content",d),qt(l),$a(this._contentNode),ye(l,"contextmenu",on),this._tipContainer=Le("div",i+"-tip-container",l),this._tip=Le("div",i+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Le("a",i+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',ye(g,"click",function(y){ut(y),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var d=i.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var g=i.offsetHeight,y=this.options.maxHeight,P="leaflet-popup-scrolled";y&&g>y?(l.height=y+"px",we(i,P)):Je(i,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),d=this._getAnchor();ot(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Mn(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,g=this._containerWidth,y=new q(this._containerLeft,-d-this._containerBottom);y._add(Wr(this._container));var P=i.layerPointToContainerPoint(y),E=G(this.options.autoPanPadding),R=G(this.options.autoPanPaddingTopLeft||E),B=G(this.options.autoPanPaddingBottomRight||E),H=i.getSize(),ie=0,xe=0;P.x+g+B.x>H.x&&(ie=P.x+g-H.x+B.x),P.x-ie-R.x<0&&(ie=P.x-R.x),P.y+d+B.y>H.y&&(xe=P.y+d-H.y+B.y),P.y-xe-R.y<0&&(xe=P.y-R.y),(ie||xe)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([ie,xe]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cw=function(i,l){return new ro(i,l)};ke.mergeOptions({closePopupOnClick:!0}),ke.include({openPopup:function(i,l,d){return this._initOverlay(ro,i,l,d).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Mr.include({bindPopup:function(i,l){return this._popup=this._initOverlay(ro,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof cn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Er(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof $n)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var no=Zr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Zr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Zr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Zr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,d,g=this._map,y=this._container,P=g.latLngToContainerPoint(g.getCenter()),E=g.layerPointToContainerPoint(i),R=this.options.direction,B=y.offsetWidth,H=y.offsetHeight,ie=G(this.options.offset),xe=this._getAnchor();R==="top"?(l=B/2,d=H):R==="bottom"?(l=B/2,d=0):R==="center"?(l=B/2,d=H/2):R==="right"?(l=0,d=H/2):R==="left"?(l=B,d=H/2):E.x<P.x?(R="right",l=0,d=H/2):(R="left",l=B+(ie.x+xe.x)*2,d=H/2),i=i.subtract(G(l,d,!0)).add(ie).add(xe),Je(y,"leaflet-tooltip-right"),Je(y,"leaflet-tooltip-left"),Je(y,"leaflet-tooltip-top"),Je(y,"leaflet-tooltip-bottom"),we(y,"leaflet-tooltip-"+R),ot(y,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Gt(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ow=function(i,l){return new no(i,l)};ke.include({openTooltip:function(i,l,d){return this._initOverlay(no,i,l,d).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Mr.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(no,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof cn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(ye(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ye(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,d,g;this._tooltip.options.sticky&&i.originalEvent&&(d=this._map.mouseEventToContainerPoint(i.originalEvent),g=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var sm=Vi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),d=this.options;if(d.html instanceof Element?(st(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=G(d.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function kw(i){return new sm(i)}Vi.Default=Za;var Ka=Mr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){b(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Xe(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ft(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof q?i:new q(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,d=-i(-1/0,1/0),g=0,y=l.length,P;g<y;g++)P=l[g].style.zIndex,l[g]!==this._container&&P&&(d=i(d,+P));isFinite(d)&&(this.options.zIndex=d+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){Gt(this._container,this.options.opacity);var i=+new Date,l=!1,d=!1;for(var g in this._tiles){var y=this._tiles[g];if(!(!y.current||!y.loaded)){var P=Math.min(1,(i-y.loaded)/200);Gt(y.el,P),P<1?l=!0:(y.active?d=!0:this._onOpaqueTile(y),y.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(X(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===i?(this._levels[d].el.style.zIndex=l-Math.abs(i-d),this._onUpdateLevel(d)):(Xe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[i],y=this._map;return g||(g=this._levels[i]={},g.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=y.project(y.unproject(y.getPixelOrigin()),i).round(),g.zoom=i,this._setZoomTransform(g,y.getCenter(),y.getZoom()),p(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var i,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Xe(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,d,g){var y=Math.floor(i/2),P=Math.floor(l/2),E=d-1,R=new q(+y,+P);R.z=+E;var B=this._tileCoordsToKey(R),H=this._tiles[B];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),E>g?this._retainParent(y,P,E,g):!1)},_retainChildren:function(i,l,d,g){for(var y=2*i;y<2*i+2;y++)for(var P=2*l;P<2*l+2;P++){var E=new q(y,P);E.z=d+1;var R=this._tileCoordsToKey(E),B=this._tiles[R];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);d+1<g&&this._retainChildren(y,P,d+1,g)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,d,g){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var P=this.options.updateWhenZooming&&y!==this._tileZoom;(!g||P)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(i),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],i,l)},_setZoomTransform:function(i,l,d){var g=this._map.getZoomScale(d,i.zoom),y=i.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,d)).round();oe.any3d?yr(i.el,y,g):ot(i.el,y)},_resetGrid:function(){var i=this._map,l=i.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],g).x/d.x),Math.ceil(i.project([0,l.wrapLng[1]],g).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],g).y/d.x),Math.ceil(i.project([l.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(d,this._tileZoom),y=l.project(i,this._tileZoom).floor(),P=l.getSize().divideBy(g*2);return new he(y.subtract(P),y.add(P))},_update:function(i){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(i),y=this._pxBoundsToTileRange(g),P=y.getCenter(),E=[],R=this.options.keepBuffer,B=new he(y.getBottomLeft().subtract([R,-R]),y.getTopRight().add([R,-R]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var ie=this._tiles[H].coords;(ie.z!==this._tileZoom||!B.contains(new q(ie.x,ie.y)))&&(this._tiles[H].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(i,d);return}for(var xe=y.min.y;xe<=y.max.y;xe++)for(var Pe=y.min.x;Pe<=y.max.x;Pe++){var Ut=new q(Pe,xe);if(Ut.z=this._tileZoom,!!this._isValidTile(Ut)){var Nt=this._tiles[this._tileCoordsToKey(Ut)];Nt?Nt.current=!0:E.push(Ut)}}if(E.sort(function(Vt,ea){return Vt.distanceTo(P)-ea.distanceTo(P)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xr=document.createDocumentFragment();for(Pe=0;Pe<E.length;Pe++)this._addTile(E[Pe],xr);this._level.el.appendChild(xr)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(i.x<d.min.x||i.x>d.max.x)||!l.wrapLat&&(i.y<d.min.y||i.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(i);return se(this.options.bounds).overlaps(g)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,d=this.getTileSize(),g=i.scaleBy(d),y=g.add(d),P=l.unproject(g,i.z),E=l.unproject(y,i.z);return[P,E]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),d=new V(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),d=new q(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(i){var l=this._tiles[i];l&&(Xe(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){we(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=p,i.onmousemove=p,oe.ielt9&&this.options.opacity<1&&Gt(i,this.options.opacity)},_addTile:function(i,l){var d=this._getTilePos(i),g=this._tileCoordsToKey(i),y=this.createTile(this._wrapCoords(i),c(this._tileReady,this,i));this._initTile(y),this.createTile.length<2&&Q(c(this._tileReady,this,i,null,y)),ot(y,d),this._tiles[g]={el:y,coords:i,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:i})},_tileReady:function(i,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:i});var g=this._tileCoordsToKey(i);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Gt(d.el,0),X(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(we(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new q(this._wrapX?h(i.x,this._wrapX):i.x,this._wrapY?h(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new he(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Tw(i){return new Ka(i)}var Qi=Ka.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=b(this,l),l.detectRetina&&oe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var d=document.createElement("img");return ye(d,"load",c(this._tileOnLoad,this,l,d)),ye(d,"error",c(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(i),d},getTileUrl:function(i){var l={r:oe.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=d),l["-y"]=d}return S(this._url,s(l,this.options))},_tileOnLoad:function(i,l){oe.ielt9?setTimeout(c(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,d){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),i(d,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(i=l-i),i+g},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=p,l.onerror=p,!l.complete)){l.src=k;var d=this._tiles[i].coords;Xe(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",k),Ka.prototype._removeTile.call(this,i)},_tileReady:function(i,l,d){if(!(!this._map||d&&d.getAttribute("src")===k))return Ka.prototype._tileReady.call(this,i,l,d)}});function om(i,l){return new Qi(i,l)}var lm=Qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var d=s({},this.defaultWmsParams);for(var g in l)g in this.options||(d[g]=l[g]);l=b(this,l);var y=l.detectRetina&&oe.retina?2:1,P=this.getTileSize();d.width=P.x*y,d.height=P.y*y,this.wmsParams=d},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Qi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),d=this._crs,g=D(d.project(l[0]),d.project(l[1])),y=g.min,P=g.max,E=(this._wmsVersion>=1.3&&this._crs===em?[y.y,y.x,P.y,P.x]:[y.x,y.y,P.x,P.y]).join(","),R=Qi.prototype.getTileUrl.call(this,i);return R+w(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(i,l){return s(this.wmsParams,i),l||this.redraw(),this}});function Ew(i,l){return new lm(i,l)}Qi.WMS=lm,om.wms=Ew;var fn=Mr.extend({options:{padding:.1},initialize:function(i){b(this,i),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var d=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),P=g.multiplyBy(-d).add(y).subtract(this._map._getNewPixelOrigin(i,l));oe.any3d?yr(this._container,P,d):ot(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new he(d,d.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cm=fn.extend({options:{tolerance:0},getEvents:function(){var i=fn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ye(i,"mousemove",this._onMouseMove,this),ye(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Xe(this._container),qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fn.prototype._update.call(this);var i=this._bounds,l=this._container,d=i.getSize(),g=oe.retina?2:1;ot(l,i.min),l.width=g*d.x,l.height=g*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){fn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[f(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,d=l.next,g=l.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete i._order,delete this._layers[f(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),d=[],g,y;for(y=0;y<l.length;y++){if(g=Number(l[y]),isNaN(g))return;d.push(g)}i.options._dashArray=d}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)i=g.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var d,g,y,P,E=i._parts,R=E.length,B=this._ctx;if(R){for(B.beginPath(),d=0;d<R;d++){for(g=0,y=E[d].length;g<y;g++)P=E[d][g],B[g?"lineTo":"moveTo"](P.x,P.y);l&&B.closePath()}this._fillStroke(B,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,d=this._ctx,g=Math.max(Math.round(i._radius),1),y=(Math.max(Math.round(i._radiusY),1)||g)/g;y!==1&&(d.save(),d.scale(1,y)),d.beginPath(),d.arc(l.x,l.y/y,g,0,Math.PI*2,!1),y!==1&&d.restore(),this._fillStroke(d,i)}},_fillStroke:function(i,l){var d=l.options;d.fill&&(i.globalAlpha=d.fillOpacity,i.fillStyle=d.fillColor||d.color,i.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=d.opacity,i.lineWidth=d.weight,i.strokeStyle=d.color,i.lineCap=d.lineCap,i.lineJoin=d.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),d,g,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(Je(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var d,g,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(i),g&&(we(this._container,"leaflet-interactive"),this._fireEvent([g],i,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,d){this._map._fireDOMEvent(l,d||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var d=l.next,g=l.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var d=l.next,g=l.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function um(i){return oe.canvas?new cm(i):null}var Ha=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mw={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=Ha("shape");we(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=Ha("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[f(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Xe(l),i.removeInteractiveTarget(l),delete this._layers[f(i)]},_updateStyle:function(i){var l=i._stroke,d=i._fill,g=i.options,y=i._container;y.stroked=!!g.stroke,y.filled=!!g.fill,g.stroke?(l||(l=i._stroke=Ha("stroke")),y.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=C(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(y.removeChild(l),i._stroke=null),g.fill?(d||(d=i._fill=Ha("fill")),y.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(y.removeChild(d),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),d=Math.round(i._radius),g=Math.round(i._radiusY||d);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){qr(i._container)},_bringToBack:function(i){Ft(i._container)}},io=oe.vml?Ha:it,Ya=fn.extend({_initContainer:function(){this._container=io("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=io("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xe(this._container),qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fn.prototype._update.call(this);var i=this._bounds,l=i.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),ot(d,i.min),d.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=io("path");i.options.className&&we(l,i.options.className),i.options.interactive&&we(l,"leaflet-interactive"),this._updateStyle(i),this._layers[f(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Xe(i._path),i.removeInteractiveTarget(i._path),delete this._layers[f(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,d=i.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Fe(i._parts,l))},_updateCircle:function(i){var l=i._point,d=Math.max(Math.round(i._radius),1),g=Math.max(Math.round(i._radiusY),1)||d,y="a"+d+","+g+" 0 1,0 ",P=i._empty()?"M0 0":"M"+(l.x-d)+","+l.y+y+d*2+",0 "+y+-d*2+",0 ";this._setPath(i,P)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){qr(i._path)},_bringToBack:function(i){Ft(i._path)}});oe.vml&&Ya.include(Mw);function dm(i){return oe.svg||oe.vml?new Ya(i):null}ke.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&um(i)||dm(i)}});var fm=Xi.extend({initialize:function(i,l){Xi.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=se(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Dw(i,l){return new fm(i,l)}Ya.create=io,Ya.pointsToPath=Fe,dn.geometryToLayer=Xs,dn.coordsToLatLng=sc,dn.coordsToLatLngs=Js,dn.latLngToCoords=oc,dn.latLngsToCoords=Qs,dn.getFeature=Ji,dn.asFeature=eo,ke.mergeOptions({boxZoom:!0});var hm=Qe.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),sn(),Ta(),this._startPoint=this._map.mouseEventToContainerPoint(i),ye(document,{contextmenu:Er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new he(this._point,this._startPoint),d=l.getSize();ot(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Xe(this._box),Je(this._container,"leaflet-crosshair")),li(),Ea(),qe(document,{contextmenu:Er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var l=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ke.addInitHook("addHandler","boxZoom",hm),ke.mergeOptions({doubleClickZoom:!0});var mm=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,d=l.getZoom(),g=l.options.zoomDelta,y=i.originalEvent.shiftKey?d-g:d+g;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(i.containerPoint,y)}});ke.addInitHook("addHandler","doubleClickZoom",mm),ke.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pm=Qe.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new tt(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=se(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,y=(g-l+d)%i+l-d,P=(g+l+d)%i-l-d,E=Math.abs(y+d)<Math.abs(P+d)?y:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(i){var l=this._map,d=l.options,g=!d.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),g)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,E=d.easeLinearity,R=y.multiplyBy(E/P),B=R.distanceTo([0,0]),H=Math.min(d.inertiaMaxSpeed,B),ie=R.multiplyBy(H/B),xe=H/(d.inertiaDeceleration*E),Pe=ie.multiplyBy(-xe/2).round();!Pe.x&&!Pe.y?l.fire("moveend"):(Pe=l._limitOffset(Pe,l.options.maxBounds),Q(function(){l.panBy(Pe,{duration:xe,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});ke.addInitHook("addHandler","dragging",pm),ke.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gm=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ye(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,d=i.scrollTop||l.scrollTop,g=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},d=this.keyCodes,g,y;for(g=0,y=d.left.length;g<y;g++)l[d.left[g]]=[-1*i,0];for(g=0,y=d.right.length;g<y;g++)l[d.right[g]]=[i,0];for(g=0,y=d.down.length;g<y;g++)l[d.down[g]]=[0,i];for(g=0,y=d.up.length;g<y;g++)l[d.up[g]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},d=this.keyCodes,g,y;for(g=0,y=d.zoomIn.length;g<y;g++)l[d.zoomIn[g]]=i;for(g=0,y=d.zoomOut.length;g<y;g++)l[d.zoomOut[g]]=-i},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,d=this._map,g;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[l],i.shiftKey&&(g=G(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(G(g),d.options.maxBounds)),d.options.worldCopyJump){var y=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(y)}else d.panBy(g)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Er(i)}}});ke.addInitHook("addHandler","keyboard",gm),ke.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vm=Qe.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=Zs(i),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),g),Er(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),d=this._map.options.zoomSnap||0;i._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,P=d?Math.ceil(y/d)*d:y,E=i._limitZoom(l+(this._delta>0?P:-P))-l;this._delta=0,this._startTime=null,E&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+E):i.setZoomAround(this._lastMousePos,l+E))}});ke.addInitHook("addHandler","scrollWheelZoom",vm);var Lw=600;ke.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var ym=Qe.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new q(l.clientX,l.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",ut),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Lw),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){qe(document,"touchend",ut),qe(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),qe(document,"touchend touchcancel contextmenu",this._cancel,this),qe(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new q(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var d=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});ke.addInitHook("addHandler","tapHold",ym),ke.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var xm=Qe.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),ut(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]),y=d.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var P=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(y===1&&P.x===0&&P.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var E=c(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(E,this,!0),ut(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),qe(document,"touchmove",this._onTouchMove,this),qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ke.addInitHook("addHandler","touchZoom",xm),ke.BoxZoom=hm,ke.DoubleClickZoom=mm,ke.Drag=pm,ke.Keyboard=gm,ke.ScrollWheelZoom=vm,ke.TapHold=ym,ke.TouchZoom=xm,r.Bounds=he,r.Browser=oe,r.CRS=Ne,r.Canvas=cm,r.Circle=ac,r.CircleMarker=Vs,r.Class=de,r.Control=rr,r.DivIcon=sm,r.DivOverlay=Zr,r.DomEvent=wt,r.DomUtil=er,r.Draggable=tt,r.Evented=Te,r.FeatureGroup=cn,r.GeoJSON=dn,r.GridLayer=Ka,r.Handler=Qe,r.Icon=Vi,r.ImageOverlay=to,r.LatLng=ae,r.LatLngBounds=V,r.Layer=Mr,r.LayerGroup=Gi,r.LineUtil=fw,r.Map=ke,r.Marker=Gs,r.Mixin=lt,r.Path=$n,r.Point=q,r.PolyUtil=Ks,r.Polygon=Xi,r.Polyline=un,r.Popup=ro,r.PosAnimation=Ba,r.Projection=hw,r.Rectangle=fm,r.Renderer=fn,r.SVG=Ya,r.SVGOverlay=am,r.TileLayer=Qi,r.Tooltip=no,r.Transformation=ee,r.Util=te,r.VideoOverlay=im,r.bind=c,r.bounds=D,r.canvas=um,r.circle=_w,r.circleMarker=bw,r.control=Ln,r.divIcon=kw,r.extend=s,r.featureGroup=vw,r.geoJSON=nm,r.geoJson=Nw,r.gridLayer=Tw,r.icon=yw,r.imageOverlay=Pw,r.latLng=re,r.latLngBounds=se,r.layerGroup=gw,r.map=tc,r.marker=xw,r.point=G,r.polygon=jw,r.polyline=ww,r.popup=Cw,r.rectangle=Dw,r.setOptions=b,r.stamp=f,r.svg=dm,r.svgOverlay=Sw,r.tileLayer=om,r.tooltip=Ow,r.transformation=Z,r.version=n,r.videoOverlay=Aw;var Iw=window.L;r.noConflict=function(){return window.L=Iw,this},window.L=r})}(is,is.exports)),is.exports}var Qj=Jj();const Dr=Jr(Qj);Ns.register(rf,nf,jy,Ny,af,Py,sl,ol,Ay);const e1=({claims:e,approvedClaims:t,generateAnalytics:r,analyticsLoading:n,allApplications:s=[]})=>{const[o,c]=_.useState(!1),[u,f]=_.useState(""),[m,h]=_.useState("all"),[p,v]=_.useState(null),[x,j]=_.useState(!1),[b,w]=_.useState(!1),[A,S]=_.useState("quarterly"),[C,T]=_.useState(!1),[k,O]=_.useState([]),I=[...e.map($=>({...$,type:"cash_claim",date:$.date,cropType:$.cropType||$.crop,status:$.status,amount:$.amount||0})),...s.map($=>({...$,type:"seed_assistance",date:$.applicationDate,cropType:$.cropType,status:$.status,amount:$.requestedQuantity||0}))],F=I.map($=>new Date($.date).getFullYear()),K=F.length>0?Math.min(...F):new Date().getFullYear(),Y=F.length>0?Math.max(...F):new Date().getFullYear(),[Q,X]=_.useState([]),[te,de]=_.useState([K,Y]),be=Array.from(new Set(I.map($=>$.cropType))).filter(Boolean),pe=Array.from(new Set(I.map($=>$.status))).filter(Boolean),Te=I.filter($=>{const ge=new Date($.date).getFullYear(),_e=ge>=te[0]&&ge<=te[1],Ae=k.length===0||k.includes($.cropType),Se=Q.length===0||Q.includes($.status);return _e&&Ae&&Se}),q=$=>O(ge=>ge.includes($)?ge.filter(_e=>_e!==$):[...ge,$]),ce=$=>X(ge=>ge.includes($)?ge.filter(_e=>_e!==$):[...ge,$]),G=()=>{O([]),de([K,Y]),X([])},he=()=>T(!1),D=()=>{const $=I.reduce((Oe,at)=>{if(!at.date)return Oe;const Kt=new Date(at.date).getMonth();return Oe[Kt]=(Oe[Kt]||0)+1,Oe},{}),ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_e=ge.map((Oe,at)=>$[at]||null),Ae=_e.reduce((Oe,at,mr)=>at!==null?mr:Oe,-1),Se=_e.map((Oe,at)=>({x:at,y:Oe})).filter(Oe=>Oe.y!==null),bt=(()=>{var pr;if(Se.length<2)return{slope:0,intercept:((pr=Se[0])==null?void 0:pr.y)||0};const Oe=Se.length,at=Se.reduce((gr,gt)=>gr+gt.x,0),mr=Se.reduce((gr,gt)=>gr+gt.y,0),Kt=Se.reduce((gr,gt)=>gr+gt.x*gt.y,0),kt=Se.reduce((gr,gt)=>gr+gt.x*gt.x,0),en=(Oe*Kt-at*mr)/(Oe*kt-at*at),Ht=(mr-en*at)/Oe;return{slope:en,intercept:Ht}})(),ei={quarterly:[],yearly:[]},Qr=Math.floor(new Date().getMonth()/3);for(let Oe=1;Oe<=4;Oe++){const at=(Qr+Oe)*3,mr=bt.slope*at+bt.intercept;ei.quarterly.push({period:`Q${Oe} ${new Date().getFullYear()}`,predicted:Math.max(0,Math.round(mr))})}const Fr=new Date().getFullYear();for(let Oe=1;Oe<=3;Oe++){const at=bt.slope*(12*Oe)+bt.intercept;ei.yearly.push({period:`${Fr+Oe}`,predicted:Math.max(0,Math.round(at*12))})}return{predictions:ei,chartData:{labels:ge,historical:_e,lastMonthWithData:Ae}}},{predictions:V,chartData:se}=D(),ae={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1},tooltip:{mode:"index",intersect:!1,callbacks:{label:$=>$.raw===null?"No data":`${$.raw} distributions`}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Distributions"}},x:{grid:{display:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},re=()=>{const{labels:$,historical:ge,lastMonthWithData:_e}=se,Ae=new Array(_e+1).fill(null);return A==="quarterly"?V.quarterly.forEach(Se=>{Ae.push(Se.predicted)}):V.yearly.forEach(Se=>{Ae.push(Se.predicted)}),{labels:$,datasets:[{label:"Actual Distributions",data:ge,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",pointRadius:5,pointHoverRadius:8,spanGaps:!1},{label:"Predicted Distributions",data:Ae,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",borderDash:[5,5],pointRadius:4,pointHoverRadius:7,spanGaps:!0}]}},Ne={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1},tooltip:{mode:"index",intersect:!1,callbacks:{label:$=>{const ge=$.raw,_e=$.dataset.data.reduce((Se,bt)=>Se+bt,0),Ae=(ge/_e*100).toFixed(1);return`${ge} (${Ae}%)`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Distributions"}},x:{grid:{display:!1}}}},ze=()=>{const $=A==="quarterly"?V.quarterly.map(_e=>_e.period):V.yearly.map(_e=>_e.period),ge=A==="quarterly"?V.quarterly.map(_e=>_e.predicted):V.yearly.map(_e=>_e.predicted);return{labels:$,datasets:[{label:"Predicted Distributions",data:ge,backgroundColor:"rgba(53, 162, 235, 0.5)",borderColor:"rgb(53, 162, 235)",borderWidth:1}]}},J=I.length,W=I.filter($=>$.status==="distributed"||$.status==="completed"||$.status==="approved").length,ee=I.filter($=>$.status==="approved").length,Z=I.filter($=>$.status==="pending").length,Ee=I.filter($=>$.status==="rejected").length,Ce=J-W-ee-Z-Ee;function it($){const ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_e={};return ge.forEach((Ae,Se)=>{_e[Se]=0}),$.forEach(Ae=>{const bt=new Date(Ae.date).getMonth();_e[bt]=(_e[bt]||0)+1}),ge.map((Ae,Se)=>({x:Ae,y:_e[Se]}))}const Fe=it(I);function ct($){const ge=["Q1","Q2","Q3","Q4"],_e={};return ge.forEach((Ae,Se)=>{_e[Se]=0}),$.forEach(Ae=>{const Se=new Date(Ae.date),bt=Math.floor(Se.getMonth()/3);_e[bt]=(_e[bt]||0)+1}),ge.map((Ae,Se)=>({x:Ae,y:_e[Se]}))}const It=ct(I);return a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(No,{size:24,className:"text-lime-600 mr-2"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Distribution Records"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c($=>!$),className:"flex items-center gap-3 bg-gradient-to-br from-purple-50 to-indigo-50 hover:from-purple-100 hover:to-indigo-100 text-gray-700 px-6 py-4 rounded-xl shadow-md border border-purple-200 transition-all duration-200 hover:shadow-lg min-w-[200px]",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-lg",children:a.jsx(pn,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:"Filter by Status"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Manage records"})]}),a.jsx(Ju,{size:16,className:`ml-auto transition-transform ${o?"rotate-180":""}`})]}),o&&a.jsx("div",{className:"absolute z-10 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg",children:["all","approved","rejected","completed"].map($=>a.jsx("button",{onClick:()=>{h($),c(!1)},className:`block w-full text-left px-4 py-2 hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg ${m===$?"bg-green-50 text-lime-700 font-medium":""}`,children:$.charAt(0).toUpperCase()+$.slice(1)},$))})]}),a.jsxs("button",{onClick:r,disabled:n,className:`flex items-center gap-3 bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 text-gray-700 px-6 py-4 rounded-xl shadow-md border border-green-200 transition-all duration-200 hover:shadow-lg min-w-[220px] ${n?"opacity-70 cursor-not-allowed":""}`,children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg",children:n?a.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsx(Cj,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:n?"Generating...":"Generate Distribution Forecast"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Predictive analytics"})]})]}),a.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-3 bg-gradient-to-br from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 text-gray-700 px-6 py-4 rounded-xl shadow-md border border-blue-200 transition-all duration-200 hover:shadow-lg min-w-[200px]",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg",children:a.jsx(cf,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:"View Forecast Analysis"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Analytics insights"})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Zn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search by name or crop...",value:u,onChange:$=>f($.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full md:w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-lime-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsxs("div",{className:"rounded-xl p-4 w-full max-w-md h-64 flex flex-col",children:[a.jsx("h4",{className:"text-sm font-semibold text-lime-800 mb-2",children:"Claims Forecast (Quarterly)"}),a.jsx("div",{className:"flex-1",children:a.jsx(la,{data:{labels:It.map($=>$.x),datasets:[{label:"Claims",data:It.map($=>$.y),borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.3)",fill:!0,pointRadius:0,tension:.4,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#10B981",borderWidth:1,cornerRadius:8,callbacks:{label:function($){return`Claims: ${$.parsed.y}`}}}},interaction:{mode:"nearest",axis:"x",intersect:!1},scales:{y:{beginAtZero:!0,display:!0,title:{display:!0,text:"Number of Claims",font:{size:12}},ticks:{font:{size:10}},grid:{display:!1,color:"rgba(0,0,0,0.1)"}},x:{display:!0,title:{display:!0,text:"Quarter",font:{size:12}},ticks:{font:{size:10}},grid:{display:!1,color:"rgba(0,0,0,0.1)"}}},elements:{point:{radius:0}}}})})]}),a.jsxs("div",{className:"rounded-xl p-4 w-full max-w-md h-64 flex flex-col",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Claims Trends (Monthly)"}),a.jsx("div",{className:"flex-1",children:a.jsx(la,{data:{labels:Fe.map($=>$.x),datasets:[{label:"Claims",data:Fe.map($=>$.y),borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.3)",fill:!0,pointRadius:0,tension:.4,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#3B82F6",borderWidth:1,cornerRadius:8,callbacks:{label:function($){return`Claims: ${$.parsed.y}`}}}},interaction:{mode:"nearest",axis:"x",intersect:!1},scales:{y:{beginAtZero:!0,display:!0,title:{display:!0,text:"Number of Claims",font:{size:12}},ticks:{font:{size:10}},grid:{display:!1,color:"rgba(0,0,0,0.1)"}},x:{display:!0,title:{display:!0,text:"Month",font:{size:12}},ticks:{font:{size:10}},grid:{display:!1,color:"rgba(0,0,0,0.1)"}}},elements:{point:{radius:0}}}})})]}),a.jsxs("div",{className:"rounded-xl p-4 w-full max-w-md h-64 flex flex-col",children:[a.jsx("h4",{className:"text-sm font-semibold text-purple-800 mb-2",children:"Assistance Application Status"}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(al,{data:{labels:["Distributed","Approved","Pending","Rejected","Unused"],datasets:[{data:[W,ee,Z,Ee,Ce],backgroundColor:["#065F46","#047857","#10B981","#34D399","#6EE7B7"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{padding:10,usePointStyle:!0,font:{size:11}}},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#8B5CF6",borderWidth:1,cornerRadius:8,callbacks:{label:function($){const ge=$.dataset.data.reduce((Ae,Se)=>Ae+Se,0),_e=($.parsed/ge*100).toFixed(1);return`${$.label}: ${$.parsed} (${_e}%)`}}}},cutout:"60%"}})})]})]}),t===0?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(No,{size:48,className:"mx-auto text-gray-300 mb-3"}),a.jsx("p",{className:"text-gray-500 italic",children:"No distribution records available."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-2",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 bg-gray-50 rounded-l-lg font-semibold text-gray-600",children:"Claim ID"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Farmer Name"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Crop Type"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Distribution Date"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Status"}),a.jsx("th",{className:"p-3 bg-gray-50 rounded-r-lg font-semibold text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{children:e.filter($=>m==="all"?!0:$.status.toLowerCase()===m).filter($=>{var ge,_e;return((ge=$.name)==null?void 0:ge.toLowerCase().includes(u.toLowerCase()))||((_e=$.crop)==null?void 0:_e.toLowerCase().includes(u.toLowerCase()))}).map(($,ge)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 border-b border-gray-200 font-mono text-sm",children:$.claimNumber||`DIST-${new Date($.date).getFullYear()}-${String(ge+1).padStart(4,"0")}`}),a.jsx("td",{className:"p-3 border-b border-gray-200 font-medium",children:$.name}),a.jsx("td",{className:"p-3 border-b border-gray-200",children:$.crop}),a.jsx("td",{className:"p-3 border-b border-gray-200",children:new Date($.date).toLocaleDateString()}),a.jsx("td",{className:"p-3 border-b border-gray-200",children:a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-lime-800 rounded-full text-xs font-medium inline-flex items-center",children:[a.jsx(Ar,{size:12,className:"mr-1"}),"Completed"]})}),a.jsx("td",{className:"p-3 border-b border-gray-200",children:a.jsx("button",{onClick:()=>{v($),j(!0)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"View Details"})})]},$._id||$.id||`${$.name}-${$.date}-${ge}`))})]})})]}),x&&p&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Distribution Details"}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:24})})]}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Farmer Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Name:"})," ",p.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Contact:"})," ",p.phone||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Address:"})," ",p.address||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Distribution Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Crop Type:"})," ",p.crop]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Date:"})," ",new Date(p.date).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Status:"})," Completed"]})]})]})]})})]})}),b&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Distribution Forecasting Analysis"}),a.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsx("button",{onClick:()=>S("quarterly"),className:`px-4 py-2 rounded-lg ${A==="quarterly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Quarterly Forecast"}),a.jsx("button",{onClick:()=>S("yearly"),className:`px-4 py-2 rounded-lg ${A==="yearly"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Yearly Forecast"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Distribution Trends"}),a.jsx("div",{className:"w-full h-[300px] relative",children:a.jsx(la,{data:re(),options:ae})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:a.jsx("div",{style:{height:"300px"},children:a.jsx(tf,{options:Ne,data:ze()})})})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsxs("h3",{className:"text-lg font-medium mb-4",children:[A==="quarterly"?"Quarterly":"Yearly"," Distribution Forecast"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:V[A].map($=>a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("div",{className:"text-sm text-gray-500",children:$.period}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:$.predicted}),a.jsx("div",{className:"text-xs text-gray-400",children:"Predicted Distributions"})]},$.period))}),a.jsxs("div",{className:"mt-6 space-y-2",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Forecast Analysis"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Based on historical distribution patterns and regression analysis, we predict a ",A==="quarterly"?"quarterly average of "+Math.round(V.quarterly.reduce(($,ge)=>$+ge.predicted,0)/4):"yearly average of "+Math.round(V.yearly.reduce(($,ge)=>$+ge.predicted,0)/3)," distributions."]}),a.jsx("p",{className:"text-sm text-gray-500",children:"* Forecasts are calculated using advanced regression analysis with seasonal adjustments"})]})]})]})]})}),a.jsx("button",{className:"fixed bottom-8 right-8 z-50 bg-lime-700 text-white rounded-full shadow-lg p-4 hover:bg-lime-800 transition",onClick:()=>T(!0),"aria-label":"Open analytics filters",children:a.jsx(Rj,{className:"w-6 h-6"})}),C&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 transition-opacity duration-300",onClick:()=>T(!1)}),a.jsxs("div",{className:"relative ml-auto w-full max-w-md bg-white shadow-2xl h-full flex flex-col p-8 transform transition-transform duration-300 translate-x-0",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Filter Analytics"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[k.map($=>a.jsxs("span",{className:"inline-flex items-center bg-lime-100 text-lime-800 px-3 py-1 rounded-full text-xs font-medium",children:[$,a.jsx("button",{onClick:()=>q($),className:"ml-2 text-lime-700 hover:text-lime-900",children:"×"})]},$)),Q.map($=>a.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium",children:[$.charAt(0).toUpperCase()+$.slice(1),a.jsx("button",{onClick:()=>ce($),className:"ml-2 text-blue-700 hover:text-blue-900",children:"×"})]},$)),(te[0]!==K||te[1]!==Y)&&a.jsxs("span",{className:"inline-flex items-center bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-xs font-medium",children:[te[0]," - ",te[1],a.jsx("button",{onClick:G,className:"ml-2 text-gray-700 hover:text-gray-900",children:"×"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Crop Type"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:be.map($=>a.jsx("button",{className:`px-3 py-1 rounded-full border ${k.includes($)?"bg-lime-700 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>q($),type:"button",children:$},$))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Year Range"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"range",min:K,max:Y,value:te[0],onChange:$=>de([Number($.target.value),te[1]]),className:"w-full"}),a.jsx("span",{className:"text-xs",children:te[0]}),a.jsx("span",{className:"mx-1",children:"-"}),a.jsx("input",{type:"range",min:K,max:Y,value:te[1],onChange:$=>de([te[0],Number($.target.value)]),className:"w-full"}),a.jsx("span",{className:"text-xs",children:te[1]})]}),a.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[a.jsx("span",{children:K}),a.jsx("span",{children:Y})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map($=>a.jsx("button",{className:`px-3 py-1 rounded-full border ${Q.includes($)?"bg-lime-700 text-white":"bg-gray-100 text-gray-700"}`,onClick:()=>ce($),type:"button",children:$.charAt(0).toUpperCase()+$.slice(1)},$))})]})]}),a.jsxs("div",{className:"mt-auto flex gap-4 pt-8",children:[a.jsx("button",{className:"flex-1 bg-gray-200 rounded py-2",onClick:G,children:"Reset"}),a.jsx("button",{className:"flex-1 bg-lime-700 text-white rounded py-2",onClick:he,children:"Apply"})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:["Showing ",Te.length," results"]})]})]})]})};function Ly(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ly(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ly(e))&&(n&&(n+=" "),n+=t);return n}var fc={},hc={},Cm;function t1(){return Cm||(Cm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(hc)),hc}var mc={},Om;function Iy(){return Om||(Om=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(mc)),mc}var pc={},km;function Ry(){return km||(km=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t}(pc)),pc}var gc={},Tm;function uf(){return Tm||(Tm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let o=0,c="",u="",f=!1;for(r.charCodeAt(0)===46&&(n.push(""),o++);o<s;){const m=r[o];u?m==="\\"&&o+1<s?(o++,c+=r[o]):m===u?u="":c+=m:f?m==='"'||m==="'"?u=m:m==="]"?(f=!1,n.push(c),c=""):c+=m:m==="["?(f=!0,c&&(n.push(c),c="")):m==="."?c&&(n.push(c),c=""):c+=m,o++}return c&&n.push(c),n}e.toPath=t}(gc)),gc}var Em;function df(){return Em||(Em=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t1(),r=Iy(),n=Ry(),s=uf();function o(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?r.isDeepKey(f)?o(u,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let p=0;p<f.length;p++){if(h==null||t.isUnsafeProperty(f[p]))return m;h=h[f[p]]}return h===void 0?m:h}e.get=o}(fc)),fc}var vc,Mm;function r1(){return Mm||(Mm=1,vc=df().get),vc}var n1=r1();const Pi=Jr(n1);var yc={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function i1(){if(Dm)return We;Dm=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,m=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,A=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function C(k){if(typeof k=="object"&&k!==null){var O=k.$$typeof;switch(O){case t:switch(k=k.type,k){case f:case m:case n:case o:case s:case p:return k;default:switch(k=k&&k.$$typeof,k){case u:case h:case j:case x:case c:return k;default:return O}}case r:return O}}}function T(k){return C(k)===m}return We.AsyncMode=f,We.ConcurrentMode=m,We.ContextConsumer=u,We.ContextProvider=c,We.Element=t,We.ForwardRef=h,We.Fragment=n,We.Lazy=j,We.Memo=x,We.Portal=r,We.Profiler=o,We.StrictMode=s,We.Suspense=p,We.isAsyncMode=function(k){return T(k)||C(k)===f},We.isConcurrentMode=T,We.isContextConsumer=function(k){return C(k)===u},We.isContextProvider=function(k){return C(k)===c},We.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},We.isForwardRef=function(k){return C(k)===h},We.isFragment=function(k){return C(k)===n},We.isLazy=function(k){return C(k)===j},We.isMemo=function(k){return C(k)===x},We.isPortal=function(k){return C(k)===r},We.isProfiler=function(k){return C(k)===o},We.isStrictMode=function(k){return C(k)===s},We.isSuspense=function(k){return C(k)===p},We.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===n||k===m||k===o||k===s||k===p||k===v||typeof k=="object"&&k!==null&&(k.$$typeof===j||k.$$typeof===x||k.$$typeof===c||k.$$typeof===u||k.$$typeof===h||k.$$typeof===w||k.$$typeof===A||k.$$typeof===S||k.$$typeof===b)},We.typeOf=C,We}var Lm;function a1(){return Lm||(Lm=1,yc.exports=i1()),yc.exports}var s1=a1(),lr=e=>e===0?0:e>0?1:-1,dr=e=>typeof e=="number"&&e!=+e,vi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!dr(e),Gr=e=>ue(e)||typeof e=="string",o1=0,da=e=>{var t=++o1;return"".concat(e||"").concat(t)},$r=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var o;if(vi(t)){if(r==null)return n;var c=t.indexOf("%");o=r*parseFloat(t.slice(0,c))/100}else o=+t;return dr(o)&&(o=n),s&&r!=null&&o>r&&(o=r),o},zy=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},ta=(e,t)=>ue(e)&&ue(t)?r=>e+r*(t-e):()=>t;function ra(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function $y(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Pi(n,t))===r)}var Ve=e=>e===null||typeof e>"u",Ps=e=>Ve(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),l1=["viewBox","children"],c1=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Im=["points","pathLength"],xc={svg:l1,polygon:Im,polyline:Im},ff=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hf=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{ff.includes(s)&&(n[s]=o=>r[s](r,o))}),n},u1=(e,t,r)=>n=>(e(t,r,n),null),ll=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var o=e[s];ff.includes(s)&&typeof o=="function"&&(n||(n={}),n[s]=u1(o,t,r))}),n},Rm=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zm=null,bc=null,By=e=>{if(e===zm&&Array.isArray(bc))return bc;var t=[];return _.Children.forEach(e,r=>{Ve(r)||(s1.isFragment(r)?t=t.concat(By(r.props.children)):t.push(r))}),bc=t,zm=e,t};function mf(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>Rm(s)):n=[Rm(t)],By(e).forEach(s=>{var o=Pi(s,"type.displayName")||Pi(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}var Fy=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,d1=(e,t,r,n)=>{var s,o=(s=n&&(xc==null?void 0:xc[n]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(n&&o.includes(t)||c1.includes(t))||r&&ff.includes(t)},Be=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(o=>{var c;d1((c=n)===null||c===void 0?void 0:c[o],o,t,r)&&(s[o]=n[o])}),s},f1=["children","width","height","viewBox","className","style","title","desc"];function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(null,arguments)}function h1(e,t){if(e==null)return{};var r,n,s=m1(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function m1(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pf=_.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:o,className:c,style:u,title:f,desc:m}=e,h=h1(e,f1),p=o||{width:n,height:s,x:0,y:0},v=Ke("recharts-surface",c);return _.createElement("svg",nd({},Be(h,!0,"svg"),{className:v,width:n,height:s,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),_.createElement("title",null,f),_.createElement("desc",null,m),r)}),p1=["children","className"];function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(null,arguments)}function g1(e,t){if(e==null)return{};var r,n,s=v1(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function v1(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bt=_.forwardRef((e,t)=>{var{children:r,className:n}=e,s=g1(e,p1),o=Ke("recharts-layer",n);return _.createElement("g",id({className:o},Be(s,!0),{ref:t}),r)}),qy=_.createContext(null),y1=()=>_.useContext(qy);function Ge(e){return function(){return e}}const Wy=Math.cos,Po=Math.sin,Br=Math.sqrt,Ao=Math.PI,cl=2*Ao,ad=Math.PI,sd=2*ad,hi=1e-6,x1=sd-hi;function Uy(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function b1(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Uy;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class _1{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Uy:b1(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,c){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,f=n-t,m=s-r,h=c-t,p=u-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>hi)if(!(Math.abs(p*f-m*h)>hi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-c,j=s-u,b=f*f+m*m,w=x*x+j*j,A=Math.sqrt(b),S=Math.sqrt(v),C=o*Math.tan((ad-Math.acos((b+v-w)/(2*A*S)))/2),T=C/S,k=C/A;Math.abs(T-1)>hi&&this._append`L${t+T*h},${r+T*p}`,this._append`A${o},${o},0,0,${+(p*x>h*j)},${this._x1=t+k*f},${this._y1=r+k*m}`}}arc(t,r,n,s,o,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(s),f=n*Math.sin(s),m=t+u,h=r+f,p=1^c,v=c?s-o:o-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>hi||Math.abs(this._y1-h)>hi)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%sd+sd),v>x1?this._append`A${n},${n},0,1,${p},${t-u},${r-f}A${n},${n},0,1,${p},${this._x1=m},${this._y1=h}`:v>hi&&this._append`A${n},${n},0,${+(v>=ad)},${p},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function gf(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _1(t)}function vf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zy(e){this._context=e}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ul(e){return new Zy(e)}function Ky(e){return e[0]}function Hy(e){return e[1]}function Yy(e,t){var r=Ge(!0),n=null,s=ul,o=null,c=gf(u);e=typeof e=="function"?e:e===void 0?Ky:Ge(e),t=typeof t=="function"?t:t===void 0?Hy:Ge(t);function u(f){var m,h=(f=vf(f)).length,p,v=!1,x;for(n==null&&(o=s(x=c())),m=0;m<=h;++m)!(m<h&&r(p=f[m],m,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(p,m,f),+t(p,m,f));if(x)return o=null,x+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ge(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ge(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Ge(!!f),u):r},u.curve=function(f){return arguments.length?(s=f,n!=null&&(o=s(n)),u):s},u.context=function(f){return arguments.length?(f==null?n=o=null:o=s(n=f),u):n},u}function oo(e,t,r){var n=null,s=Ge(!0),o=null,c=ul,u=null,f=gf(m);e=typeof e=="function"?e:e===void 0?Ky:Ge(+e),t=typeof t=="function"?t:Ge(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Hy:Ge(+r);function m(p){var v,x,j,b=(p=vf(p)).length,w,A=!1,S,C=new Array(b),T=new Array(b);for(o==null&&(u=c(S=f())),v=0;v<=b;++v){if(!(v<b&&s(w=p[v],v,p))===A)if(A=!A)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=v-1;j>=x;--j)u.point(C[j],T[j]);u.lineEnd(),u.areaEnd()}A&&(C[v]=+e(w,v,p),T[v]=+t(w,v,p),u.point(n?+n(w,v,p):C[v],r?+r(w,v,p):T[v]))}if(S)return u=null,S+""||null}function h(){return Yy().defined(s).curve(c).context(o)}return m.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ge(+p),n=null,m):e},m.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ge(+p),m):e},m.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ge(+p),m):n},m.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ge(+p),r=null,m):t},m.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ge(+p),m):t},m.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ge(+p),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(p){return arguments.length?(s=typeof p=="function"?p:Ge(!!p),m):s},m.curve=function(p){return arguments.length?(c=p,o!=null&&(u=c(o)),m):c},m.context=function(p){return arguments.length?(p==null?o=u=null:u=c(o=p),m):o},m}class Gy{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function w1(e){return new Gy(e,!0)}function j1(e){return new Gy(e,!1)}const yf={draw(e,t){const r=Br(t/Ao);e.moveTo(r,0),e.arc(0,0,r,0,cl)}},N1={draw(e,t){const r=Br(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Vy=Br(1/3),P1=Vy*2,A1={draw(e,t){const r=Br(t/P1),n=r*Vy;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},S1={draw(e,t){const r=Br(t),n=-r/2;e.rect(n,n,r,r)}},C1=.8908130915292852,Xy=Po(Ao/10)/Po(7*Ao/10),O1=Po(cl/10)*Xy,k1=-Wy(cl/10)*Xy,T1={draw(e,t){const r=Br(t*C1),n=O1*r,s=k1*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const c=cl*o/5,u=Wy(c),f=Po(c);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*s,f*n+u*s)}e.closePath()}},_c=Br(3),E1={draw(e,t){const r=-Br(t/(_c*3));e.moveTo(0,r*2),e.lineTo(-_c*r,-r),e.lineTo(_c*r,-r),e.closePath()}},br=-.5,_r=Br(3)/2,od=1/Br(12),M1=(od/2+1)*3,D1={draw(e,t){const r=Br(t/M1),n=r/2,s=r*od,o=n,c=r*od+r,u=-o,f=c;e.moveTo(n,s),e.lineTo(o,c),e.lineTo(u,f),e.lineTo(br*n-_r*s,_r*n+br*s),e.lineTo(br*o-_r*c,_r*o+br*c),e.lineTo(br*u-_r*f,_r*u+br*f),e.lineTo(br*n+_r*s,br*s-_r*n),e.lineTo(br*o+_r*c,br*c-_r*o),e.lineTo(br*u+_r*f,br*f-_r*u),e.closePath()}};function L1(e,t){let r=null,n=gf(s);e=typeof e=="function"?e:Ge(e||yf),t=typeof t=="function"?t:Ge(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ge(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ge(+o),s):t},s.context=function(o){return arguments.length?(r=o==null?null:o,s):r},s}function So(){}function Co(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Jy(e){this._context=e}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Co(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Co(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I1(e){return new Jy(e)}function Qy(e){this._context=e}Qy.prototype={areaStart:So,areaEnd:So,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Co(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R1(e){return new Qy(e)}function ex(e){this._context=e}ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Co(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z1(e){return new ex(e)}function tx(e){this._context=e}tx.prototype={areaStart:So,areaEnd:So,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $1(e){return new tx(e)}function $m(e){return e<0?-1:1}function Bm(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),c=(r-e._y1)/(s||n<0&&-0),u=(o*s+c*n)/(n+s);return($m(o)+$m(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function Fm(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wc(e,t,r){var n=e._x0,s=e._y0,o=e._x1,c=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,s+u*t,o-u,c-u*r,o,c)}function Oo(e){this._context=e}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wc(this,this._t0,Fm(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wc(this,Fm(this,r=Bm(this,e,t)),r);break;default:wc(this,this._t0,r=Bm(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function rx(e){this._context=new nx(e)}(rx.prototype=Object.create(Oo.prototype)).point=function(e,t){Oo.prototype.point.call(this,t,e)};function nx(e){this._context=e}nx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function B1(e){return new Oo(e)}function F1(e){return new rx(e)}function ix(e){this._context=e}ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qm(e),s=qm(t),o=0,c=1;c<r;++o,++c)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qm(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),c=new Array(r);for(s[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,c[t]-=n*c[t-1];for(s[r-1]=c[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function q1(e){return new ix(e)}function dl(e,t){this._context=e,this._t=t}dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function W1(e){return new dl(e,.5)}function U1(e){return new dl(e,0)}function Z1(e){return new dl(e,1)}function fa(e,t){if((c=e.length)>1)for(var r=1,n,s,o=e[t[0]],c,u=o.length;r<c;++r)for(s=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function ld(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function K1(e,t){return e[t]}function H1(e){const t=[];return t.key=e,t}function Y1(){var e=Ge([]),t=ld,r=fa,n=K1;function s(o){var c=Array.from(e.apply(this,arguments),H1),u,f=c.length,m=-1,h;for(const p of o)for(u=0,++m;u<f;++u)(c[u][m]=[0,+n(p,c[u].key,m,o)]).data=p;for(u=0,h=vf(t(c));u<f;++u)c[h[u]].index=u;return r(c,h),c}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ge(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ge(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?ld:typeof o=="function"?o:Ge(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o==null?fa:o,s):r},s}function G1(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,c;s<o;++s){for(c=r=0;r<n;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<n;++r)e[r][s][1]/=c}fa(e,t)}}function V1(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var c=0,u=0;c<s;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}fa(e,t)}}function X1(e,t){if(!(!((c=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,c;n<o;++n){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],p=h[n][1]||0,v=h[n-1][1]||0,x=(p-v)/2,j=0;j<u;++j){var b=e[t[j]],w=b[n][1]||0,A=b[n-1][1]||0;x+=w-A}f+=p,m+=x*p}s[n-1][1]+=s[n-1][0]=r,f&&(r-=m/f)}s[n-1][1]+=s[n-1][0]=r,fa(e,t)}}var J1=["type","size","sizeType"];function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(null,arguments)}function Wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wm(Object(r),!0).forEach(function(n){Q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q1(e,t,r){return(t=eN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eN(e){var t=tN(e,"string");return typeof t=="symbol"?t:t+""}function tN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rN(e,t){if(e==null)return{};var r,n,s=nN(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nN(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ax={symbolCircle:yf,symbolCross:N1,symbolDiamond:A1,symbolSquare:S1,symbolStar:T1,symbolTriangle:E1,symbolWye:D1},iN=Math.PI/180,aN=e=>{var t="symbol".concat(Ps(e));return ax[t]||yf},sN=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*iN;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oN=(e,t)=>{ax["symbol".concat(Ps(e))]=t},xf=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=rN(e,J1),o=Um(Um({},s),{},{type:t,size:r,sizeType:n}),c=()=>{var p=aN(t),v=L1().type(p).size(sN(r,n,t));return v()},{className:u,cx:f,cy:m}=o,h=Be(o,!0);return f===+f&&m===+m&&r===+r?_.createElement("path",cd({},h,{className:Ke("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};xf.registerSymbol=oN;function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ud.apply(null,arguments)}function Zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zm(Object(r),!0).forEach(function(n){bf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bf(e,t,r){return(t=cN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cN(e){var t=uN(e,"string");return typeof t=="symbol"?t:t+""}function uN(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wr=32;class _f extends _.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=wr/2,o=wr/6,c=wr/3,u=t.inactive?n:t.color,f=r!=null?r:t.type;if(f==="none")return null;if(f==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:wr,y2:s,className:"recharts-legend-icon"});if(f==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(wr,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(f==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(wr/8,"h").concat(wr,"v").concat(wr*3/4,"h").concat(-wr,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var m=lN({},t);return delete m.legendIcon,_.cloneElement(t.legendIcon,m)}return _.createElement(xf,{fill:u,cx:s,cy:s,size:wr,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:o,iconType:c}=this.props,u={x:0,y:0,width:wr,height:wr},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var v=h.formatter||s,x=Ke({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var j=h.inactive?o:h.color,b=v?v(h.value,h,p):h.value;return _.createElement("li",ud({className:x,style:f,key:"legend-item-".concat(p)},ll(this.props,h,p)),_.createElement(pf,{width:r,height:r,viewBox:u,style:m,"aria-label":"".concat(b," legend icon")},this.renderIcon(h,c)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}bf(_f,"displayName","Legend");bf(_f,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var jc={},Nc={},Km;function dN(){return Km||(Km=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let o=0;o<r.length;o++){const c=r[o],u=n(c);s.has(u)||s.set(u,c)}return Array.from(s.values())}e.uniqBy=t}(Nc)),Nc}var Pc={},Hm;function sx(){return Hm||(Hm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(Pc)),Pc}var Ac={},Sc={},Cc={},Ym;function fN(){return Ym||(Ym=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(Cc)),Cc}var Gm;function wf(){return Gm||(Gm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(Sc)),Sc}var Oc={},Vm;function hN(){return Vm||(Vm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(Oc)),Oc}var Xm;function mN(){return Xm||(Xm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wf(),r=hN();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n}(Ac)),Ac}var kc={},Tc={},Jm;function pN(){return Jm||(Jm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=df();function r(n){return function(s){return t.get(s,n)}}e.property=r}(Tc)),Tc}var Ec={},Mc={},Dc={},Lc={},Qm;function ox(){return Qm||(Qm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(Lc)),Lc}var Ic={},ep;function lx(){return ep||(ep=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(Ic)),Ic}var Rc={},tp;function jf(){return tp||(tp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(Rc)),Rc}var rp;function gN(){return rp||(rp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nf(),r=ox(),n=lx(),s=jf();function o(p,v,x){return typeof x!="function"?t.isMatch(p,v):c(p,v,function j(b,w,A,S,C,T){const k=x(b,w,A,S,C,T);return k!==void 0?!!k:c(b,w,j,T)},new Map)}function c(p,v,x,j){if(v===p)return!0;switch(typeof v){case"object":return u(p,v,x,j);case"function":return Object.keys(v).length>0?c(p,{...v},x,j):s.eq(p,v);default:return r.isObject(p)?typeof v=="string"?v==="":!0:s.eq(p,v)}}function u(p,v,x,j){if(v==null)return!0;if(Array.isArray(v))return m(p,v,x,j);if(v instanceof Map)return f(p,v,x,j);if(v instanceof Set)return h(p,v,x,j);const b=Object.keys(v);if(p==null)return b.length===0;if(b.length===0)return!0;if(j&&j.has(v))return j.get(v)===p;j&&j.set(v,p);try{for(let w=0;w<b.length;w++){const A=b[w];if(!n.isPrimitive(p)&&!(A in p)||v[A]===void 0&&p[A]!==void 0||v[A]===null&&p[A]!==null||!x(p[A],v[A],A,p,v,j))return!1}return!0}finally{j&&j.delete(v)}}function f(p,v,x,j){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[b,w]of v.entries()){const A=p.get(b);if(x(A,w,b,p,v,j)===!1)return!1}return!0}function m(p,v,x,j){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const b=new Set;for(let w=0;w<v.length;w++){const A=v[w];let S=!1;for(let C=0;C<p.length;C++){if(b.has(C))continue;const T=p[C];let k=!1;if(x(T,A,w,p,v,j)&&(k=!0),k){b.add(C),S=!0;break}}if(!S)return!1}return!0}function h(p,v,x,j){return v.size===0?!0:p instanceof Set?m([...p],[...v],x,j):!1}e.isMatchWith=o,e.isSetMatch=h}(Dc)),Dc}var np;function Nf(){return np||(np=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gN();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(Mc)),Mc}var zc={},$c={},Bc={},ip;function cx(){return ip||(ip=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(Bc)),Bc}var Fc={},ap;function Pf(){return ap||(ap=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(Fc)),Fc}var qc={},sp;function Af(){return sp||(sp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",o="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",x="[object Object]",j="[object Error]",b="[object DataView]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",F="[object BigInt64Array]",K="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=b,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=K,e.float64ArrayTag=Y,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=I,e.int8ArrayTag=k,e.mapTag=f,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=S,e.uint32ArrayTag=C,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=A}(qc)),qc}var Wc={},op;function vN(){return op||(op=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(Wc)),Wc}var lp;function ux(){return lp||(lp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cx(),r=Pf(),n=Af(),s=lx(),o=vN();function c(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,v,x=new Map,j=void 0){const b=j==null?void 0:j(h,p,v,x);if(b!=null)return b;if(s.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const w=new Array(h.length);x.set(h,w);for(let A=0;A<h.length;A++)w[A]=u(h[A],A,v,x,j);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;x.set(h,w);for(const[A,S]of h)w.set(A,u(S,A,v,x,j));return w}if(h instanceof Set){const w=new Set;x.set(h,w);for(const A of h)w.add(u(A,void 0,v,x,j));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,w);for(let A=0;A<h.length;A++)w[A]=u(h[A],A,v,x,j);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,w),f(w,h,v,x,j),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return x.set(h,w),f(w,h,v,x,j),w}if(h instanceof Blob){const w=new Blob([h],{type:h.type});return x.set(h,w),f(w,h,v,x,j),w}if(h instanceof Error){const w=new h.constructor;return x.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,f(w,h,v,x,j),w}if(typeof h=="object"&&m(h)){const w=Object.create(Object.getPrototypeOf(h));return x.set(h,w),f(w,h,v,x,j),w}return h}function f(h,p,v=h,x,j){const b=[...Object.keys(p),...t.getSymbols(p)];for(let w=0;w<b.length;w++){const A=b[w],S=Object.getOwnPropertyDescriptor(h,A);(S==null||S.writable)&&(h[A]=u(p[A],A,v,x,j))}}function m(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f}($c)),$c}var cp;function yN(){return cp||(cp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(zc)),zc}var up;function xN(){return up||(up=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nf(),r=yN();function n(s){return s=r.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=n}(Ec)),Ec}var Uc={},Zc={},Kc={},dp;function bN(){return dp||(dp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ux(),r=Af();function n(s,o){return t.cloneDeepWith(s,(c,u,f,m)=>{const h=o==null?void 0:o(c,u,f,m);if(h!=null)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(p,s),p}case r.argumentsTag:{const p={};return t.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n}(Kc)),Kc}var fp;function _N(){return fp||(fp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(Zc)),Zc}var Hc={},Yc={},hp;function dx(){return hp||(hp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(Yc)),Yc}var Gc={},mp;function wN(){return mp||(mp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pf();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(Gc)),Gc}var pp;function jN(){return pp||(pp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iy(),r=dx(),n=wN(),s=uf();function o(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(c==null?void 0:c[u])==null?f=s.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const p=f[h];if((m==null||!Object.hasOwn(m,p))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(p)&&p<m.length))return!1;m=m[p]}return!0}e.has=o}(Hc)),Hc}var gp;function NN(){return gp||(gp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nf(),r=Ry(),n=_N(),s=df(),o=jN();function c(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const h=s.get(m,u);return h===void 0?o.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(Uc)),Uc}var vp;function PN(){return vp||(vp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx(),r=pN(),n=xN(),s=NN();function o(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=o}(kc)),kc}var yp;function AN(){return yp||(yp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dN(),r=sx(),n=mN(),s=PN();function o(c,u=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(u)):[]}e.uniqBy=o}(jc)),jc}var Vc,xp;function SN(){return xp||(xp=1,Vc=AN().uniqBy),Vc}var CN=SN();const bp=Jr(CN);function fx(e,t,r){return t===!0?bp(e,r):typeof t=="function"?bp(e,t):e}var Xc={exports:{}},Jc={},Qc={exports:{}},eu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function ON(){if(_p)return eu;_p=1;var e=Qd();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function u(p,v){var x=v(),j=n({inst:{value:x,getSnapshot:v}}),b=j[0].inst,w=j[1];return o(function(){b.value=x,b.getSnapshot=v,f(b)&&w({inst:b})},[p,x,v]),s(function(){return f(b)&&w({inst:b}),p(function(){f(b)&&w({inst:b})})},[p]),c(x),x}function f(p){var v=p.getSnapshot;p=p.value;try{var x=v();return!r(p,x)}catch{return!0}}function m(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return eu.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,eu}var wp;function kN(){return wp||(wp=1,Qc.exports=ON()),Qc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function TN(){if(jp)return Jc;jp=1;var e=Qd(),t=kN();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Jc.useSyncExternalStoreWithSelector=function(m,h,p,v,x){var j=o(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=u(function(){function A(O){if(!S){if(S=!0,C=O,O=v(O),x!==void 0&&b.hasValue){var I=b.value;if(x(I,O))return T=I}return T=O}if(I=T,n(C,O))return I;var F=v(O);return x!==void 0&&x(I,F)?(C=O,I):(C=O,T=F)}var S=!1,C,T,k=p===void 0?null:p;return[function(){return A(h())},k===null?void 0:function(){return A(k())}]},[h,p,v,x]);var w=s(m,j[0],j[1]);return c(function(){b.hasValue=!0,b.value=w},[w]),f(w),w},Jc}var Np;function EN(){return Np||(Np=1,Xc.exports=TN()),Xc.exports}var MN=EN(),Sf=_.createContext(null),DN=e=>e,dt=()=>{var e=_.useContext(Sf);return e?e.store.dispatch:DN},_o=()=>{},LN=()=>_o,IN=(e,t)=>e===t;function fe(e){var t=_.useContext(Sf);return MN.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:LN,t?t.store.getState:_o,t?t.store.getState:_o,t?e:_o,IN)}function RN(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zN(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $N(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Pp=e=>Array.isArray(e)?e:[e];function BN(e){const t=Array.isArray(e[0])?e[0]:e;return $N(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FN(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var qN=class{constructor(e){this.value=e}deref(){return this.value}},WN=typeof WeakRef<"u"?WeakRef:qN,UN=0,Ap=1;function lo(){return{s:UN,v:void 0,o:null,p:null}}function hx(e,t={}){let r=lo();const{resultEqualityCheck:n}=t;let s,o=0;function c(){var p,v;let u=r;const{length:f}=arguments;for(let x=0,j=f;x<j;x++){const b=arguments[x];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const A=w.get(b);A===void 0?(u=lo(),w.set(b,u)):u=A}else{let w=u.p;w===null&&(u.p=w=new Map);const A=w.get(b);A===void 0?(u=lo(),w.set(b,u)):u=A}}const m=u;let h;if(u.s===Ap)h=u.v;else if(h=e.apply(null,arguments),o++,n){const x=(v=(p=s==null?void 0:s.deref)==null?void 0:p.call(s))!=null?v:s;x!=null&&n(x,h)&&(h=x,o!==0&&o--),s=typeof h=="object"&&h!==null||typeof h=="function"?new WN(h):h}return m.s=Ap,m.v=h,h}return c.clearCache=()=>{r=lo(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function ZN(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let o=0,c=0,u,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),RN(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...r,...f},{memoize:p,memoizeOptions:v=[],argsMemoize:x=hx,argsMemoizeOptions:j=[]}=h,b=Pp(v),w=Pp(j),A=BN(s),S=p(function(){return o++,m.apply(null,arguments)},...b),C=x(function(){c++;const k=FN(A,arguments);return u=S.apply(null,k),u},...w);return Object.assign(C,{resultFunc:m,memoizedResultFunc:S,dependencies:A,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var U=ZN(hx),KN=Object.assign((e,t=U)=>{zN(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((c,u,f)=>(c[r[f]]=u,c),{}))},{withTypes:()=>KN}),tu={},ru={},nu={},Sp;function HN(){return Sp||(Sp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,o)=>{if(n!==s){const c=t(n),u=t(s);if(c===u&&c===0){if(n<s)return o==="desc"?1:-1;if(n>s)return o==="desc"?-1:1}return o==="desc"?u-c:c-u}return 0};e.compareValues=r}(nu)),nu}var iu={},au={},Cp;function mx(){return Cp||(Cp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(au)),au}var Op;function YN(){return Op||(Op=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||c!=null&&Object.hasOwn(c,o)}e.isKey=s}(iu)),iu}var kp;function GN(){return kp||(kp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HN(),r=YN(),n=uf();function s(o,c,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const m=(x,j)=>{let b=x;for(let w=0;w<j.length&&b!=null;++w)b=b[j[w]];return b},h=(x,j)=>j==null||x==null?j:typeof x=="object"&&"key"in x?Object.hasOwn(j,x.key)?j[x.key]:m(j,x.path):typeof x=="function"?x(j):Array.isArray(x)?m(j,x):typeof j=="object"?j[x]:j,p=c.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return o.map(x=>({original:x,criteria:p.map(j=>h(j,x))})).slice().sort((x,j)=>{for(let b=0;b<p.length;b++){const w=t.compareValues(x.criteria[b],j.criteria[b],u[b]);if(w!==0)return w}return 0}).map(x=>x.original)}e.orderBy=s}(ru)),ru}var su={},Tp;function VN(){return Tp||(Tp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],o=Math.floor(n),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<o?c(h,f+1):s.push(h)}};return c(r,0),s}e.flatten=t}(su)),su}var ou={},Ep;function px(){return Ep||(Ep=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dx(),r=wf(),n=ox(),s=jf();function o(c,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?s.eq(f[u],c):!1}e.isIterateeCall=o}(ou)),ou}var Mp;function XN(){return Mp||(Mp=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GN(),r=VN(),n=px();function s(o,...c){const u=c.length;return u>1&&n.isIterateeCall(o,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(o,r.flatten(c),["asc"])}e.sortBy=s}(tu)),tu}var lu,Dp;function JN(){return Dp||(Dp=1,lu=XN().sortBy),lu}var QN=JN();const fl=Jr(QN);var gx=e=>e.legend.settings,eP=e=>e.legend.size,tP=e=>e.legend.payload,rP=U([tP,gx],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?fl(n,r):n});function nP(){return fe(rP)}var co=1;function vx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-t.height)>co||Math.abs(c.left-t.left)>co||Math.abs(c.top-t.top)>co||Math.abs(c.width-t.width)>co)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Tt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Lp=iP,cu=()=>Math.random().toString(36).substring(7).split("").join("."),aP={INIT:`@@redux/INIT${cu()}`,REPLACE:`@@redux/REPLACE${cu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cu()}`},ko=aP;function Cf(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yx(e,t,r){if(typeof e!="function")throw new Error(Tt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Tt(1));return r(yx)(e,t)}let n=e,s=t,o=new Map,c=o,u=0,f=!1;function m(){c===o&&(c=new Map,o.forEach((w,A)=>{c.set(A,w)}))}function h(){if(f)throw new Error(Tt(3));return s}function p(w){if(typeof w!="function")throw new Error(Tt(4));if(f)throw new Error(Tt(5));let A=!0;m();const S=u++;return c.set(S,w),function(){if(A){if(f)throw new Error(Tt(6));A=!1,m(),c.delete(S),o=null}}}function v(w){if(!Cf(w))throw new Error(Tt(7));if(typeof w.type>"u")throw new Error(Tt(8));if(typeof w.type!="string")throw new Error(Tt(17));if(f)throw new Error(Tt(9));try{f=!0,s=n(s,w)}finally{f=!1}return(o=c).forEach(S=>{S()}),w}function x(w){if(typeof w!="function")throw new Error(Tt(10));n=w,v({type:ko.REPLACE})}function j(){const w=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Tt(11));function S(){const T=A;T.next&&T.next(h())}return S(),{unsubscribe:w(S)}},[Lp](){return this}}}return v({type:ko.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:x,[Lp]:j}}function sP(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ko.INIT})>"u")throw new Error(Tt(12));if(typeof r(void 0,{type:ko.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tt(13))})}function xx(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let s;try{sP(r)}catch(o){s=o}return function(c={},u){if(s)throw s;let f=!1;const m={};for(let h=0;h<n.length;h++){const p=n[h],v=r[p],x=c[p],j=v(x,u);if(typeof j>"u")throw u&&u.type,new Error(Tt(14));m[p]=j,f=f||j!==x}return f=f||n.length!==Object.keys(c).length,f?m:c}}function To(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oP(...e){return t=>(r,n)=>{const s=t(r,n);let o=()=>{throw new Error(Tt(15))};const c={getState:s.getState,dispatch:(f,...m)=>o(f,...m)},u=e.map(f=>f(c));return o=To(...u)(s.dispatch),{...s,dispatch:o}}}function bx(e){return Cf(e)&&"type"in e&&typeof e.type=="string"}var _x=Symbol.for("immer-nothing"),Ip=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ha=Object.getPrototypeOf;function Ai(e){return!!e&&!!e[fr]}function bn(e){var t;return e?wx(e)||Array.isArray(e)||!!e[Ip]||!!((t=e.constructor)!=null&&t[Ip])||ml(e)||pl(e):!1}var lP=Object.prototype.constructor.toString();function wx(e){if(!e||typeof e!="object")return!1;const t=ha(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===lP}function Eo(e,t){hl(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function hl(e){const t=e[fr];return t?t.type_:Array.isArray(e)?1:ml(e)?2:pl(e)?3:0}function dd(e,t){return hl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jx(e,t,r){const n=hl(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function cP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ml(e){return e instanceof Map}function pl(e){return e instanceof Set}function mi(e){return e.copy_||e.base_}function fd(e,t){if(ml(e))return new Map(e);if(pl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wx(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[fr];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const c=s[o],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(ha(e),n)}else{const n=ha(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Of(e,t=!1){return gl(e)||Ai(e)||!bn(e)||(hl(e)>1&&(e.set=e.add=e.clear=e.delete=uP),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Of(n,!0))),e}function uP(){Rr(2)}function gl(e){return Object.isFrozen(e)}var dP={};function Si(e){const t=dP[e];return t||Rr(0,e),t}var cs;function Nx(){return cs}function fP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rp(e,t){t&&(Si("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hd(e){md(e),e.drafts_.forEach(hP),e.drafts_=null}function md(e){e===cs&&(cs=e.parent_)}function zp(e){return cs=fP(cs,e)}function hP(e){const t=e[fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $p(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fr].modified_&&(hd(t),Rr(4)),bn(e)&&(e=Mo(t,e),t.parent_||Do(t,e)),t.patches_&&Si("Patches").generateReplacementPatches_(r[fr].base_,e,t.patches_,t.inversePatches_)):e=Mo(t,r,[]),hd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_x?e:void 0}function Mo(e,t,r){if(gl(t))return t;const n=t[fr];if(!n)return Eo(t,(s,o)=>Bp(e,n,t,s,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Do(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,c=!1;n.type_===3&&(o=new Set(s),s.clear(),c=!0),Eo(o,(u,f)=>Bp(e,n,s,u,f,r,c)),Do(e,s,!1),r&&e.patches_&&Si("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Bp(e,t,r,n,s,o,c){if(Ai(s)){const u=o&&t&&t.type_!==3&&!dd(t.assigned_,n)?o.concat(n):void 0,f=Mo(e,s,u);if(jx(r,n,f),Ai(f))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(bn(s)&&!gl(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Mo(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Do(e,s)}}function Do(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Of(t,r)}function mP(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Nx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=kf;r&&(s=[n],o=us);const{revoke:c,proxy:u}=Proxy.revocable(s,o);return n.draft_=u,n.revoke_=c,u}var kf={get(e,t){if(t===fr)return e;const r=mi(e);if(!dd(r,t))return pP(e,r,t);const n=r[t];return e.finalized_||!bn(n)?n:n===uu(e.base_,t)?(du(e),e.copy_[t]=gd(n,e)):n},has(e,t){return t in mi(e)},ownKeys(e){return Reflect.ownKeys(mi(e))},set(e,t,r){const n=Px(mi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=uu(mi(e),t),o=s==null?void 0:s[fr];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(cP(r,s)&&(r!==void 0||dd(e.base_,t)))return!0;du(e),pd(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return uu(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,du(e),pd(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Rr(11)},getPrototypeOf(e){return ha(e.base_)},setPrototypeOf(){Rr(12)}},us={};Eo(kf,(e,t)=>{us[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});us.deleteProperty=function(e,t){return us.set.call(this,e,t,void 0)};us.set=function(e,t,r){return kf.set.call(this,e[0],t,r,e[0])};function uu(e,t){const r=e[fr];return(r?mi(r):e)[t]}function pP(e,t,r){var s;const n=Px(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function Px(e,t){if(!(t in e))return;let r=ha(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ha(r)}}function pd(e){e.modified_||(e.modified_=!0,e.parent_&&pd(e.parent_))}function du(e){e.copy_||(e.copy_=fd(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const c=this;return function(f=o,...m){return c.produce(f,h=>r.call(this,h,...m))}}typeof r!="function"&&Rr(6),n!==void 0&&typeof n!="function"&&Rr(7);let s;if(bn(t)){const o=zp(this),c=gd(t,void 0);let u=!0;try{s=r(c),u=!1}finally{u?hd(o):md(o)}return Rp(o,n),$p(s,o)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===_x&&(s=void 0),this.autoFreeze_&&Of(s,!0),n){const o=[],c=[];Si("Patches").generateReplacementPatches_(t,s,o,c),n(o,c)}return s}else Rr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let n,s;return[this.produce(t,r,(c,u)=>{n=c,s=u}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){bn(e)||Rr(8),Ai(e)&&(e=yn(e));const t=zp(this),r=gd(e,void 0);return r[fr].isManual_=!0,md(t),r}finishDraft(e,t){const r=e&&e[fr];(!r||!r.isManual_)&&Rr(9);const{scope_:n}=r;return Rp(n,t),$p(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Si("Patches").applyPatches_;return Ai(e)?n(e,t):this.produce(e,s=>n(s,t))}};function gd(e,t){const r=ml(e)?Si("MapSet").proxyMap_(e,t):pl(e)?Si("MapSet").proxySet_(e,t):mP(e,t);return(t?t.scope_:Nx()).drafts_.push(r),r}function yn(e){return Ai(e)||Rr(10,e),Ax(e)}function Ax(e){if(!bn(e)||gl(e))return e;const t=e[fr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fd(e,t.scope_.immer_.useStrictShallowCopy_)}else r=fd(e,!0);return Eo(r,(n,s)=>{jx(r,n,Ax(s))}),t&&(t.finalized_=!1),r}var hr=new gP,Sx=hr.produce;hr.produceWithPatches.bind(hr);hr.setAutoFreeze.bind(hr);hr.setUseStrictShallowCopy.bind(hr);hr.applyPatches.bind(hr);hr.createDraft.bind(hr);hr.finishDraft.bind(hr);function Cx(e){return({dispatch:r,getState:n})=>s=>o=>typeof o=="function"?o(r,n,e):s(o)}var vP=Cx(),yP=Cx,xP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?To:To.apply(null,arguments)};function Cr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(ur(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>bx(n)&&n.type===e,r}var Ox=class as extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,as.prototype)}static get[Symbol.species](){return as}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new as(...t[0].concat(this)):new as(...t.concat(this))}};function Fp(e){return bn(e)?Sx(e,()=>{}):e}function uo(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function bP(e){return typeof e=="boolean"}var _P=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t!=null?t:{};let c=new Ox;return r&&(bP(r)?c.push(vP):c.push(yP(r.extraArgument))),c},wP="RTK_autoBatch",qp=e=>t=>{setTimeout(t,e)},jP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,o=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qp(10):e.type==="callback"?e.queueNotification:qp(e.timeout),m=()=>{c=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>s&&h(),v=n.subscribe(p);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var p;try{return s=!((p=h==null?void 0:h.meta)!=null&&p[wP]),o=!s,o&&(c||(c=!0,f(m))),n.dispatch(h)}finally{s=!0}}})},NP=e=>function(r){const{autoBatch:n=!0}=r!=null?r:{};let s=new Ox(e);return n&&s.push(jP(typeof n=="object"?n:void 0)),s};function PP(e){const t=_P(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Cf(r))u=xx(r);else throw new Error(ur(1));let f;typeof n=="function"?f=n(t):f=t();let m=To;s&&(m=xP({trace:!1,...typeof s=="object"&&s}));const h=oP(...f),p=NP(h);let v=typeof c=="function"?c(p):p();const x=m(...v);return yx(u,o,x)}function kx(e){const t={},r=[];let n;const s={addCase(o,c){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(ur(28));if(u in t)throw new Error(ur(29));return t[u]=c,s},addMatcher(o,c){return r.push({matcher:o,reducer:c}),s},addDefaultCase(o){return n=o,s}};return e(s),[t,r,n]}function AP(e){return typeof e=="function"}function SP(e,t){let[r,n,s]=kx(t),o;if(AP(e))o=()=>Fp(e());else{const u=Fp(e);o=()=>u}function c(u=o(),f){let m=[r[f.type],...n.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,p)=>{if(p)if(Ai(h)){const x=p(h,f);return x===void 0?h:x}else{if(bn(h))return Sx(h,v=>p(v,f));{const v=p(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return c.getInitialState=o,c}var CP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OP=(e=21)=>{let t="",r=e;for(;r--;)t+=CP[Math.random()*64|0];return t},kP=Symbol.for("rtk-slice-createasyncthunk");function TP(e,t){return`${e}/${t}`}function EP({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[kP];return function(s){const{name:o,reducerPath:c=o}=s;if(!o)throw new Error(ur(11));const u=(typeof s.reducers=="function"?s.reducers(DP()):s.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,k){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(ur(12));if(O in m.sliceCaseReducersByType)throw new Error(ur(13));return m.sliceCaseReducersByType[O]=k,h},addMatcher(T,k){return m.sliceMatchers.push({matcher:T,reducer:k}),h},exposeAction(T,k){return m.actionCreators[T]=k,h},exposeCaseReducer(T,k){return m.sliceCaseReducersByName[T]=k,h}};f.forEach(T=>{const k=u[T],O={reducerName:T,type:TP(o,T),createNotation:typeof s.reducers=="function"};IP(k)?zP(O,k,h,t):LP(O,k,h)});function p(){const[T={},k=[],O=void 0]=typeof s.extraReducers=="function"?kx(s.extraReducers):[s.extraReducers],I={...T,...m.sliceCaseReducersByType};return SP(s.initialState,F=>{for(let K in I)F.addCase(K,I[K]);for(let K of m.sliceMatchers)F.addMatcher(K.matcher,K.reducer);for(let K of k)F.addMatcher(K.matcher,K.reducer);O&&F.addDefaultCase(O)})}const v=T=>T,x=new Map,j=new WeakMap;let b;function w(T,k){return b||(b=p()),b(T,k)}function A(){return b||(b=p()),b.getInitialState()}function S(T,k=!1){function O(F){let K=F[T];return typeof K>"u"&&k&&(K=uo(j,O,A)),K}function I(F=v){const K=uo(x,k,()=>new WeakMap);return uo(K,F,()=>{var Q;const Y={};for(const[X,te]of Object.entries((Q=s.selectors)!=null?Q:{}))Y[X]=MP(te,F,()=>uo(j,F,A),k);return Y})}return{reducerPath:T,getSelectors:I,get selectors(){return I(O)},selectSlice:O}}const C={name:o,reducer:w,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:A,...S(c),injectInto(T,{reducerPath:k,...O}={}){const I=k!=null?k:c;return T.inject({reducerPath:I,reducer:w},O),{...C,...S(I,!0)}}};return C}}function MP(e,t,r,n){function s(o,...c){let u=t(o);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return s.unwrapped=e,s}var kr=EP();function DP(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function LP({type:e,reducerName:t,createNotation:r},n,s){let o,c;if("reducer"in n){if(r&&!RP(n))throw new Error(ur(17));o=n.reducer,c=n.prepare}else o=n;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?Cr(e,c):Cr(e))}function IP(e){return e._reducerDefinitionType==="asyncThunk"}function RP(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zP({type:e,reducerName:t},r,n,s){if(!s)throw new Error(ur(18));const{payloadCreator:o,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=r,p=s(e,o,h);n.exposeAction(t,p),c&&n.addCase(p.fulfilled,c),u&&n.addCase(p.pending,u),f&&n.addCase(p.rejected,f),m&&n.addMatcher(p.settled,m),n.exposeCaseReducer(t,{fulfilled:c||fo,pending:u||fo,rejected:f||fo,settled:m||fo})}function fo(){}var $P="task",Tx="listener",Ex="completed",Tf="cancelled",BP=`task-${Tf}`,FP=`task-${Ex}`,vd=`${Tx}-${Tf}`,qP=`${Tx}-${Ex}`,vl=class{constructor(e){uc(this,"name","TaskAbortError");uc(this,"message");this.code=e,this.message=`${$P} ${Tf} (reason: ${e})`}},Ef=(e,t)=>{if(typeof e!="function")throw new TypeError(ur(32))},Lo=()=>{},Mx=(e,t=Lo)=>(e.catch(t),e),Dx=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_i=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},wi=e=>{if(e.aborted){const{reason:t}=e;throw new vl(t)}};function Lx(e,t){let r=Lo;return new Promise((n,s)=>{const o=()=>s(new vl(e.reason));if(e.aborted){o();return}r=Dx(e,o),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Lo})}var WP=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof vl?"cancelled":"rejected",error:r}}finally{t==null||t()}},Io=e=>t=>Mx(Lx(e,t).then(r=>(wi(e),r))),Ix=e=>{const t=Io(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ca}=Object,Wp={},yl="listenerMiddleware",UP=(e,t)=>{const r=n=>Dx(e,()=>_i(n,e.reason));return(n,s)=>{Ef(n);const o=new AbortController;r(o);const c=WP(async()=>{wi(e),wi(o.signal);const u=await n({pause:Io(o.signal),delay:Ix(o.signal),signal:o.signal});return wi(o.signal),u},()=>_i(o,FP));return s!=null&&s.autoJoin&&t.push(c.catch(Lo)),{result:Io(e)(c),cancel(){_i(o,BP)}}}},ZP=(e,t)=>{const r=async(n,s)=>{wi(t);let o=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),f([p,v.getState(),v.getOriginalState()])}});o=()=>{h(),m()}})];s!=null&&u.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await Lx(t,Promise.race(u));return wi(t),f}finally{o()}};return(n,s)=>Mx(r(n,s))},Rx=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:o}=e;if(t)s=Cr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(ur(21));return Ef(o),{predicate:s,type:t,effect:o}},zx=ca(e=>{const{type:t,predicate:r,effect:n}=Rx(e);return{id:OP(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ur(22))}}},{withTypes:()=>zx}),Up=(e,t)=>{const{type:r,effect:n,predicate:s}=Rx(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===s)&&o.effect===n)},yd=e=>{e.pending.forEach(t=>{_i(t,vd)})},KP=e=>()=>{e.forEach(yd),e.clear()},Zp=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},$x=ca(Cr(`${yl}/add`),{withTypes:()=>$x}),HP=Cr(`${yl}/removeAll`),Bx=ca(Cr(`${yl}/remove`),{withTypes:()=>Bx}),YP=(...e)=>{console.error(`${yl}/error`,...e)},As=(e={})=>{const t=new Map,{extra:r,onError:n=YP}=e;Ef(n);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&yd(h)}),o=h=>{var v;const p=(v=Up(t,h))!=null?v:zx(h);return s(p)};ca(o,{withTypes:()=>o});const c=h=>{const p=Up(t,h);return p&&(p.unsubscribe(),h.cancelActive&&yd(p)),!!p};ca(c,{withTypes:()=>c});const u=async(h,p,v,x)=>{const j=new AbortController,b=ZP(o,j.signal),w=[];try{h.pending.add(j),await Promise.resolve(h.effect(p,ca({},v,{getOriginalState:x,condition:(A,S)=>b(A,S).then(Boolean),take:b,delay:Ix(j.signal),pause:Io(j.signal),extra:r,signal:j.signal,fork:UP(j.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((A,S,C)=>{A!==j&&(_i(A,vd),C.delete(A))})},cancel:()=>{_i(j,vd),h.pending.delete(j)},throwIfCancelled:()=>{wi(j.signal)}})))}catch(A){A instanceof vl||Zp(n,A,{raisedBy:"effect"})}finally{await Promise.all(w),_i(j,qP),h.pending.delete(j)}},f=KP(t);return{middleware:h=>p=>v=>{if(!bx(v))return p(v);if($x.match(v))return o(v.payload);if(HP.match(v)){f();return}if(Bx.match(v))return c(v.payload);let x=h.getState();const j=()=>{if(x===Wp)throw new Error(ur(23));return x};let b;try{if(b=p(v),t.size>0){const w=h.getState(),A=Array.from(t.values());for(const S of A){let C=!1;try{C=S.predicate(v,w,x)}catch(T){C=!1,Zp(n,T,{raisedBy:"predicate"})}C&&u(S,v,h,j)}}}finally{x=Wp}return b},startListening:o,stopListening:c,clearListeners:f}};function ur(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GP={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Fx=kr({name:"chartLayout",initialState:GP,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:VP,setLayout:XP,setChartSize:JP,setScale:QP}=Fx.actions,e2=Fx.reducer;function Kp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kp(Object(r),!0).forEach(function(n){t2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t2(e,t,r){return(t=r2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r2(e){var t=n2(e,"string");return typeof t=="symbol"?t:t+""}function n2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ro=Math.PI/180,i2=e=>e*180/Math.PI,Mt=(e,t,r,n)=>({x:e+Math.cos(-Ro*n)*r,y:t+Math.sin(-Ro*n)*r}),a2=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},s2=(e,t)=>{var{x:r,y:n}=e,{x:s,y:o}=t;return Math.sqrt((r-s)**2+(n-o)**2)},o2=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:o}=t,c=s2({x:r,y:n},{x:s,y:o});if(c<=0)return{radius:c,angle:0};var u=(r-s)/c,f=Math.acos(u);return n>o&&(f=2*Math.PI-f),{radius:c,angle:i2(f),angleInRadian:f}},l2=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(n,s);return{startAngle:t-o*360,endAngle:r-o*360}},c2=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),o=Math.floor(n/360),c=Math.min(s,o);return e+c*360},u2=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:o}=o2({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(s<c||s>u||s===0)return null;var{startAngle:f,endAngle:m}=l2(t),h=o,p;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;p=h>=m&&h<=f}return p?Hp(Hp({},t),{},{radius:s,angle:c2(h,t)}):null};function Yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yp(Object(r),!0).forEach(function(n){d2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d2(e,t,r){return(t=f2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f2(e){var t=h2(e,"string");return typeof t=="symbol"?t:t+""}function h2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,r){return Ve(e)||Ve(t)?r:Gr(t)?Pi(e,t,r):typeof t=="function"?t(e):r}var m2=(e,t,r,n,s)=>{var o,c=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<u;f++){var m=f>0?r[f-1].coordinate:r[u-1].coordinate,h=r[f].coordinate,p=f>=u-1?r[0].coordinate:r[f+1].coordinate,v=void 0;if(lr(h-m)!==lr(p-h)){var x=[];if(lr(p-h)===lr(s[1]-s[0])){v=p;var j=h+s[1]-s[0];x[0]=Math.min(j,(j+m)/2),x[1]=Math.max(j,(j+m)/2)}else{v=m;var b=p+s[1]-s[0];x[0]=Math.min(h,(b+h)/2),x[1]=Math.max(h,(b+h)/2)}var w=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){({index:c}=r[f]);break}}else{var A=Math.min(m,p),S=Math.max(m,p);if(e>(A+h)/2&&e<=(S+h)/2){({index:c}=r[f]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},p2=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:o,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&o!=="center"&&ue(e[o]))return Nr(Nr({},e),{},{[o]:e[o]+(n||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&c!=="middle"&&ue(e[c]))return Nr(Nr({},e),{},{[c]:e[c]+(s||0)})}return e},wn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Gp=1e-4,g2=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-Gp,o=Math.max(n[0],n[1])+Gp,c=e(t[0]),u=e(t[r-1]);(c<s||c>o||u<s||u>o)&&e.domain([t[0],t[r-1]])}},v2=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(s[0]=r),(!ue(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},y2=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0,c=0;c<t;++c){var u=dr(e[c][r][1])?e[c][r][0]:e[c][r][1];u>=0?(e[c][r][0]=s,e[c][r][1]=s+u,s=e[c][r][1]):(e[c][r][0]=o,e[c][r][1]=o+u,o=e[c][r][1])}},x2=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0;o<t;++o){var c=dr(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=s,e[o][r][1]=s+c,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},b2={sign:y2,expand:G1,none:fa,silhouette:V1,wiggle:X1,positive:x2},_2=(e,t,r)=>{var n=b2[r],s=Y1().keys(t).value((o,c)=>+$t(o,c,0)).order(ld).offset(n);return s(e)};function Mf(e){return e==null?void 0:String(e)}function Vp(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:o,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ve(s[t.dataKey])){var u=$y(r,"value",s[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var f=$t(s,Ve(c)?t.dataKey:c);return Ve(f)?null:t.scale(f)}var Xp=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:o,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var u=$t(o,t.dataKey,t.scale.domain()[c]);return Ve(u)?null:t.scale(u)-s/2+n},w2=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},j2=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},N2=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],P2=(e,t,r)=>{if(e!=null)return N2(Object.keys(e).reduce((n,s)=>{var o=e[s],{stackedData:c}=o,u=c.reduce((f,m)=>{var h=j2(m.slice(t,r+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},Jp=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qp=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ds=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=fl(t,h=>h.coordinate),o=1/0,c=1,u=s.length;c<u;c++){var f=s[c],m=s[c-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function eg(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:o}=e;return Nr(Nr({},t),{},{dataKey:r,payload:n,value:s,name:o})}function xl(e,t){if(e)return String(e);if(typeof t=="string")return t}function A2(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var o=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return o?{x:e,y:t}:null}return n?u2({x:e,y:t},n):null}var S2=(e,t,r,n)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,{radius:c}=n;return Nr(Nr(Nr({},n),Mt(n.cx,n.cy,c,o)),{},{angle:o,radius:c})}var u=s.coordinate,{angle:f}=n;return Nr(Nr(Nr({},n),Mt(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},C2=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,jn=e=>e.layout.width,Nn=e=>e.layout.height,O2=e=>e.layout.scale,qx=e=>e.layout.margin,Df=U(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Lf=U(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),k2="data-recharts-item-index",T2="data-recharts-item-data-key",bl=60;function tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tg(Object(r),!0).forEach(function(n){E2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E2(e,t,r){return(t=M2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M2(e){var t=D2(e,"string");return typeof t=="symbol"?t:t+""}function D2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2=e=>e.brush.height,At=U([jn,Nn,qx,L2,Df,Lf,gx,eP],(e,t,r,n,s,o,c,u)=>{var f=o.reduce((j,b)=>{var{orientation:w}=b;if(!b.mirror&&!b.hide){var A=typeof b.width=="number"?b.width:bl;return Bn(Bn({},j),{},{[w]:j[w]+A})}return j},{left:r.left||0,right:r.right||0}),m=s.reduce((j,b)=>{var{orientation:w}=b;return!b.mirror&&!b.hide?Bn(Bn({},j),{},{[w]:Pi(j,"".concat(w))+b.height}):j},{top:r.top||0,bottom:r.bottom||0}),h=Bn(Bn({},m),f),p=h.bottom;h.bottom+=n,h=p2(h,c,u);var v=e-h.left-h.right,x=t-h.top-h.bottom;return Bn(Bn({brushBottom:p},h),{},{width:Math.max(v,0),height:Math.max(x,0)})}),I2=U(At,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Wx=U(jn,Nn,(e,t)=>({x:0,y:0,width:e,height:t})),R2=_.createContext(null),Jt=()=>_.useContext(R2)!=null,_l=e=>e.brush,wl=U([_l,At,qx],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),If=()=>{var e,t=Jt(),r=fe(I2),n=fe(wl),s=(e=fe(_l))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},z2={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$2=()=>{var e;return(e=fe(At))!==null&&e!==void 0?e:z2},Ux=()=>fe(jn),Zx=()=>fe(Nn),B2={top:0,right:0,bottom:0,left:0},F2=()=>{var e;return(e=fe(t=>t.layout.margin))!==null&&e!==void 0?e:B2},Ue=e=>e.layout.layoutType,jl=()=>fe(Ue),q2={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Kx=kr({name:"legend",initialState:q2,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=yn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:rg,setLegendSettings:W2,addLegendPayload:U2,removeLegendPayload:Z2}=Kx.actions,K2=Kx.reducer,H2=["contextPayload"];function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(null,arguments)}function ng(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ng(Object(r),!0).forEach(function(n){Rf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rf(e,t,r){return(t=Y2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y2(e){var t=G2(e,"string");return typeof t=="symbol"?t:t+""}function G2(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V2(e,t){if(e==null)return{};var r,n,s=X2(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function X2(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J2(e){return e.value}function Q2(e){var{contextPayload:t}=e,r=V2(e,H2),n=fx(t,e.payloadUniqBy,J2),s=ma(ma({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,s):typeof e.content=="function"?_.createElement(e.content,s):_.createElement(_f,s)}function eA(e,t,r,n,s,o){var{layout:c,align:u,verticalAlign:f}=t,m,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&c==="vertical"?m={left:((n||0)-o.width)/2}:m=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((s||0)-o.height)/2}:h=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ma(ma({},m),h)}function tA(e){var t=dt();return _.useEffect(()=>{t(W2(e))},[t,e]),null}function rA(e){var t=dt();return _.useEffect(()=>(t(rg(e)),()=>{t(rg({width:0,height:0}))}),[t,e]),null}function nA(e){var t=nP(),r=y1(),n=F2(),{width:s,height:o,wrapperStyle:c,portal:u}=e,[f,m]=vx([t]),h=Ux(),p=Zx(),v=h-(n.left||0)-(n.right||0),x=Nl.getWidthOrHeight(e.layout,o,s,v),j=u?c:ma(ma({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||o||"auto"},eA(c,e,n,h,p,f)),c),b=u!=null?u:r;if(b==null)return null;var w=_.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:m},_.createElement(tA,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),_.createElement(rA,{width:f.width,height:f.height}),_.createElement(Q2,xd({},e,x,{margin:n,chartWidth:h,chartHeight:p,contextPayload:t})));return My.createPortal(w,b)}class Nl extends _.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&ue(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return _.createElement(nA,this.props)}}Rf(Nl,"displayName","Legend");Rf(Nl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(null,arguments)}function ig(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ig(Object(r),!0).forEach(function(n){iA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ig(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iA(e,t,r){return(t=aA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aA(e){var t=sA(e,"string");return typeof t=="symbol"?t:t+""}function sA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oA(e){return Array.isArray(e)&&Gr(e[0])&&Gr(e[1])?e.join(" ~ "):e}var lA=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:o,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:p,accessibilityLayer:v=!1}=e,x=()=>{if(o&&o.length){var k={padding:0,margin:0},O=(u?fl(o,u):o).map((I,F)=>{if(I.type==="none")return null;var K=I.formatter||c||oA,{value:Y,name:Q}=I,X=Y,te=Q;if(K){var de=K(Y,Q,I,F,o);if(Array.isArray(de))[X,te]=de;else if(de!=null)X=de;else return null}var be=fu({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:be},Gr(te)?_.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Gr(te)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},X),_.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},j=fu({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=fu({margin:0},s),w=!Ve(h),A=w?h:"",S=Ke("recharts-default-tooltip",f),C=Ke("recharts-tooltip-label",m);w&&p&&o!==void 0&&o!==null&&(A=p(h,o));var T=v?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",bd({className:S,style:j},T),_.createElement("p",{className:C,style:b},_.isValidElement(A)?A:"".concat(A)),x())},Va="recharts-tooltip-wrapper",cA={visibility:"hidden"};function uA(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ke(Va,{["".concat(Va,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(Va,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(Va,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(Va,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function ag(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:o,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(o&&ue(o[n]))return o[n];var h=r[n]-u-(s>0?s:0),p=r[n]+s;if(t[n])return c[n]?h:p;var v=f[n];if(v==null)return 0;if(c[n]){var x=h,j=v;return x<j?Math.max(p,v):Math.max(h,v)}if(m==null)return 0;var b=p+u,w=v+m;return b>w?Math.max(h,v):Math.max(p,v)}function dA(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fA(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:o,tooltipBox:c,useTranslate3d:u,viewBox:f}=e,m,h,p;return c.height>0&&c.width>0&&r?(h=ag({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),p=ag({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=dA({translateX:h,translateY:p,useTranslate3d:u})):m=cA,{cssProperties:m,cssClasses:uA({translateX:h,translateY:p,coordinate:r})}}function sg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sg(Object(r),!0).forEach(function(n){_d(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _d(e,t,r){return(t=hA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hA(e){var t=mA(e,"string");return typeof t=="symbol"?t:t+""}function mA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pA extends _.PureComponent{constructor(){super(...arguments),_d(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_d(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:o,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:p,useTranslate3d:v,viewBox:x,wrapperStyle:j,lastBoundingBox:b,innerRef:w,hasPortalFromProps:A}=this.props,{cssClasses:S,cssProperties:C}=fA({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:v,viewBox:x}),T=A?{}:ho(ho({transition:f&&t?"transform ".concat(n,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=ho(ho({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:k,ref:w},o)}}var gA=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xa={isSsr:gA()},Hx=()=>fe(e=>e.rootProps.accessibilityLayer);function Dt(e){return Number.isFinite(e)}function zo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(null,arguments)}function og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?og(Object(r),!0).forEach(function(n){vA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vA(e,t,r){return(t=yA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yA(e){var t=xA(e,"string");return typeof t=="symbol"?t:t+""}function xA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cg={curveBasisClosed:R1,curveBasisOpen:z1,curveBasis:I1,curveBumpX:w1,curveBumpY:j1,curveLinearClosed:$1,curveLinear:ul,curveMonotoneX:B1,curveMonotoneY:F1,curveNatural:q1,curveStep:W1,curveStepAfter:Z1,curveStepBefore:U1},mo=e=>Dt(e.x)&&Dt(e.y),Xa=e=>e.x,Ja=e=>e.y,bA=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ps(e));return(r==="curveMonotone"||r==="curveBump")&&t?cg["".concat(r).concat(t==="vertical"?"Y":"X")]:cg[r]||ul},_A=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:o=!1}=e,c=bA(t,s),u=o?r.filter(mo):r,f;if(Array.isArray(n)){var m=o?n.filter(p=>mo(p)):n,h=u.map((p,v)=>lg(lg({},p),{},{base:m[v]}));return s==="vertical"?f=oo().y(Ja).x1(Xa).x0(p=>p.base.x):f=oo().x(Xa).y1(Ja).y0(p=>p.base.y),f.defined(mo).curve(c),f(h)}return s==="vertical"&&ue(n)?f=oo().y(Ja).x1(Xa).x0(n):ue(n)?f=oo().x(Xa).y1(Ja).y0(n):f=Yy().x(Xa).y(Ja),f.defined(mo).curve(c),f(u)},wo=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?_A(e):n;return _.createElement("path",wd({},Be(e,!1),hf(e),{className:Ke("recharts-curve",t),d:o===null?void 0:o,ref:s}))},wA=["x","y","top","left","width","height","className"];function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(null,arguments)}function ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(r),!0).forEach(function(n){NA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NA(e,t,r){return(t=PA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PA(e){var t=AA(e,"string");return typeof t=="symbol"?t:t+""}function AA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SA(e,t){if(e==null)return{};var r,n,s=CA(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CA(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OA=(e,t,r,n,s,o)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),kA=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:o=0,height:c=0,className:u}=e,f=SA(e,wA),m=jA({x:t,y:r,top:n,left:s,width:o,height:c},f);return!ue(t)||!ue(r)||!ue(o)||!ue(c)||!ue(n)||!ue(s)?null:_.createElement("path",jd({},Be(m,!0),{className:Ke("recharts-cross",u),d:OA(t,r,o,c,n,s)}))};function TA(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(r),!0).forEach(function(n){MA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MA(e,t,r){return(t=DA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=LA(e,"string");return typeof t=="symbol"?t:t+""}function LA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(e,t){var r=EA({},e),n=t,s=Object.keys(t),o=s.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return o}var hu={},mu={},pu={},fg;function IA(){return fg||(fg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(pu)),pu}var hg;function RA(){return hg||(hg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA(),r=cx(),n=Pf(),s=Af(),o=jf();function c(m,h,p){return u(m,h,void 0,void 0,void 0,void 0,p)}function u(m,h,p,v,x,j,b){const w=b(m,h,p,v,x,j);if(w!==void 0)return w;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,j,b)}return f(m,h,j,b)}function f(m,h,p,v){if(Object.is(m,h))return!0;let x=n.getTag(m),j=n.getTag(h);if(x===s.argumentsTag&&(x=s.objectTag),j===s.argumentsTag&&(j=s.objectTag),x!==j)return!1;switch(x){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const A=m.valueOf(),S=h.valueOf();return o.eq(A,S)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}p=p!=null?p:new Map;const b=p.get(m),w=p.get(h);if(b!=null&&w!=null)return b===h;p.set(m,h),p.set(h,m);try{switch(x){case s.mapTag:{if(m.size!==h.size)return!1;for(const[A,S]of m.entries())if(!h.has(A)||!u(S,h.get(A),A,m,h,p,v))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const A=Array.from(m.values()),S=Array.from(h.values());for(let C=0;C<A.length;C++){const T=A[C],k=S.findIndex(O=>u(T,O,void 0,m,h,p,v));if(k===-1)return!1;S.splice(k,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let A=0;A<m.length;A++)if(!u(m[A],h[A],A,m,h,p,v))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),p,v);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),p,v);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,p,v)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const S=[...Object.keys(m),...r.getSymbols(m)],C=[...Object.keys(h),...r.getSymbols(h)];if(S.length!==C.length)return!1;for(let T=0;T<S.length;T++){const k=S[T],O=m[k];if(!Object.hasOwn(h,k))return!1;const I=h[k];if(!u(O,I,k,m,h,p,v))return!1}return!0}default:return!1}}finally{p.delete(m),p.delete(h)}}e.isEqualWith=c}(mu)),mu}var gu={},mg;function zA(){return mg||(mg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(gu)),gu}var pg;function $A(){return pg||(pg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA(),r=zA();function n(s,o){return t.isEqualWith(s,o,r.noop)}e.isEqual=n}(hu)),hu}var vu,gg;function BA(){return gg||(gg=1,vu=$A().isEqual),vu}var FA=BA();const qA=Jr(FA);function WA(e){var t={},r=()=>null,n=!1,s=null,o=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){s=e.setTimeout(o.bind(null,m),f);return}o(f),s=e.setTimeout(o.bind(null,m));return}typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,s&&(s(),s=null),o(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}var $o=1e-4,Yx=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Gx=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),vg=(e,t)=>r=>{var n=Yx(e,t);return Gx(n,r)},UA=(e,t)=>r=>{var n=Yx(e,t),s=[...n.map((o,c)=>o*c).slice(1),0];return Gx(s,r)},yg=function(){for(var t,r,n,s,o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,n,r,s]=f[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else c.length===4&&([t,n,r,s]=c);var m=vg(t,r),h=vg(n,s),p=UA(t,r),v=j=>j>1?1:j<0?0:j,x=j=>{for(var b=j>1?1:j,w=b,A=0;A<8;++A){var S=m(w)-b,C=p(w);if(Math.abs(S-b)<$o||C<$o)return h(w);w=v(w-S/C)}return h(w)};return x.isStepper=!1,x},ZA=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,o=(c,u,f)=>{var m=-(c-u)*r,h=f*n,p=f+(m-h)*s/1e3,v=f*s/1e3+c;return Math.abs(v-u)<$o&&Math.abs(p)<$o?[u,0]:[v,p]};return o.isStepper=!0,o.dt=s,o},KA=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yg(e);case"spring":return ZA();default:if(e.split("(")[0]==="cubic-bezier")return yg(e)}return typeof e=="function"?e:null};function xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xg(Object(r),!0).forEach(function(n){HA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HA(e,t,r){return(t=YA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YA(e){var t=GA(e,"string");return typeof t=="symbol"?t:t+""}function GA(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VA=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),XA=(e,t,r)=>e.map(n=>"".concat(VA(n)," ").concat(t,"ms ").concat(r)).join(","),JA=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),fs=(e,t)=>Object.keys(t).reduce((r,n)=>bg(bg({},r),{},{[n]:e(n,t[n])}),{});function _g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_g(Object(r),!0).forEach(function(n){QA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QA(e,t,r){return(t=eS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eS(e){var t=tS(e,"string");return typeof t=="symbol"?t:t+""}function tS(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bo=(e,t,r)=>e+(t-e)*r,Nd=e=>{var{from:t,to:r}=e;return t!==r},Vx=(e,t,r)=>{var n=fs((s,o)=>{if(Nd(o)){var[c,u]=e(o.from,o.to,o.velocity);return Et(Et({},o),{},{from:c,velocity:u})}return o},t);return r<1?fs((s,o)=>Nd(o)?Et(Et({},o),{},{velocity:Bo(o.velocity,n[s].velocity,r),from:Bo(o.from,n[s].from,r)}):o,t):Vx(e,n,r-1)};function rS(e,t,r,n,s,o){var c,u=n.reduce((v,x)=>Et(Et({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>fs((v,x)=>x.from,u),m=()=>!Object.values(u).filter(Nd).length,h=null,p=v=>{c||(c=v);var x=v-c,j=x/r.dt;u=Vx(r,u,j),s(Et(Et(Et({},e),t),f())),c=v,m()||(h=o.setTimeout(p))};return()=>(h=o.setTimeout(p),()=>{h()})}function nS(e,t,r,n,s,o,c){var u=null,f=s.reduce((p,v)=>Et(Et({},p),{},{[v]:[e[v],t[v]]}),{}),m,h=p=>{m||(m=p);var v=(p-m)/n,x=fs((b,w)=>Bo(...w,r(v)),f);if(o(Et(Et(Et({},e),t),x)),v<1)u=c.setTimeout(h);else{var j=fs((b,w)=>Bo(...w,r(1)),f);o(Et(Et(Et({},e),t),j))}};return()=>(u=c.setTimeout(h),()=>{u()})}const iS=(e,t,r,n,s,o)=>{var c=JA(e,t);return r.isStepper===!0?rS(e,t,r,c,s,o):nS(e,t,r,n,c,s,o)};class aS{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,o=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{cancelAnimationFrame(s)}}}var sS=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}function oS(e,t){if(e==null)return{};var r,n,s=lS(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lS(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(r),!0).forEach(function(n){yi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yi(e,t,r){return(t=cS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cS(e){var t=uS(e,"string");return typeof t=="symbol"?t:t+""}function uS(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dS(){return WA(new aS)}class zf extends _.PureComponent{constructor(t,r){super(t,r),yi(this,"mounted",!1),yi(this,"manager",null),yi(this,"stopJSAnimation",null),yi(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:o,to:c,children:u,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:c});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:s?{[s]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:o,to:c,from:u}=this.props,{style:f}=this.state;if(n){if(!r){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(qA(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=h||o?u:t.to;if(this.state&&f){var v={style:s?{[s]:p}:p};(s&&f[s]!==p||!s&&f!==p)&&this.setState(v)}this.runAnimation(Fn(Fn({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:o,begin:c,onAnimationEnd:u,onAnimationStart:f}=t,m=iS(r,n,KA(o),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,u])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:o,easing:c,onAnimationStart:u,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:o}:o,p=XA(Object.keys(h),n,c);this.manager.start([u,r,Fn(Fn({},h),{},{transition:p}),n,f])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:o,easing:c,isActive:u,from:f,to:m,canBegin:h,onAnimationEnd:p,shouldReAnimate:v,onAnimationReStart:x,animationManager:j}=t,b=oS(t,sS),w=_.Children.count(r),A=this.state.style;if(typeof r=="function")return r(A);if(!u||w===0||s<=0)return r;var S=C=>{var{style:T={},className:k}=C.props,O=_.cloneElement(C,Fn(Fn({},b),{},{style:Fn(Fn({},T),A),className:k}));return O};return w===1?S(_.Children.only(r)):_.createElement("div",null,_.Children.map(r,C=>S(C)))}}yi(zf,"displayName","Animate");yi(zf,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var fS=_.createContext(null);function Ci(e){var t,r,n=_.useContext(fS);return _.createElement(zf,Pd({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:dS()}))}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(null,arguments)}var jg=(e,t,r,n,s)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),c=n>=0?1:-1,u=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,m;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],p=0,v=4;p<v;p++)h[p]=s[p]>o?o:s[p];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+u*h[0],",").concat(t)),m+="L ".concat(e+r-u*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+c*h[1])),m+="L ".concat(e+r,",").concat(t+n-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+r-u*h[2],",").concat(t+n)),m+="L ".concat(e+u*h[3],",").concat(t+n),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-c*h[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var x=Math.min(o,s);m="M ".concat(e,",").concat(t+c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+r-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(t+c*x,`
            L `).concat(e+r,",").concat(t+n-c*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-u*x,",").concat(t+n,`
            L `).concat(e+u*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(t+n-c*x," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},hS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xx=e=>{var t=Vn(e,hS),r=_.useRef(null),[n,s]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&s(A)}catch{}},[]);var{x:o,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:p,animationDuration:v,animationBegin:x,isAnimationActive:j,isUpdateAnimationActive:b}=t;if(o!==+o||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=Ke("recharts-rectangle",h);return b?_.createElement(Ci,{canBegin:n>0,from:{width:u,height:f,x:o,y:c},to:{width:u,height:f,x:o,y:c},duration:v,animationEasing:p,isActive:b},A=>{var{width:S,height:C,x:T,y:k}=A;return _.createElement(Ci,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:j,easing:p},_.createElement("path",Fo({},Be(t,!0),{className:w,d:jg(T,k,S,C,m),ref:r})))}):_.createElement("path",Fo({},Be(t,!0),{className:w,d:jg(o,c,u,f,m)}))};function Jx(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:o}=e,c=Mt(t,r,n,s),u=Mt(t,r,n,o);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(null,arguments)}var mS=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},po=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:o,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+n,h=Math.asin(u/m)/Ro,p=f?s:s+o*h,v=Mt(t,r,m,p),x=Mt(t,r,n,p),j=f?s-o*h:s,b=Mt(t,r,m*Math.cos(h*Ro),j);return{center:v,circleTangency:x,lineTangency:b,theta:h}},Qx=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:o,endAngle:c}=e,u=mS(o,c),f=o+u,m=Mt(t,r,s,o),h=Mt(t,r,s,f),p="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=Mt(t,r,n,o),x=Mt(t,r,n,f);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},pS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=lr(m-f),{circleTangency:p,lineTangency:v,theta:x}=po({cx:t,cy:r,radius:s,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:j,lineTangency:b,theta:w}=po({cx:t,cy:r,radius:s,angle:m,sign:-h,cornerRadius:o,cornerIsExternal:u}),A=u?Math.abs(f-m):Math.abs(f-m)-x-w;if(A<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Qx({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:f,endAngle:m});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:T,theta:k}=po({cx:t,cy:r,radius:n,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:O,lineTangency:I,theta:F}=po({cx:t,cy:r,radius:n,angle:m,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),K=u?Math.abs(f-m):Math.abs(f-m)-k-F;if(K<0&&o===0)return"".concat(S,"L").concat(t,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(K>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(t,",").concat(r,"Z");return S},gS={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},e0=e=>{var t=Vn(e,gS),{cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:p}=t;if(o<s||m===h)return null;var v=Ke("recharts-sector",p),x=o-s,j=$r(c,x,0,!0),b;return j>0&&Math.abs(m-h)<360?b=pS({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(j,x/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):b=Qx({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:m,endAngle:h}),_.createElement("path",Ad({},Be(t,!0),{className:v,d:b}))};function vS(e,t,r){var n,s,o,c;if(e==="horizontal")n=t.x,o=n,s=r.top,c=r.top+r.height;else if(e==="vertical")s=t.y,c=s,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:f,innerRadius:m,outerRadius:h,angle:p}=t,v=Mt(u,f,m,p),x=Mt(u,f,h,p);n=v.x,s=v.y,o=x.x,c=x.y}else return Jx(t);return[{x:n,y:s},{x:o,y:c}]}var yu={},xu={},bu={},Ng;function yS(){return Ng||(Ng=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mx();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(bu)),bu}var Pg;function xS(){return Pg||(Pg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yS();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(xu)),xu}var Ag;function bS(){return Ag||(Ag=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px(),r=xS();function n(s,o,c){c&&typeof c!="number"&&t.isIterateeCall(s,o,c)&&(o=c=void 0),s=r.toFinite(s),o===void 0?(o=s,s=0):o=r.toFinite(o),c=c===void 0?s<o?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((o-s)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=s,s+=c;return f}e.range=n}(yu)),yu}var _u,Sg;function _S(){return Sg||(Sg=1,_u=bS().range),_u}var wS=_S();const t0=Jr(wS);function Kn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jS(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $f(e){let t,r,n;e.length!==2?(t=Kn,r=(u,f)=>Kn(e(u),f),n=(u,f)=>e(u)-f):(t=e===Kn||e===jS?e:NS,r=e,n=e);function s(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const p=m+h>>>1;r(u[p],f)<0?m=p+1:h=p}while(m<h)}return m}function o(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const p=m+h>>>1;r(u[p],f)<=0?m=p+1:h=p}while(m<h)}return m}function c(u,f,m=0,h=u.length){const p=s(u,f,m,h-1);return p>m&&n(u[p-1],f)>-n(u[p],f)?p-1:p}return{left:s,center:c,right:o}}function NS(){return 0}function r0(e){return e===null?NaN:+e}function*PS(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const AS=$f(Kn),Ss=AS.right;$f(r0).center;class Cg extends Map{constructor(t,r=OS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(Og(this,t))}has(t){return super.has(Og(this,t))}set(t,r){return super.set(SS(this,t),r)}delete(t){return super.delete(CS(this,t))}}function Og({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function SS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function CS({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(r),e.delete(n)),r}function OS(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kS(e=Kn){if(e===Kn)return n0;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function n0(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TS=Math.sqrt(50),ES=Math.sqrt(10),MS=Math.sqrt(2);function qo(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),c=o>=TS?10:o>=ES?5:o>=MS?2:1;let u,f,m;return s<0?(m=Math.pow(10,-s)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?qo(e,t,r*2):[u,f,m]}function Sd(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,c]=n?qo(t,e,r):qo(e,t,r);if(!(o>=s))return[];const u=o-s+1,f=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)f[m]=(o-m)/-c;else for(let m=0;m<u;++m)f[m]=(o-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(s+m)/-c;else for(let m=0;m<u;++m)f[m]=(s+m)*c;return f}function Cd(e,t,r){return t=+t,e=+e,r=+r,qo(e,t,r)[2]}function Od(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Cd(t,e,r):Cd(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function kg(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Tg(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function i0(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?n0:kS(s);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,h=Math.log(f),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(f-p)/f)*(m-f/2<0?-1:1),x=Math.max(r,Math.floor(t-m*p/f+v)),j=Math.min(n,Math.floor(t+(f-m)*p/f+v));i0(e,t,x,j,s)}const o=e[t];let c=r,u=n;for(Qa(e,r,t),s(e[n],o)>0&&Qa(e,r,n);c<u;){for(Qa(e,c,u),++c,--u;s(e[c],o)<0;)++c;for(;s(e[u],o)>0;)--u}s(e[r],o)===0?Qa(e,r,u):(++u,Qa(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Qa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function DS(e,t,r){if(e=Float64Array.from(PS(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Tg(e);if(t>=1)return kg(e);var n,s=(n-1)*t,o=Math.floor(s),c=kg(i0(e,o).subarray(0,o+1)),u=Tg(e.subarray(o+1));return c+(u-c)*(s-o)}}function LS(e,t,r=r0){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),c=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return c+(u-c)*(s-o)}}function IS(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function Tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kd=Symbol("implicit");function Bf(){var e=new Cg,t=[],r=[],n=kd;function s(o){let c=e.get(o);if(c===void 0){if(n!==kd)return n;e.set(o,c=t.push(o)-1)}return r[c%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Cg;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Bf(t,r).unknown(n)},Tr.apply(s,arguments),s}function Ff(){var e=Bf().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function p(){var v=t().length,x=s<n,j=x?s:n,b=x?n:s;o=(b-j)/Math.max(1,v-f+m*2),u&&(o=Math.floor(o)),j+=(b-j-o*(v-f))*h,c=o*(1-f),u&&(j=Math.round(j),c=Math.round(c));var w=IS(v).map(function(A){return j+o*A});return r(x?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,s]=v,n=+n,s=+s,p()):[n,s]},e.rangeRound=function(v){return[n,s]=v,n=+n,s=+s,u=!0,p()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),p()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),p()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,p()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},e.copy=function(){return Ff(t(),[n,s]).round(u).paddingInner(f).paddingOuter(m).align(h)},Tr.apply(p(),arguments)}function a0(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a0(t())},e}function RS(){return a0(Ff.apply(null,arguments).paddingInner(1))}function qf(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function s0(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cs(){}var hs=.7,Wo=1/hs,ua="\\s*([+-]?\\d+)\\s*",ms="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zS=/^#([0-9a-f]{3,8})$/,$S=new RegExp("^rgb\\("+[ua,ua,ua]+"\\)$"),BS=new RegExp("^rgb\\("+[Yr,Yr,Yr]+"\\)$"),FS=new RegExp("^rgba\\("+[ua,ua,ua,ms]+"\\)$"),qS=new RegExp("^rgba\\("+[Yr,Yr,Yr,ms]+"\\)$"),WS=new RegExp("^hsl\\("+[ms,Yr,Yr]+"\\)$"),US=new RegExp("^hsla\\("+[ms,Yr,Yr,ms]+"\\)$"),Eg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qf(Cs,ps,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Mg,formatHex:Mg,formatHsl:ZS,formatRgb:Dg,toString:Dg});function Mg(){return this.rgb().formatHex()}function ZS(){return o0(this).formatHsl()}function Dg(){return this.rgb().formatRgb()}function ps(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zS.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Lg(t):r===3?new cr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?go(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?go(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$S.exec(e))?new cr(t[1],t[2],t[3],1):(t=BS.exec(e))?new cr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FS.exec(e))?go(t[1],t[2],t[3],t[4]):(t=qS.exec(e))?go(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WS.exec(e))?zg(t[1],t[2]/100,t[3]/100,1):(t=US.exec(e))?zg(t[1],t[2]/100,t[3]/100,t[4]):Eg.hasOwnProperty(e)?Lg(Eg[e]):e==="transparent"?new cr(NaN,NaN,NaN,0):null}function Lg(e){return new cr(e>>16&255,e>>8&255,e&255,1)}function go(e,t,r,n){return n<=0&&(e=t=r=NaN),new cr(e,t,r,n)}function KS(e){return e instanceof Cs||(e=ps(e)),e?(e=e.rgb(),new cr(e.r,e.g,e.b,e.opacity)):new cr}function Td(e,t,r,n){return arguments.length===1?KS(e):new cr(e,t,r,n==null?1:n)}function cr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qf(cr,Td,s0(Cs,{brighter:function(e){return e=e==null?Wo:Math.pow(Wo,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?hs:Math.pow(hs,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ig,formatHex:Ig,formatRgb:Rg,toString:Rg}));function Ig(){return"#"+wu(this.r)+wu(this.g)+wu(this.b)}function Rg(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function wu(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function zg(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function o0(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof Cs||(e=ps(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),c=NaN,u=o-s,f=(o+s)/2;return u?(t===o?c=(r-n)/u+(r<n)*6:r===o?c=(n-t)/u+2:c=(t-r)/u+4,u/=f<.5?o+s:2-o-s,c*=60):u=f>0&&f<1?0:c,new Kr(c,u,f,e.opacity)}function HS(e,t,r,n){return arguments.length===1?o0(e):new Kr(e,t,r,n==null?1:n)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qf(Kr,HS,s0(Cs,{brighter:function(e){return e=e==null?Wo:Math.pow(Wo,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?hs:Math.pow(hs,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new cr(ju(e>=240?e-240:e+120,s,n),ju(e,s,n),ju(e<120?e+240:e-120,s,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function ju(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Wf=e=>()=>e;function YS(e,t){return function(r){return e+r*t}}function GS(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function VS(e){return(e=+e)==1?l0:function(t,r){return r-t?GS(t,r,e):Wf(isNaN(t)?r:t)}}function l0(e,t){var r=t-e;return r?YS(e,r):Wf(isNaN(e)?t:e)}const $g=function e(t){var r=VS(t);function n(s,o){var c=r((s=Td(s)).r,(o=Td(o)).r),u=r(s.g,o.g),f=r(s.b,o.b),m=l0(s.opacity,o.opacity);return function(h){return s.r=c(h),s.g=u(h),s.b=f(h),s.opacity=m(h),s+""}}return n.gamma=e,n}(1);function XS(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function JS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QS(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),c;for(c=0;c<n;++c)s[c]=ba(e[c],t[c]);for(;c<r;++c)o[c]=t[c];return function(u){for(c=0;c<n;++c)o[c]=s[c](u);return o}}function eC(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Uo(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tC(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ba(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var Ed=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nu=new RegExp(Ed.source,"g");function rC(e){return function(){return e}}function nC(e){return function(t){return e(t)+""}}function iC(e,t){var r=Ed.lastIndex=Nu.lastIndex=0,n,s,o,c=-1,u=[],f=[];for(e=e+"",t=t+"";(n=Ed.exec(e))&&(s=Nu.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),u[c]?u[c]+=o:u[++c]=o),(n=n[0])===(s=s[0])?u[c]?u[c]+=s:u[++c]=s:(u[++c]=null,f.push({i:c,x:Uo(n,s)})),r=Nu.lastIndex;return r<t.length&&(o=t.slice(r),u[c]?u[c]+=o:u[++c]=o),u.length<2?f[0]?nC(f[0].x):rC(t):(t=f.length,function(m){for(var h=0,p;h<t;++h)u[(p=f[h]).i]=p.x(m);return u.join("")})}function ba(e,t){var r=typeof t,n;return t==null||r==="boolean"?Wf(t):(r==="number"?Uo:r==="string"?(n=ps(t))?(t=n,$g):iC:t instanceof ps?$g:t instanceof Date?eC:JS(t)?XS:Array.isArray(t)?QS:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tC:Uo)(e,t)}function Uf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function aC(e,t){t===void 0&&(t=e,e=ba);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return o[u](c-u)}}function sC(e){return function(){return e}}function Zo(e){return+e}var Bg=[0,1];function Zt(e){return e}function Md(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sC(isNaN(t)?NaN:.5)}function oC(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lC(e,t,r){var n=e[0],s=e[1],o=t[0],c=t[1];return s<n?(n=Md(s,n),o=r(c,o)):(n=Md(n,s),o=r(o,c)),function(u){return o(n(u))}}function cC(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)s[c]=Md(e[c],e[c+1]),o[c]=r(t[c],t[c+1]);return function(u){var f=Ss(e,u,1,n)-1;return o[f](s[f](u))}}function Os(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pl(){var e=Bg,t=Bg,r=ba,n,s,o,c=Zt,u,f,m;function h(){var v=Math.min(e.length,t.length);return c!==Zt&&(c=oC(e[0],e[v-1])),u=v>2?cC:lC,f=m=null,p}function p(v){return v==null||isNaN(v=+v)?o:(f||(f=u(e.map(n),t,r)))(n(c(v)))}return p.invert=function(v){return c(s((m||(m=u(t,e.map(n),Uo)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,Zo),h()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=Uf,h()},p.clamp=function(v){return arguments.length?(c=v?!0:Zt,h()):c!==Zt},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,x){return n=v,s=x,h()}}function Zf(){return Pl()(Zt,Zt)}function Ko(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pa(e){return e=Ko(Math.abs(e)),e?e[1]:NaN}function uC(e,t){return function(r,n){for(var s=r.length,o=[],c=0,u=e[0],f=0;s>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),o.push(r.substring(s-=u,s+u)),!((f+=u+1)>n));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function dC(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gs(e){return new Kf(e)}gs.prototype=Kf.prototype;function Kf(e){if(!(t=fC.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}Kf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hC(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(n>0){if(!+e[r])break e;n=0}break}return n>0?e.slice(0,n)+e.slice(s+1):e}var c0;function mC(e,t){var r=Ko(e,t);if(!r)return e+"";var n=r[0],s=r[1],o=s-(c0=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=n.length;return o===c?n:o>c?n+new Array(o-c+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Ko(e,Math.max(0,t+o-1))[0]}function Fg(e,t){var r=Ko(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const qg={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Fg(e*100,t)},r:Fg,s:mC,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Wg(e){return e}var Ug=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function pC(e){var t=e.grouping&&e.thousands?uC(e.grouping,e.thousands):Wg,r=e.currency,n=e.decimal,s=e.numerals?dC(e.numerals):Wg,o=e.percent||"%";function c(f){f=gs(f);var m=f.fill,h=f.align,p=f.sign,v=f.symbol,x=f.zero,j=f.width,b=f.comma,w=f.precision,A=f.trim,S=f.type;S==="n"?(b=!0,S="g"):qg[S]||(w==null&&(w=12),A=!0,S="g"),(x||m==="0"&&h==="=")&&(x=!0,m="0",h="=");var C=v==="$"?r[0]:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=v==="$"?r[1]:/[%p]/.test(S)?o:"",k=qg[S],O=/[defgprs%]/.test(S);w=w==null?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(F){var K=C,Y=T,Q,X,te;if(S==="c")Y=k(F)+Y,F="";else{F=+F;var de=F<0;if(F=k(Math.abs(F),w),A&&(F=hC(F)),de&&+F==0&&(de=!1),K=(de?p==="("?p:"-":p==="-"||p==="("?"":p)+K,Y=(S==="s"?Ug[8+c0/3]:"")+Y+(de&&p==="("?")":""),O){for(Q=-1,X=F.length;++Q<X;)if(te=F.charCodeAt(Q),48>te||te>57){Y=(te===46?n+F.slice(Q+1):F.slice(Q))+Y,F=F.slice(0,Q);break}}}b&&!x&&(F=t(F,1/0));var be=K.length+F.length+Y.length,pe=be<j?new Array(j-be+1).join(m):"";switch(b&&x&&(F=t(pe+F,pe.length?j-Y.length:1/0),pe=""),h){case"<":F=K+F+Y+pe;break;case"=":F=K+pe+F+Y;break;case"^":F=pe.slice(0,be=pe.length>>1)+K+F+Y+pe.slice(be);break;default:F=pe+K+F+Y;break}return s(F)}return I.toString=function(){return f+""},I}function u(f,m){var h=c((f=gs(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(pa(m)/3)))*3,v=Math.pow(10,-p),x=Ug[8+p/3];return function(j){return h(v*j)+x}}return{format:c,formatPrefix:u}}var vo,Hf,u0;gC({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function gC(e){return vo=pC(e),Hf=vo.format,u0=vo.formatPrefix,vo}function vC(e){return Math.max(0,-pa(Math.abs(e)))}function yC(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pa(t)/3)))*3-pa(Math.abs(e)))}function xC(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pa(t)-pa(e))+1}function d0(e,t,r,n){var s=Od(e,t,r),o;switch(n=gs(n==null?",f":n),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=yC(s,c))&&(n.precision=o),u0(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=xC(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=vC(s))&&(n.precision=o-(n.type==="%")*2);break}}return Hf(n)}function Xn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sd(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var s=t();return d0(s[0],s[s.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,c=n[s],u=n[o],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=s,s=o,o=m);h-- >0;){if(m=Cd(c,u,r),m===f)return n[s]=c,n[o]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function f0(){var e=Zf();return e.copy=function(){return Os(e,f0())},Tr.apply(e,arguments),Xn(e)}function h0(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zo),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return h0(e).unknown(t)},e=arguments.length?Array.from(e,Zo):[0,1],Xn(r)}function m0(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],c;return o<s&&(c=r,r=n,n=c,c=s,s=o,o=c),e[r]=t.floor(s),e[n]=t.ceil(o),e}function Zg(e){return Math.log(e)}function Kg(e){return Math.exp(e)}function bC(e){return-Math.log(-e)}function _C(e){return-Math.exp(-e)}function wC(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jC(e){return e===10?wC:e===Math.E?Math.exp:t=>Math.pow(e,t)}function NC(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Hg(e){return(t,r)=>-e(-t,r)}function Yf(e){const t=e(Zg,Kg),r=t.domain;let n=10,s,o;function c(){return s=NC(n),o=jC(n),r()[0]<0?(s=Hg(s),o=Hg(o),e(bC,_C)):e(Zg,Kg),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const f=r();let m=f[0],h=f[f.length-1];const p=h<m;p&&([m,h]=[h,m]);let v=s(m),x=s(h),j,b;const w=u==null?10:+u;let A=[];if(!(n%1)&&x-v<w){if(v=Math.floor(v),x=Math.ceil(x),m>0){for(;v<=x;++v)for(j=1;j<n;++j)if(b=v<0?j/o(-v):j*o(v),!(b<m)){if(b>h)break;A.push(b)}}else for(;v<=x;++v)for(j=n-1;j>=1;--j)if(b=v>0?j/o(-v):j*o(v),!(b<m)){if(b>h)break;A.push(b)}A.length*2<w&&(A=Sd(m,h,w))}else A=Sd(v,x,Math.min(x-v,w)).map(o);return p?A.reverse():A},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=gs(f)).precision==null&&(f.trim=!0),f=Hf(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return h=>{let p=h/o(Math.round(s(h)));return p*n<n-.5&&(p*=n),p<=m?f(h):""}},t.nice=()=>r(m0(r(),{floor:u=>o(Math.floor(s(u))),ceil:u=>o(Math.ceil(s(u)))})),t}function p0(){const e=Yf(Pl()).domain([1,10]);return e.copy=()=>Os(e,p0()).base(e.base()),Tr.apply(e,arguments),e}function Yg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Gg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Gf(e){var t=1,r=e(Yg(t),Gg(t));return r.constant=function(n){return arguments.length?e(Yg(t=+n),Gg(t)):t},Xn(r)}function g0(){var e=Gf(Pl());return e.copy=function(){return Os(e,g0()).constant(e.constant())},Tr.apply(e,arguments)}function Vg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PC(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AC(e){return e<0?-e*e:e*e}function Vf(e){var t=e(Zt,Zt),r=1;function n(){return r===1?e(Zt,Zt):r===.5?e(PC,AC):e(Vg(r),Vg(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Xn(t)}function Xf(){var e=Vf(Pl());return e.copy=function(){return Os(e,Xf()).exponent(e.exponent())},Tr.apply(e,arguments),e}function SC(){return Xf.apply(null,arguments).exponent(.5)}function Xg(e){return Math.sign(e)*e*e}function CC(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function v0(){var e=Zf(),t=[0,1],r=!1,n;function s(o){var c=CC(e(o));return isNaN(c)?n:r?Math.round(c):c}return s.invert=function(o){return e.invert(Xg(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Zo)).map(Xg)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return v0(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Tr.apply(s,arguments),Xn(s)}function y0(){var e=[],t=[],r=[],n;function s(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=LS(e,c/u);return o}function o(c){return c==null||isNaN(c=+c)?n:t[Ss(r,c)]}return o.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Kn),s()},o.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},o.unknown=function(c){return arguments.length?(n=c,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return y0().domain(e).range(t).unknown(n)},Tr.apply(o,arguments)}function x0(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function c(f){return f!=null&&f<=f?s[Ss(n,f,0,r)]:o}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(r=(s=Array.from(f)).length-1,u()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(f){return arguments.length&&(o=f),c},c.thresholds=function(){return n.slice()},c.copy=function(){return x0().domain([e,t]).range(s).unknown(o)},Tr.apply(Xn(c),arguments)}function b0(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[Ss(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return b0().domain(e).range(t).unknown(r)},Tr.apply(s,arguments)}const Pu=new Date,Au=new Date;function xt(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const c=s(o),u=s.ceil(o);return o-c<u-o?c:u},s.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,u)=>{const f=[];if(o=s.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return f;let m;do f.push(m=new Date(+o)),t(o,u),e(o);while(m<o&&o<c);return f},s.filter=o=>xt(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),r&&(s.count=(o,c)=>(Pu.setTime(+o),Au.setTime(+c),e(Pu),e(Au),Math.floor(r(Pu,Au))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?c=>n(c)%o===0:c=>s.count(0,c)%o===0):s)),s}const Ho=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ho.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ho);Ho.range;const gn=1e3,Sr=gn*60,vn=Sr*60,_n=vn*24,Jf=_n*7,Jg=_n*30,Su=_n*365,xi=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCSeconds());xi.range;const Qf=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gn)},(e,t)=>{e.setTime(+e+t*Sr)},(e,t)=>(t-e)/Sr,e=>e.getMinutes());Qf.range;const eh=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sr)},(e,t)=>(t-e)/Sr,e=>e.getUTCMinutes());eh.range;const th=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gn-e.getMinutes()*Sr)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getHours());th.range;const rh=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getUTCHours());rh.range;const nh=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sr)/_n,e=>e.getDate()-1);nh.range;const _0=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_n,e=>e.getUTCDate()-1);_0.range;const w0=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_n,e=>Math.floor(e/_n));w0.range;function Mi(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Sr)/Jf)}const ih=Mi(0),OC=Mi(1),kC=Mi(2),TC=Mi(3),EC=Mi(4),MC=Mi(5),DC=Mi(6);ih.range;OC.range;kC.range;TC.range;EC.range;MC.range;DC.range;function Di(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Jf)}const ah=Di(0),LC=Di(1),IC=Di(2),RC=Di(3),zC=Di(4),$C=Di(5),BC=Di(6);ah.range;LC.range;IC.range;RC.range;zC.range;$C.range;BC.range;const sh=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sh.range;const oh=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oh.range;const Al=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Al.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Al.range;const Sl=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sl.range;function j0(e,t,r,n,s,o){const c=[[xi,1,gn],[xi,5,5*gn],[xi,15,15*gn],[xi,30,30*gn],[o,1,Sr],[o,5,5*Sr],[o,15,15*Sr],[o,30,30*Sr],[s,1,vn],[s,3,3*vn],[s,6,6*vn],[s,12,12*vn],[n,1,_n],[n,2,2*_n],[r,1,Jf],[t,1,Jg],[t,3,3*Jg],[e,1,Su]];function u(m,h,p){const v=h<m;v&&([m,h]=[h,m]);const x=p&&typeof p.range=="function"?p:f(m,h,p),j=x?x.range(m,+h+1):[];return v?j.reverse():j}function f(m,h,p){const v=Math.abs(h-m)/p,x=$f(([,,w])=>w).right(c,v);if(x===c.length)return e.every(Od(m/Su,h/Su,p));if(x===0)return Ho.every(Math.max(Od(m,h,p),1));const[j,b]=c[v/c[x-1][2]<c[x][2]/v?x-1:x];return j.every(b)}return[u,f]}const[FC,qC]=j0(Sl,oh,ah,w0,rh,eh),[WC,UC]=j0(Al,sh,ih,nh,th,Qf);var Cu=new Date,Ou=new Date;function An(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=function(o){return e(o=new Date(+o)),o},s.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},s.round=function(o){var c=s(o),u=s.ceil(o);return o-c<u-o?c:u},s.offset=function(o,c){return t(o=new Date(+o),c==null?1:Math.floor(c)),o},s.range=function(o,c,u){var f=[],m;if(o=s.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return f;do f.push(m=new Date(+o)),t(o,u),e(o);while(m<o&&o<c);return f},s.filter=function(o){return An(function(c){if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},function(c,u){if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););})},r&&(s.count=function(o,c){return Cu.setTime(+o),Ou.setTime(+c),e(Cu),e(Ou),Math.floor(r(Cu,Ou))},s.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?function(c){return n(c)%o===0}:function(c){return s.count(0,c)%o===0}):s}),s}const ZC=1e3,lh=ZC*60,KC=lh*60,ch=KC*24,N0=ch*7;var uh=An(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lh)/ch,e=>e.getDate()-1);uh.range;function Li(e){return An(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*lh)/N0})}var P0=Li(0),Yo=Li(1),HC=Li(2),YC=Li(3),ga=Li(4),GC=Li(5),VC=Li(6);P0.range;Yo.range;HC.range;YC.range;ga.range;GC.range;VC.range;var Oi=An(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Oi.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:An(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};Oi.range;var dh=An(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/ch},function(e){return e.getUTCDate()-1});dh.range;function Ii(e){return An(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/N0})}var A0=Ii(0),Go=Ii(1),XC=Ii(2),JC=Ii(3),va=Ii(4),QC=Ii(5),eO=Ii(6);A0.range;Go.range;XC.range;JC.range;va.range;QC.range;eO.range;var ki=An(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ki.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:An(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};ki.range;function ku(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Tu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function es(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tO(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=ts(s),h=rs(s),p=ts(o),v=rs(o),x=ts(c),j=rs(c),b=ts(u),w=rs(u),A=ts(f),S=rs(f),C={a:Te,A:q,b:ce,B:G,c:null,d:iv,e:iv,f:NO,g:DO,G:IO,H:_O,I:wO,j:jO,L:S0,m:PO,M:AO,p:he,q:D,Q:ov,s:lv,S:SO,u:CO,U:OO,V:kO,w:TO,W:EO,x:null,X:null,y:MO,Y:LO,Z:RO,"%":sv},T={a:V,A:se,b:ae,B:re,c:null,d:av,e:av,f:FO,g:XO,G:QO,H:zO,I:$O,j:BO,L:O0,m:qO,M:WO,p:Ne,q:ze,Q:ov,s:lv,S:UO,u:ZO,U:KO,V:HO,w:YO,W:GO,x:null,X:null,y:VO,Y:JO,Z:ek,"%":sv},k={a:Y,A:Q,b:X,B:te,c:de,d:rv,e:rv,f:vO,g:tv,G:ev,H:nv,I:nv,j:hO,L:gO,m:fO,M:mO,p:K,q:dO,Q:xO,s:bO,S:pO,u:sO,U:oO,V:lO,w:aO,W:cO,x:be,X:pe,y:tv,Y:ev,Z:uO,"%":yO};C.x=O(r,C),C.X=O(n,C),C.c=O(t,C),T.x=O(r,T),T.X=O(n,T),T.c=O(t,T);function O(J,W){return function(ee){var Z=[],Ee=-1,Ce=0,it=J.length,Fe,ct,It;for(ee instanceof Date||(ee=new Date(+ee));++Ee<it;)J.charCodeAt(Ee)===37&&(Z.push(J.slice(Ce,Ee)),(ct=Qg[Fe=J.charAt(++Ee)])!=null?Fe=J.charAt(++Ee):ct=Fe==="e"?" ":"0",(It=W[Fe])&&(Fe=It(ee,ct)),Z.push(Fe),Ce=Ee+1);return Z.push(J.slice(Ce,Ee)),Z.join("")}}function I(J,W){return function(ee){var Z=es(1900,void 0,1),Ee=F(Z,J,ee+="",0),Ce,it;if(Ee!=ee.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(W&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ce=Tu(es(Z.y,0,1)),it=Ce.getUTCDay(),Ce=it>4||it===0?Go.ceil(Ce):Go(Ce),Ce=dh.offset(Ce,(Z.V-1)*7),Z.y=Ce.getUTCFullYear(),Z.m=Ce.getUTCMonth(),Z.d=Ce.getUTCDate()+(Z.w+6)%7):(Ce=ku(es(Z.y,0,1)),it=Ce.getDay(),Ce=it>4||it===0?Yo.ceil(Ce):Yo(Ce),Ce=uh.offset(Ce,(Z.V-1)*7),Z.y=Ce.getFullYear(),Z.m=Ce.getMonth(),Z.d=Ce.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),it="Z"in Z?Tu(es(Z.y,0,1)).getUTCDay():ku(es(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(it+5)%7:Z.w+Z.U*7-(it+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Tu(Z)):ku(Z)}}function F(J,W,ee,Z){for(var Ee=0,Ce=W.length,it=ee.length,Fe,ct;Ee<Ce;){if(Z>=it)return-1;if(Fe=W.charCodeAt(Ee++),Fe===37){if(Fe=W.charAt(Ee++),ct=k[Fe in Qg?W.charAt(Ee++):Fe],!ct||(Z=ct(J,ee,Z))<0)return-1}else if(Fe!=ee.charCodeAt(Z++))return-1}return Z}function K(J,W,ee){var Z=m.exec(W.slice(ee));return Z?(J.p=h.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function Y(J,W,ee){var Z=x.exec(W.slice(ee));return Z?(J.w=j.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function Q(J,W,ee){var Z=p.exec(W.slice(ee));return Z?(J.w=v.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function X(J,W,ee){var Z=A.exec(W.slice(ee));return Z?(J.m=S.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function te(J,W,ee){var Z=b.exec(W.slice(ee));return Z?(J.m=w.get(Z[0].toLowerCase()),ee+Z[0].length):-1}function de(J,W,ee){return F(J,t,W,ee)}function be(J,W,ee){return F(J,r,W,ee)}function pe(J,W,ee){return F(J,n,W,ee)}function Te(J){return c[J.getDay()]}function q(J){return o[J.getDay()]}function ce(J){return f[J.getMonth()]}function G(J){return u[J.getMonth()]}function he(J){return s[+(J.getHours()>=12)]}function D(J){return 1+~~(J.getMonth()/3)}function V(J){return c[J.getUTCDay()]}function se(J){return o[J.getUTCDay()]}function ae(J){return f[J.getUTCMonth()]}function re(J){return u[J.getUTCMonth()]}function Ne(J){return s[+(J.getUTCHours()>=12)]}function ze(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var W=O(J+="",C);return W.toString=function(){return J},W},parse:function(J){var W=I(J+="",!1);return W.toString=function(){return J},W},utcFormat:function(J){var W=O(J+="",T);return W.toString=function(){return J},W},utcParse:function(J){var W=I(J+="",!0);return W.toString=function(){return J},W}}}var Qg={"-":"",_:" ",0:"0"},St=/^\s*\d+/,rO=/^%/,nO=/[\\^$*+?|[\]().{}]/g;function Re(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function iO(e){return e.replace(nO,"\\$&")}function ts(e){return new RegExp("^(?:"+e.map(iO).join("|")+")","i")}function rs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function aO(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sO(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function oO(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lO(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cO(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ev(e,t,r){var n=St.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tv(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uO(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dO(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fO(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rv(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hO(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nv(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function mO(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function pO(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gO(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vO(e,t,r){var n=St.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yO(e,t,r){var n=rO.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xO(e,t,r){var n=St.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bO(e,t,r){var n=St.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iv(e,t){return Re(e.getDate(),t,2)}function _O(e,t){return Re(e.getHours(),t,2)}function wO(e,t){return Re(e.getHours()%12||12,t,2)}function jO(e,t){return Re(1+uh.count(Oi(e),e),t,3)}function S0(e,t){return Re(e.getMilliseconds(),t,3)}function NO(e,t){return S0(e,t)+"000"}function PO(e,t){return Re(e.getMonth()+1,t,2)}function AO(e,t){return Re(e.getMinutes(),t,2)}function SO(e,t){return Re(e.getSeconds(),t,2)}function CO(e){var t=e.getDay();return t===0?7:t}function OO(e,t){return Re(P0.count(Oi(e)-1,e),t,2)}function C0(e){var t=e.getDay();return t>=4||t===0?ga(e):ga.ceil(e)}function kO(e,t){return e=C0(e),Re(ga.count(Oi(e),e)+(Oi(e).getDay()===4),t,2)}function TO(e){return e.getDay()}function EO(e,t){return Re(Yo.count(Oi(e)-1,e),t,2)}function MO(e,t){return Re(e.getFullYear()%100,t,2)}function DO(e,t){return e=C0(e),Re(e.getFullYear()%100,t,2)}function LO(e,t){return Re(e.getFullYear()%1e4,t,4)}function IO(e,t){var r=e.getDay();return e=r>=4||r===0?ga(e):ga.ceil(e),Re(e.getFullYear()%1e4,t,4)}function RO(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Re(t/60|0,"0",2)+Re(t%60,"0",2)}function av(e,t){return Re(e.getUTCDate(),t,2)}function zO(e,t){return Re(e.getUTCHours(),t,2)}function $O(e,t){return Re(e.getUTCHours()%12||12,t,2)}function BO(e,t){return Re(1+dh.count(ki(e),e),t,3)}function O0(e,t){return Re(e.getUTCMilliseconds(),t,3)}function FO(e,t){return O0(e,t)+"000"}function qO(e,t){return Re(e.getUTCMonth()+1,t,2)}function WO(e,t){return Re(e.getUTCMinutes(),t,2)}function UO(e,t){return Re(e.getUTCSeconds(),t,2)}function ZO(e){var t=e.getUTCDay();return t===0?7:t}function KO(e,t){return Re(A0.count(ki(e)-1,e),t,2)}function k0(e){var t=e.getUTCDay();return t>=4||t===0?va(e):va.ceil(e)}function HO(e,t){return e=k0(e),Re(va.count(ki(e),e)+(ki(e).getUTCDay()===4),t,2)}function YO(e){return e.getUTCDay()}function GO(e,t){return Re(Go.count(ki(e)-1,e),t,2)}function VO(e,t){return Re(e.getUTCFullYear()%100,t,2)}function XO(e,t){return e=k0(e),Re(e.getUTCFullYear()%100,t,2)}function JO(e,t){return Re(e.getUTCFullYear()%1e4,t,4)}function QO(e,t){var r=e.getUTCDay();return e=r>=4||r===0?va(e):va.ceil(e),Re(e.getUTCFullYear()%1e4,t,4)}function ek(){return"+0000"}function sv(){return"%"}function ov(e){return+e}function lv(e){return Math.floor(+e/1e3)}var na,T0,E0;tk({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tk(e){return na=tO(e),T0=na.format,na.parse,E0=na.utcFormat,na.utcParse,na}function rk(e){return new Date(e)}function nk(e){return e instanceof Date?+e:+new Date(+e)}function fh(e,t,r,n,s,o,c,u,f,m){var h=Zf(),p=h.invert,v=h.domain,x=m(".%L"),j=m(":%S"),b=m("%I:%M"),w=m("%I %p"),A=m("%a %d"),S=m("%b %d"),C=m("%B"),T=m("%Y");function k(O){return(f(O)<O?x:u(O)<O?j:c(O)<O?b:o(O)<O?w:n(O)<O?s(O)<O?A:S:r(O)<O?C:T)(O)}return h.invert=function(O){return new Date(p(O))},h.domain=function(O){return arguments.length?v(Array.from(O,nk)):v().map(rk)},h.ticks=function(O){var I=v();return e(I[0],I[I.length-1],O==null?10:O)},h.tickFormat=function(O,I){return I==null?k:m(I)},h.nice=function(O){var I=v();return(!O||typeof O.range!="function")&&(O=t(I[0],I[I.length-1],O==null?10:O)),O?v(m0(I,O)):h},h.copy=function(){return Os(h,fh(e,t,r,n,s,o,c,u,f,m))},h}function ik(){return Tr.apply(fh(WC,UC,Al,sh,ih,nh,th,Qf,xi,T0).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ak(){return Tr.apply(fh(FC,qC,Sl,oh,ah,_0,rh,eh,xi,E0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cl(){var e=0,t=1,r,n,s,o,c=Zt,u=!1,f;function m(p){return p==null||isNaN(p=+p)?f:c(s===0?.5:(p=(o(p)-r)*s,u?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t]=p,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(p){return arguments.length?(u=!!p,m):u},m.interpolator=function(p){return arguments.length?(c=p,m):c};function h(p){return function(v){var x,j;return arguments.length?([x,j]=v,c=p(x,j),m):[c(0),c(1)]}}return m.range=h(ba),m.rangeRound=h(Uf),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return o=p,r=p(e),n=p(t),s=r===n?0:1/(n-r),m}}function Jn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function M0(){var e=Xn(Cl()(Zt));return e.copy=function(){return Jn(e,M0())},Pn.apply(e,arguments)}function D0(){var e=Yf(Cl()).domain([1,10]);return e.copy=function(){return Jn(e,D0()).base(e.base())},Pn.apply(e,arguments)}function L0(){var e=Gf(Cl());return e.copy=function(){return Jn(e,L0()).constant(e.constant())},Pn.apply(e,arguments)}function hh(){var e=Vf(Cl());return e.copy=function(){return Jn(e,hh()).exponent(e.exponent())},Pn.apply(e,arguments)}function sk(){return hh.apply(null,arguments).exponent(.5)}function I0(){var e=[],t=Zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ss(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Kn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>DS(e,o/n))},r.copy=function(){return I0(t).domain(e)},Pn.apply(r,arguments)}function Ol(){var e=0,t=.5,r=1,n=1,s,o,c,u,f,m=Zt,h,p=!1,v;function x(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-o)*(n*b<n*o?u:f),m(p?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([e,t,r]=b,s=h(e=+e),o=h(t=+t),c=h(r=+r),u=s===o?0:.5/(o-s),f=o===c?0:.5/(c-o),n=o<s?-1:1,x):[e,t,r]},x.clamp=function(b){return arguments.length?(p=!!b,x):p},x.interpolator=function(b){return arguments.length?(m=b,x):m};function j(b){return function(w){var A,S,C;return arguments.length?([A,S,C]=w,m=aC(b,[A,S,C]),x):[m(0),m(.5),m(1)]}}return x.range=j(ba),x.rangeRound=j(Uf),x.unknown=function(b){return arguments.length?(v=b,x):v},function(b){return h=b,s=b(e),o=b(t),c=b(r),u=s===o?0:.5/(o-s),f=o===c?0:.5/(c-o),n=o<s?-1:1,x}}function R0(){var e=Xn(Ol()(Zt));return e.copy=function(){return Jn(e,R0())},Pn.apply(e,arguments)}function z0(){var e=Yf(Ol()).domain([.1,1,10]);return e.copy=function(){return Jn(e,z0()).base(e.base())},Pn.apply(e,arguments)}function $0(){var e=Gf(Ol());return e.copy=function(){return Jn(e,$0()).constant(e.constant())},Pn.apply(e,arguments)}function mh(){var e=Vf(Ol());return e.copy=function(){return Jn(e,mh()).exponent(e.exponent())},Pn.apply(e,arguments)}function ok(){return mh.apply(null,arguments).exponent(.5)}const ss=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ff,scaleDiverging:R0,scaleDivergingLog:z0,scaleDivergingPow:mh,scaleDivergingSqrt:ok,scaleDivergingSymlog:$0,scaleIdentity:h0,scaleImplicit:kd,scaleLinear:f0,scaleLog:p0,scaleOrdinal:Bf,scalePoint:RS,scalePow:Xf,scaleQuantile:y0,scaleQuantize:x0,scaleRadial:v0,scaleSequential:M0,scaleSequentialLog:D0,scaleSequentialPow:hh,scaleSequentialQuantile:I0,scaleSequentialSqrt:sk,scaleSequentialSymlog:L0,scaleSqrt:SC,scaleSymlog:g0,scaleThreshold:b0,scaleTime:ik,scaleUtc:ak,tickFormat:d0},Symbol.toStringTag,{value:"Module"}));var Ri=e=>e.chartData,lk=U([Ri],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ph=(e,t,r,n)=>n?lk(e):Ri(e);function ya(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Dt(t)&&Dt(r))return!0}return!1}function cv(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function ck(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,o;if(Dt(r))s=r;else if(typeof r=="function")return;if(Dt(n))o=n;else if(typeof n=="function")return;var c=[s,o];if(ya(c))return c}}function uk(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ya(n))return cv(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,c,u;if(s==="auto")t!=null&&(c=Math.min(...t));else if(ue(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&Jp.test(s)){var f=Jp.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(ue(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&Qp.test(o)){var h=Qp.exec(o);if(h==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var v=[c,u];if(ya(v))return t==null?v:cv(v,t,r)}}}var _a=1e9,dk={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vh,rt=!0,Or="[DecimalError] ",ji=Or+"Invalid argument: ",gh=Or+"Exponent out of range: ",wa=Math.floor,pi=Math.pow,fk=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,or,Pt=1e7,et=7,B0=9007199254740991,Vo=wa(B0/et),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return xn(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return He(xn(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return mt(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(or))throw Error(Or+"NaN");if(r.s<1)throw Error(Or+(r.s?"NaN":"-Infinity"));return r.eq(or)?new n(0):(rt=!1,t=xn(vs(r,o),vs(e,o),o),rt=!0,He(t,s))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?W0(t,e):F0(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Or+"NaN");return r.s?(rt=!1,t=xn(r,e,0,1).times(e),rt=!0,r.minus(t)):He(new n(r),s)};le.naturalExponential=le.exp=function(){return q0(this)};le.naturalLogarithm=le.ln=function(){return vs(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F0(t,e):W0(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ji+e);if(t=mt(s)+1,n=s.d.length-1,r=n*et+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,s,o,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Or+"NaN")}for(e=mt(u),rt=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Hr(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=wa((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(s.toString()),r=f.precision,s=c=r+3;;)if(o=n,n=o.plus(xn(u,o,c+2)).times(.5),Hr(o.d).slice(0,c)===(t=Hr(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(He(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;c+=4}return rt=!0,He(n,r)};le.times=le.mul=function(e){var t,r,n,s,o,c,u,f,m,h=this,p=h.constructor,v=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,f=v.length,m=x.length,f<m&&(o=v,v=x,x=o,c=f,f=m,m=c),o=[],c=f+m,n=c;n--;)o.push(0);for(n=m;--n>=0;){for(t=0,s=f+n;s>n;)u=o[s]+x[n]*v[s-n-1]+t,o[s--]=u%Pt|0,t=u/Pt|0;o[s]=(o[s]+t)%Pt|0}for(;!o[--c];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,rt?He(e,p.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Vr(e,0,_a),t===void 0?t=n.rounding:Vr(t,0,8),He(r,e+mt(r)+1,t))};le.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ti(n,!0):(Vr(e,0,_a),t===void 0?t=s.rounding:Vr(t,0,8),n=He(new s(n),e+1,t),r=Ti(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?Ti(s):(Vr(e,0,_a),t===void 0?t=o.rounding:Vr(t,0,8),n=He(new o(s),e+mt(s)+1,t),r=Ti(n.abs(),!1,e+mt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return He(new t(e),mt(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,s,o,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(or);if(u=new f(u),!u.s){if(e.s<1)throw Error(Or+"Infinity");return u}if(u.eq(or))return u;if(n=f.precision,e.eq(or))return He(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,o=u.s,c){if((r=h<0?-h:h)<=B0){for(s=new f(or),t=Math.ceil(n/et+4),rt=!1;r%2&&(s=s.times(u),dv(s.d,t)),r=wa(r/2),r!==0;)u=u.times(u),dv(u.d,t);return rt=!0,e.s<0?new f(or).div(s):He(s,n)}}else if(o<0)throw Error(Or+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,rt=!1,s=e.times(vs(u,n+m)),rt=!0,s=q0(s),s.s=o,s};le.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=mt(s),n=Ti(s,r<=o.toExpNeg||r>=o.toExpPos)):(Vr(e,1,_a),t===void 0?t=o.rounding:Vr(t,0,8),s=He(new o(s),e,t),r=mt(s),n=Ti(s,e<=r||r<=o.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Vr(e,1,_a),t===void 0?t=n.rounding:Vr(t,0,8)),He(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mt(e),r=e.constructor;return Ti(e,t<=r.toExpNeg||t>=r.toExpPos)};function F0(e,t){var r,n,s,o,c,u,f,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),rt?He(t,p):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),o=c-s,o){for(o<0?(n=f,o=-o,u=m.length):(n=m,s=c,u=f.length),c=Math.ceil(p/et),u=c>u?c+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=f.length,o=m.length,u-o<0&&(o=u,n=m,m=f,f=n),r=0;o;)r=(f[--o]=f[o]+m[o]+r)/Pt|0,f[o]%=Pt;for(r&&(f.unshift(r),++s),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=s,rt?He(t,p):t}function Vr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ji+e)}function Hr(e){var t,r,n,s=e.length-1,o="",c=e[0];if(s>0){for(o+=c,t=1;t<s;t++)n=e[t]+"",r=et-n.length,r&&(o+=qn(r)),o+=n;c=e[t],n=c+"",r=et-n.length,r&&(o+=qn(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var xn=function(){function e(n,s){var o,c=0,u=n.length;for(n=n.slice();u--;)o=n[u]*s+c,n[u]=o%Pt|0,c=o/Pt|0;return c&&n.unshift(c),n}function t(n,s,o,c){var u,f;if(o!=c)f=o>c?1:-1;else for(u=f=0;u<o;u++)if(n[u]!=s[u]){f=n[u]>s[u]?1:-1;break}return f}function r(n,s,o){for(var c=0;o--;)n[o]-=c,c=n[o]<s[o]?1:0,n[o]=c*Pt+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,c){var u,f,m,h,p,v,x,j,b,w,A,S,C,T,k,O,I,F,K=n.constructor,Y=n.s==s.s?1:-1,Q=n.d,X=s.d;if(!n.s)return new K(n);if(!s.s)throw Error(Or+"Division by zero");for(f=n.e-s.e,I=X.length,k=Q.length,x=new K(Y),j=x.d=[],m=0;X[m]==(Q[m]||0);)++m;if(X[m]>(Q[m]||0)&&--f,o==null?S=o=K.precision:c?S=o+(mt(n)-mt(s))+1:S=o,S<0)return new K(0);if(S=S/et+2|0,m=0,I==1)for(h=0,X=X[0],S++;(m<k||h)&&S--;m++)C=h*Pt+(Q[m]||0),j[m]=C/X|0,h=C%X|0;else{for(h=Pt/(X[0]+1)|0,h>1&&(X=e(X,h),Q=e(Q,h),I=X.length,k=Q.length),T=I,b=Q.slice(0,I),w=b.length;w<I;)b[w++]=0;F=X.slice(),F.unshift(0),O=X[0],X[1]>=Pt/2&&++O;do h=0,u=t(X,b,I,w),u<0?(A=b[0],I!=w&&(A=A*Pt+(b[1]||0)),h=A/O|0,h>1?(h>=Pt&&(h=Pt-1),p=e(X,h),v=p.length,w=b.length,u=t(p,b,v,w),u==1&&(h--,r(p,I<v?F:X,v))):(h==0&&(u=h=1),p=X.slice()),v=p.length,v<w&&p.unshift(0),r(b,p,w),u==-1&&(w=b.length,u=t(X,b,I,w),u<1&&(h++,r(b,I<w?F:X,w))),w=b.length):u===0&&(h++,b=[0]),j[m++]=h,u&&b[0]?b[w++]=Q[T]||0:(b=[Q[T]],w=1);while((T++<k||b[0]!==void 0)&&S--)}return j[0]||j.shift(),x.e=f,He(x,c?o+mt(x)+1:o)}}();function q0(e,t){var r,n,s,o,c,u,f=0,m=0,h=e.constructor,p=h.precision;if(mt(e)>16)throw Error(gh+mt(e));if(!e.s)return new h(or);for(rt=!1,u=p,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(pi(2,m))/Math.LN10*2+5|0,u+=n,r=s=o=new h(or),h.precision=u;;){if(s=He(s.times(e),u),r=r.times(++f),c=o.plus(xn(s,r,u)),Hr(c.d).slice(0,u)===Hr(o.d).slice(0,u)){for(;m--;)o=He(o.times(o),u);return h.precision=p,t==null?(rt=!0,He(o,p)):o}o=c}}function mt(e){for(var t=e.e*et,r=e.d[0];r>=10;r/=10)t++;return t}function Eu(e,t,r){if(t>e.LN10.sd())throw rt=!0,r&&(e.precision=r),Error(Or+"LN10 precision limit exceeded");return He(new e(e.LN10),t)}function qn(e){for(var t="";e--;)t+="0";return t}function vs(e,t){var r,n,s,o,c,u,f,m,h,p=1,v=10,x=e,j=x.d,b=x.constructor,w=b.precision;if(x.s<1)throw Error(Or+(x.s?"NaN":"-Infinity"));if(x.eq(or))return new b(0);if(t==null?(rt=!1,m=w):m=t,x.eq(10))return t==null&&(rt=!0),Eu(b,m);if(m+=v,b.precision=m,r=Hr(j),n=r.charAt(0),o=mt(x),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Hr(x.d),n=r.charAt(0),p++;o=mt(x),n>1?(x=new b("0."+r),o++):x=new b(n+"."+r.slice(1))}else return f=Eu(b,m+2,w).times(o+""),x=vs(new b(n+"."+r.slice(1)),m-v).plus(f),b.precision=w,t==null?(rt=!0,He(x,w)):x;for(u=c=x=xn(x.minus(or),x.plus(or),m),h=He(x.times(x),m),s=3;;){if(c=He(c.times(h),m),f=u.plus(xn(c,new b(s),m)),Hr(f.d).slice(0,m)===Hr(u.d).slice(0,m))return u=u.times(2),o!==0&&(u=u.plus(Eu(b,m+2,w).times(o+""))),u=xn(u,new b(p),m),b.precision=w,t==null?(rt=!0,He(u,w)):u;u=f,s+=2}}function uv(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=wa(r/et),e.d=[],n=(r+1)%et,r<0&&(n+=et),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=et;n<s;)e.d.push(+t.slice(n,n+=et));t=t.slice(n),n=et-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),rt&&(e.e>Vo||e.e<-Vo))throw Error(gh+r)}else e.s=0,e.e=0,e.d=[0];return e}function He(e,t,r){var n,s,o,c,u,f,m,h,p=e.d;for(c=1,o=p[0];o>=10;o/=10)c++;if(n=t-c,n<0)n+=et,s=t,m=p[h=0];else{if(h=Math.ceil((n+1)/et),o=p.length,h>=o)return e;for(m=o=p[h],c=1;o>=10;o/=10)c++;n%=et,s=n-et+c}if(r!==void 0&&(o=pi(10,c-s-1),u=m/o%10|0,f=t<0||p[h+1]!==void 0||m%o,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?s>0?m/pi(10,c-s):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return f?(o=mt(e),p.length=1,t=t-o-1,p[0]=pi(10,(et-t%et)%et),e.e=wa(-t/et)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,o=1,h--):(p.length=h+1,o=pi(10,et-n),p[h]=s>0?(m/pi(10,c-s)%pi(10,s)|0)*o:0),f)for(;;)if(h==0){(p[0]+=o)==Pt&&(p[0]=1,++e.e);break}else{if(p[h]+=o,p[h]!=Pt)break;p[h--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(rt&&(e.e>Vo||e.e<-Vo))throw Error(gh+mt(e));return e}function W0(e,t){var r,n,s,o,c,u,f,m,h,p,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),rt?He(t,x):t;if(f=e.d,p=t.d,n=t.e,m=e.e,f=f.slice(),c=m-n,c){for(h=c<0,h?(r=f,c=-c,u=p.length):(r=p,n=m,u=f.length),s=Math.max(Math.ceil(x/et),u)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=f.length,u=p.length,h=s<u,h&&(u=s),s=0;s<u;s++)if(f[s]!=p[s]){h=f[s]<p[s];break}c=0}for(h&&(r=f,f=p,p=r,t.s=-t.s),u=f.length,s=p.length-u;s>0;--s)f[u++]=0;for(s=p.length;s>c;){if(f[--s]<p[s]){for(o=s;o&&f[--o]===0;)f[o]=Pt-1;--f[o],f[s]+=Pt}f[s]-=p[s]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,rt?He(t,x):t):new v(0)}function Ti(e,t,r){var n,s=mt(e),o=Hr(e.d),c=o.length;return t?(r&&(n=r-c)>0?o=o.charAt(0)+"."+o.slice(1)+qn(n):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+qn(-s-1)+o,r&&(n=r-c)>0&&(o+=qn(n))):s>=c?(o+=qn(s+1-c),r&&(n=r-s-1)>0&&(o=o+"."+qn(n))):((n=s+1)<c&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-c)>0&&(s+1===c&&(o+="."),o+=qn(n))),e.s<0?"-"+o:o}function dv(e,t){if(e.length>t)return e.length=t,!0}function U0(e){var t,r,n;function s(o){var c=this;if(!(c instanceof s))return new s(o);if(c.constructor=s,o instanceof s){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ji+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return uv(c,o.toString())}else if(typeof o!="string")throw Error(ji+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,fk.test(o))uv(c,o);else throw Error(ji+o)}if(s.prototype=le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=U0,s.config=s.set=hk,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function hk(e){if(!e||typeof e!="object")throw Error(Or+"Object expected");var t,r,n,s=["precision",1,_a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(wa(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ji+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ji+r+": "+n);return this}var vh=U0(dk);or=new vh(1);const Ze=vh;var mk=e=>e,Z0={},K0=e=>e===Z0,fv=e=>function t(){return arguments.length===0||arguments.length===1&&K0(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},H0=(e,t)=>e===1?t:fv(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var o=n.filter(c=>c!==Z0).length;return o>=e?t(...n):H0(e-o,fv(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var m=n.map(h=>K0(h)?u.shift():h);return t(...m,...u)}))}),kl=e=>H0(e.length,e),Dd=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},pk=kl((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),gk=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mk;var s=r.reverse(),o=s[0],c=s.slice(1);return function(){return c.reduce((u,f)=>f(u),o(...arguments))}},Ld=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Y0=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t&&s.every((c,u)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[u])})||(t=s,r=e(...s)),r}};function G0(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function V0(e,t,r){for(var n=new Ze(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}kl((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});kl((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});kl((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var X0=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},J0=(e,t,r)=>{if(e.lte(0))return new Ze(0);var n=G0(e.toNumber()),s=new Ze(10).pow(n),o=e.div(s),c=n!==1?.05:.1,u=new Ze(Math.ceil(o.div(c).toNumber())).add(r).mul(c),f=u.mul(s);return t?new Ze(f.toNumber()):new Ze(Math.ceil(f.toNumber()))},vk=(e,t,r)=>{var n=new Ze(1),s=new Ze(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new Ze(10).pow(G0(e)-1),s=new Ze(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new Ze(Math.floor(e)))}else e===0?s=new Ze(Math.floor((t-1)/2)):r||(s=new Ze(Math.floor(e)));var c=Math.floor((t-1)/2),u=gk(pk(f=>s.add(new Ze(f-c).mul(n)).toNumber()),Dd);return u(0,t)},Q0=function(t,r,n,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var c=J0(new Ze(r).sub(t).div(n-1),s,o),u;t<=0&&r>=0?u=new Ze(0):(u=new Ze(t).add(r).div(2),u=u.sub(new Ze(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Ze(r).sub(u).div(c).toNumber()),h=f+m+1;return h>n?Q0(t,r,n,s,o+1):(h<n&&(m=r>0?m+(n-h):m,f=r>0?f:f+(n-h)),{step:c,tickMin:u.sub(new Ze(f).mul(c)),tickMax:u.add(new Ze(m).mul(c))})};function yk(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),[c,u]=X0([t,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...Dd(0,n-1).map(()=>1/0)]:[...Dd(0,n-1).map(()=>-1/0),u];return t>r?Ld(f):f}if(c===u)return vk(c,n,s);var{step:m,tickMin:h,tickMax:p}=Q0(c,u,o,s,0),v=V0(h,p.add(new Ze(.1).mul(m)),m);return t>r?Ld(v):v}function xk(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=X0([r,n]);if(o===-1/0||c===1/0)return[r,n];if(o===c)return[o];var u=Math.max(t,2),f=J0(new Ze(c).sub(o).div(u-1),s,0),m=[...V0(new Ze(o),new Ze(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),r>n?Ld(m):m}var bk=Y0(yk),_k=Y0(xk),eb=e=>e.rootProps.maxBarSize,wk=e=>e.rootProps.barGap,tb=e=>e.rootProps.barCategoryGap,jk=e=>e.rootProps.barSize,Tl=e=>e.rootProps.stackOffset,yh=e=>e.options.chartName,xh=e=>e.rootProps.syncId,rb=e=>e.rootProps.syncMethod,bh=e=>e.options.eventEmitter,hn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ar={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},El=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Nk={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hn.angleAxisId,includeHidden:!1,name:void 0,reversed:hn.reversed,scale:hn.scale,tick:hn.tick,tickCount:void 0,ticks:void 0,type:hn.type,unit:void 0},Pk={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:ar.type,unit:void 0},Ak={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:hn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:hn.scale,tick:hn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sk={allowDataOverflow:ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,ticks:void 0,type:"category",unit:void 0},_h=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Ak:Nk,wh=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Sk:Pk,Ml=e=>e.polarOptions,jh=U([jn,Nn,At],a2),nb=U([Ml,jh],(e,t)=>{if(e!=null)return $r(e.innerRadius,t,0)}),ib=U([Ml,jh],(e,t)=>{if(e!=null)return $r(e.outerRadius,t,t*.8)}),Ck=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},ab=U([Ml],Ck);U([_h,ab],El);var sb=U([jh,nb,ib],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});U([wh,sb],El);var Ok=U([Ue,Ml,nb,ib,jn,Nn],(e,t,r,n,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:$r(c,s,s/2),cy:$r(u,o,o/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),Ct=(e,t)=>t,Dl=(e,t,r)=>r;function hv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hv(Object(r),!0).forEach(function(n){kk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kk(e,t,r){return(t=Tk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tk(e){var t=Ek(e,"string");return typeof t=="symbol"?t:t+""}function Ek(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Id=[0,"auto"],nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Sn=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r==null?nr:r},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Id,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bl},Qn=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r==null?ir:r},Mk={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Nh=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r==null?Mk:r},Qt=(e,t,r)=>{switch(t){case"xAxis":return Sn(e,r);case"yAxis":return Qn(e,r);case"zAxis":return Nh(e,r);case"angleAxis":return _h(e,r);case"radiusAxis":return wh(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Dk=(e,t,r)=>{switch(t){case"xAxis":return Sn(e,r);case"yAxis":return Qn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ks=(e,t,r)=>{switch(t){case"xAxis":return Sn(e,r);case"yAxis":return Qn(e,r);case"angleAxis":return _h(e,r);case"radiusAxis":return wh(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ob=e=>e.graphicalItems.countOfBars>0;function lb(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ll=e=>e.graphicalItems.cartesianItems,Lk=U([Ct,Dl],lb),cb=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ts=U([Ll,Qt,Lk],cb),ub=e=>e.filter(t=>t.stackId===void 0),Ik=U([Ts],ub),db=e=>e.map(t=>t.data).filter(Boolean).flat(1),Rk=U([Ts],db),fb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Il=U([Rk,ph],fb),hb=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$t(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:$t(s,n)}))):e.map(n=>({value:n})),Rl=U([Il,Qt,Ts],hb);function mb(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function zi(e){return e.filter(t=>Gr(t)||t instanceof Date).map(Number).filter(t=>dr(t)===!1)}function zk(e,t,r){return!r||typeof t!="number"||dr(t)?[]:r.length?zi(r.flatMap(n=>{var s=$t(e,n.dataKey),o,c;if(Array.isArray(s)?[o,c]=s:o=c=s,!(!Dt(o)||!Dt(c)))return[t-o,t+c]})):[]}var pb=(e,t,r)=>{var n={},s=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),n);return Object.fromEntries(Object.entries(s).map(o=>{var[c,u]=o,f=u.map(m=>m.dataKey);return[c,{stackedData:_2(e,f,r),graphicalItems:u}]}))},ys=U([Il,Ts,Tl],pb),gb=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var o=P2(e,n,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},$k=U([ys,Ri,Ct],gb),vb=(e,t,r,n)=>r.length>0?e.flatMap(s=>r.flatMap(o=>{var c,u,f=(c=o.errorBars)===null||c===void 0?void 0:c.filter(h=>mb(n,h)),m=$t(s,(u=t.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:m,errorDomain:zk(s,m,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:$t(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Bk=U(Il,Qt,Ik,Ct,vb);function Fk(e){var{value:t}=e;if(Gr(t)||t instanceof Date)return t}var qk=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=zi(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Wk=(e,t,r)=>{var n=e.map(Fk).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&zy(n))?t0(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Ph=e=>{var t;if(e==null||!("domain"in e))return Id;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=zi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Id},Ah=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var o=s.flat(),c=Math.min(...o),u=Math.max(...o);return[c,u]}},yb=e=>e.referenceElements.dots,ja=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Uk=U([yb,Ct,Dl],ja),xb=e=>e.referenceElements.areas,Zk=U([xb,Ct,Dl],ja),bb=e=>e.referenceElements.lines,Kk=U([bb,Ct,Dl],ja),_b=(e,t)=>{var r=zi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hk=U(Uk,Ct,_b),wb=(e,t)=>{var r=zi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Yk=U([Zk,Ct],wb),jb=(e,t)=>{var r=zi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Gk=U(Kk,Ct,jb),Vk=U(Hk,Gk,Yk,(e,t,r)=>Ah(e,r,t)),Xk=U([Qt],Ph),Nb=(e,t,r,n,s)=>{var o=ck(t,e.allowDataOverflow);return o!=null?o:uk(t,Ah(r,s,qk(n)),e.allowDataOverflow)},Jk=U([Qt,Xk,$k,Bk,Vk],Nb),Qk=[0,1],Pb=(e,t,r,n,s,o,c)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:u,type:f}=e,m=wn(t,o);return m&&u==null?t0(0,r.length):f==="category"?Wk(n,e,m):s==="expand"?Qk:c}},Sh=U([Qt,Ue,Il,Rl,Tl,Ct,Jk],Pb),Ab=(e,t,r,n,s)=>{if(e!=null){var{scale:o,type:c}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Ps(o));return u in ss?u:"point"}}},Es=U([Qt,Ue,ob,yh,Ct],Ab);function eT(e){if(e!=null){if(e in ss)return ss[e]();var t="scale".concat(Ps(e));if(t in ss)return ss[t]()}}function Ch(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=eT(t);if(s!=null){var o=s.domain(r).range(n);return g2(o),o}}}var Sb=(e,t,r)=>{var n=Ph(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ya(e))return bk(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ya(e))return _k(e,t.tickCount,t.allowDecimals)}},Oh=U([Sh,ks,Es],Sb),Cb=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ya(t)&&Array.isArray(r)&&r.length>0){var s=t[0],o=r[0],c=t[1],u=r[r.length-1];return[Math.min(s,o),Math.max(c,u)]}return t},tT=U([Qt,Sh,Oh,Ct],Cb),rT=U(Rl,Qt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(zi(e.map(u=>u.value))).sort((u,f)=>u-f);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o+1]-n[o];r=Math.min(r,c)}return r/s}}),Ob=U(rT,Ue,tb,At,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!Dt(e))return 0;var o=t==="vertical"?n.height:n.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var c=$r(r,e*o),u=e*o/2;return u-c-(u-c)/o*c}return 0}),nT=(e,t)=>{var r=Sn(e,t);return r==null||typeof r.padding!="string"?0:Ob(e,"xAxis",t,r.padding)},iT=(e,t)=>{var r=Qn(e,t);return r==null||typeof r.padding!="string"?0:Ob(e,"yAxis",t,r.padding)},aT=U(Sn,nT,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),sT=U(Qn,iT,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),oT=U([At,aT,wl,_l,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:o}=n;return s?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),lT=U([At,Ue,sT,wl,_l,(e,t,r)=>r],(e,t,r,n,s,o)=>{var{padding:c}=s;return o?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ms=(e,t,r,n)=>{var s;switch(t){case"xAxis":return oT(e,r,n);case"yAxis":return lT(e,r,n);case"zAxis":return(s=Nh(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return ab(e);case"radiusAxis":return sb(e,r);default:return}},kb=U([Qt,Ms],El),Na=U([Qt,Es,tT,kb],Ch);U(Ts,Ct,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>mb(t,r)));function Tb(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zl=(e,t)=>t,$l=(e,t,r)=>r,cT=U(Df,zl,$l,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Tb)),uT=U(Lf,zl,$l,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Tb)),Eb=(e,t)=>({width:e.width,height:t.height}),dT=(e,t)=>{var r=typeof t.width=="number"?t.width:bl;return{width:r,height:e.height}},Mb=U(At,Sn,Eb),fT=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},hT=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},mT=U(Nn,At,cT,zl,$l,(e,t,r,n,s)=>{var o={},c;return r.forEach(u=>{var f=Eb(t,u);c==null&&(c=fT(t,n,e));var m=n==="top"&&!s||n==="bottom"&&s;o[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),o}),pT=U(jn,At,uT,zl,$l,(e,t,r,n,s)=>{var o={},c;return r.forEach(u=>{var f=dT(t,u);c==null&&(c=hT(t,n,e));var m=n==="left"&&!s||n==="right"&&s;o[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),o}),gT=(e,t)=>{var r=At(e),n=Sn(e,t);if(n!=null){var s=mT(e,n.orientation,n.mirror),o=s[t];return o==null?{x:r.left,y:0}:{x:r.left,y:o}}},vT=(e,t)=>{var r=At(e),n=Qn(e,t);if(n!=null){var s=pT(e,n.orientation,n.mirror),o=s[t];return o==null?{x:0,y:r.top}:{x:o,y:r.top}}},Db=U(At,Qn,(e,t)=>{var r=typeof t.width=="number"?t.width:bl;return{width:r,height:e.height}}),mv=(e,t,r)=>{switch(t){case"xAxis":return Mb(e,r).width;case"yAxis":return Db(e,r).height;default:return}},Lb=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:o,dataKey:c}=r,u=wn(e,n),f=t.map(m=>m.value);if(c&&u&&o==="category"&&s&&zy(f))return f}},kh=U([Ue,Rl,Qt,Ct],Lb),Ib=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:o}=r,c=wn(e,n);if(c&&(s==="number"||o!=="auto"))return t.map(u=>u.value)}},Th=U([Ue,Rl,ks,Ct],Ib);U([Ue,Dk,Es,Na,kh,Th,Ms,Oh,Ct],(e,t,r,n,s,o,c,u,f)=>{if(t==null)return null;var m=wn(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:u,range:c,realScaleType:r,scale:n}});var yT=(e,t,r,n,s,o,c,u,f)=>{if(!(t==null||n==null)){var m=wn(e,f),{type:h,ticks:p,tickCount:v}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=h==="category"&&n.bandwidth?n.bandwidth()/x:0;j=f==="angleAxis"&&o!=null&&o.length>=2?lr(o[0]-o[1])*2*j:j;var b=p||s;if(b){var w=b.map((A,S)=>{var C=c?c.indexOf(A):A;return{index:S,coordinate:n(C)+j,value:A,offset:j}});return w.filter(A=>!dr(A.coordinate))}return m&&u?u.map((A,S)=>({coordinate:n(A)+j,value:A,index:S,offset:j})):n.ticks?n.ticks(v).map(A=>({coordinate:n(A)+j,value:A,offset:j})):n.domain().map((A,S)=>({coordinate:n(A)+j,value:c?c[A]:A,index:S,offset:j}))}},Rb=U([Ue,ks,Es,Na,Oh,Ms,kh,Th,Ct],yT),xT=(e,t,r,n,s,o,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=wn(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(n==null?void 0:n.length)>=2?lr(n[0]-n[1])*2*m:m,u&&o?o.map((h,p)=>({coordinate:r(h)+m,value:h,index:p,offset:m})):r.ticks?r.ticks(f).map(h=>({coordinate:r(h)+m,value:h,offset:m})):r.domain().map((h,p)=>({coordinate:r(h)+m,value:s?s[h]:h,index:p,offset:m}))}},Gn=U([Ue,ks,Na,Ms,kh,Th,Ct],xT),Xr=U(Qt,Na,(e,t)=>{if(!(e==null||t==null))return Xo(Xo({},e),{},{scale:t})}),bT=U([Qt,Es,Sh,kb],Ch);U((e,t,r)=>Nh(e,r),bT,(e,t)=>{if(!(e==null||t==null))return Xo(Xo({},e),{},{scale:t})});var _T=U([Ue,Df,Lf],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zb=e=>e.options.defaultTooltipEventType,$b=e=>e.options.validateTooltipEventTypes;function Bb(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Eh(e,t){var r=zb(e),n=$b(e);return Bb(t,r,n)}function wT(e){return fe(t=>Eh(t,e))}var Fb=(e,t)=>{var r,n=Number(t);if(!(dr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},jT=e=>e.tooltip.settings,Wn={active:!1,index:null,dataKey:void 0,coordinate:void 0},NT={itemInteraction:{click:Wn,hover:Wn},axisInteraction:{click:Wn,hover:Wn},keyboardInteraction:Wn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qb=kr({name:"tooltip",initialState:NT,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=yn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:PT,removeTooltipEntrySettings:AT,setTooltipSettingsState:ST,setActiveMouseOverItemIndex:Wb,mouseLeaveItem:CT,mouseLeaveChart:Ub,setActiveClickItemIndex:OT,setMouseOverAxisIndex:Zb,setMouseClickAxisIndex:kT,setSyncInteraction:Rd,setKeyboardInteraction:zd}=qb.actions,TT=qb.reducer;function pv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pv(Object(r),!0).forEach(function(n){ET(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ET(e,t,r){return(t=MT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MT(e){var t=DT(e,"string");return typeof t=="symbol"?t:t+""}function DT(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LT(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function IT(e){return e.index!=null}var Kb=(e,t,r,n)=>{if(t==null)return Wn;var s=LT(e,t,r);if(s==null)return Wn;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(IT(s)){if(o)return yo(yo({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return yo(yo({},Wn),{},{coordinate:s.coordinate})},Mh=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Dt(n))return r;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(n,o)))},Hb=(e,t,r,n,s,o,c,u)=>{if(!(o==null||u==null)){var f=c[0],m=f==null?void 0:u(f.positions,o);if(m!=null)return m;var h=s==null?void 0:s[Number(o)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},Yb=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.dataKey)===s})},Ds=e=>e.options.tooltipPayloadSearcher,Pa=e=>e.tooltip;function gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gv(Object(r),!0).forEach(function(n){RT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RT(e,t,r){return(t=zT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zT(e){var t=$T(e,"string");return typeof t=="symbol"?t:t+""}function $T(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function FT(e,t){return e!=null?e:t}var Gb=(e,t,r,n,s,o,c)=>{if(!(t==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=r,p=[];return e.reduce((v,x)=>{var j,{dataDefinedOnItem:b,settings:w}=x,A=FT(b,u),S=BT(A,m,h),C=(j=w==null?void 0:w.dataKey)!==null&&j!==void 0?j:n==null?void 0:n.dataKey,T=w==null?void 0:w.nameKey,k;if(n!=null&&n.dataKey&&Array.isArray(S)&&!Array.isArray(S[0])&&c==="axis"?k=$y(S,n.dataKey,s):k=o(S,t,f,T),Array.isArray(k))k.forEach(I=>{var F=vv(vv({},w),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(eg({tooltipEntrySettings:F,dataKey:I.dataKey,payload:I.payload,value:$t(I.payload,I.dataKey),name:I.name}))});else{var O;v.push(eg({tooltipEntrySettings:w,dataKey:C,payload:k,value:$t(k,C),name:(O=$t(k,T))!==null&&O!==void 0?O:w==null?void 0:w.name}))}return v},p)}},Ot=e=>{var t=Ue(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Aa=e=>e.tooltip.settings.axisId,Lt=e=>{var t=Ot(e),r=Aa(e);return ks(e,t,r)},Dh=U([Lt,Ue,ob,yh,Ot],Ab),qT=U([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),WT=U([Ot,Aa],lb),Bl=U([qT,Lt,WT],cb),UT=U([Bl],db),$i=U([UT,Ri],fb),Lh=U([$i,Lt,Bl],hb),ZT=U([Lt],Ph),KT=U([$i,Bl,Tl],pb),HT=U([KT,Ri,Ot],gb),YT=U([Bl],ub),GT=U([$i,Lt,YT,Ot],vb),VT=U([yb,Ot,Aa],ja),XT=U([VT,Ot],_b),JT=U([xb,Ot,Aa],ja),QT=U([JT,Ot],wb),eE=U([bb,Ot,Aa],ja),tE=U([eE,Ot],jb),rE=U([XT,tE,QT],Ah),nE=U([Lt,ZT,HT,GT,rE],Nb),Vb=U([Lt,Ue,$i,Lh,Tl,Ot,nE],Pb),iE=U([Vb,Lt,Dh],Sb),aE=U([Lt,Vb,iE,Ot],Cb),Xb=e=>{var t=Ot(e),r=Aa(e),n=!1;return Ms(e,t,r,n)},Jb=U([Lt,Xb],El),Qb=U([Lt,Dh,aE,Jb],Ch),sE=U([Ue,Lh,Lt,Ot],Lb),oE=U([Ue,Lh,Lt,Ot],Ib),lE=(e,t,r,n,s,o,c,u)=>{if(t){var{type:f}=t,m=wn(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=f==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=u==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?lr(s[0]-s[1])*2*p:p,m&&c?c.map((v,x)=>({coordinate:n(v)+p,value:v,index:x,offset:p})):n.domain().map((v,x)=>({coordinate:n(v)+p,value:o?o[v]:v,index:x,offset:p}))}}},Cn=U([Ue,Lt,Dh,Qb,Xb,sE,oE,Ot],lE),Ih=U([zb,$b,jT],(e,t,r)=>Bb(r.shared,e,t)),e_=e=>e.tooltip.settings.trigger,Rh=e=>e.tooltip.settings.defaultIndex,Fl=U([Pa,Ih,e_,Rh],Kb),Ei=U([Fl,$i],Mh),t_=U([Cn,Ei],Fb),r_=U([Fl],e=>{if(e)return e.dataKey}),n_=U([Pa,Ih,e_,Rh],Yb),cE=U([jn,Nn,Ue,At,Cn,Rh,n_,Ds],Hb),uE=U([Fl,cE],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),dE=U([Fl],e=>e.active),fE=U([n_,Ei,Ri,Lt,t_,Ds,Ih],Gb),hE=U([fE],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function yv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yv(Object(r),!0).forEach(function(n){mE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mE(e,t,r){return(t=pE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pE(e){var t=gE(e,"string");return typeof t=="symbol"?t:t+""}function gE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vE=()=>fe(Lt),yE=()=>{var e=vE(),t=fe(Cn),r=fe(Qb);return ds(xv(xv({},e),{},{scale:r}),t)},i_=()=>fe(yh),zh=(e,t)=>t,a_=(e,t,r)=>r,$h=(e,t,r,n)=>n,xE=U(Cn,e=>fl(e,t=>t.coordinate)),Bh=U([Pa,zh,a_,$h],Kb),s_=U([Bh,$i],Mh),bE=(e,t,r)=>{if(t!=null){var n=Pa(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},o_=U([Pa,zh,a_,$h],Yb),Jo=U([jn,Nn,Ue,At,Cn,$h,o_,Ds],Hb),_E=U([Bh,Jo],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),l_=U(Cn,s_,Fb),wE=U([o_,s_,Ri,Lt,l_,Ds,zh],Gb),jE=U([Bh],e=>({isActive:e.active,activeIndex:e.index})),NE=(e,t,r,n,s,o,c,u)=>{if(!(!e||!t||!n||!s||!o)){var f=A2(e.chartX,e.chartY,t,r,u);if(f){var m=C2(f,t),h=m2(m,c,o,n,s),p=S2(t,o,h,f);return{activeIndex:String(h),activeCoordinate:p}}}};function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$d.apply(null,arguments)}function bv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bv(Object(r),!0).forEach(function(n){PE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PE(e,t,r){return(t=AE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AE(e){var t=SE(e,"string");return typeof t=="symbol"?t:t+""}function SE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CE(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:m}=e,h=t,p=r,v=n;if(!u||!h||m!=="ScatterChart"&&f!=="axis")return null;var x,j;if(m==="ScatterChart")x=h,j=kA;else if(m==="BarChart")x=TA(c,h,s,o),j=Xx;else if(c==="radial"){var{cx:b,cy:w,radius:A,startAngle:S,endAngle:C}=Jx(h);x={cx:b,cy:w,startAngle:S,endAngle:C,innerRadius:A,outerRadius:A},j=e0}else x={points:vS(c,h,s)},j=wo;var T=typeof u=="object"&&"className"in u?u.className:void 0,k=xo(xo(xo(xo({stroke:"#ccc",pointerEvents:"none"},s),x),Be(u,!1)),{},{payload:p,payloadIndex:v,className:Ke("recharts-tooltip-cursor",T)});return _.isValidElement(u)?_.cloneElement(u,k):_.createElement(j,k)}function OE(e){var t=yE(),r=$2(),n=jl(),s=i_();return _.createElement(CE,$d({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var c_=_.createContext(null),kE=()=>_.useContext(c_),Mu={exports:{}},_v;function TE(){return _v||(_v=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function o(f,m,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new s(h,p||f,v),j=r?r+m:m;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],x]:f._events[j].push(x):(f._events[j]=x,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,p;if(this._eventsCount===0)return m;for(p in h=this._events)t.call(h,p)&&m.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,x=p.length,j=new Array(x);v<x;v++)j[v]=p[v].fn;return j},u.prototype.listenerCount=function(m){var h=r?r+m:m,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(m,h,p,v,x,j){var b=r?r+m:m;if(!this._events[b])return!1;var w=this._events[b],A=arguments.length,S,C;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,v),!0;case 5:return w.fn.call(w.context,h,p,v,x),!0;case 6:return w.fn.call(w.context,h,p,v,x,j),!0}for(C=1,S=new Array(A-1);C<A;C++)S[C-1]=arguments[C];w.fn.apply(w.context,S)}else{var T=w.length,k;for(C=0;C<T;C++)switch(w[C].once&&this.removeListener(m,w[C].fn,void 0,!0),A){case 1:w[C].fn.call(w[C].context);break;case 2:w[C].fn.call(w[C].context,h);break;case 3:w[C].fn.call(w[C].context,h,p);break;case 4:w[C].fn.call(w[C].context,h,p,v);break;default:if(!S)for(k=1,S=new Array(A-1);k<A;k++)S[k-1]=arguments[k];w[C].fn.apply(w[C].context,S)}}return!0},u.prototype.on=function(m,h,p){return o(this,m,h,p,!1)},u.prototype.once=function(m,h,p){return o(this,m,h,p,!0)},u.prototype.removeListener=function(m,h,p,v){var x=r?r+m:m;if(!this._events[x])return this;if(!h)return c(this,x),this;var j=this._events[x];if(j.fn)j.fn===h&&(!v||j.once)&&(!p||j.context===p)&&c(this,x);else{for(var b=0,w=[],A=j.length;b<A;b++)(j[b].fn!==h||v&&!j[b].once||p&&j[b].context!==p)&&w.push(j[b]);w.length?this._events[x]=w.length===1?w[0]:w:c(this,x)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u}(Mu)),Mu.exports}var EE=TE();const ME=Jr(EE);var xs=new ME,Bd="recharts.syncEvent.tooltip",wv="recharts.syncEvent.brush";function u_(e,t){if(t){var r=Number.parseInt(t,10);if(!dr(r))return e==null?void 0:e[r]}}var DE={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},d_=kr({name:"options",initialState:DE,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),LE=d_.reducer,{createEventEmitter:IE}=d_.actions;function RE(e){return e.tooltip.syncInteraction}var zE={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},f_=kr({name:"chartData",initialState:zE,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:jv,setDataStartEndIndexes:$E,setComputedData:z3}=f_.actions,BE=f_.reducer,h_=()=>{};function FE(){var e=fe(xh),t=fe(bh),r=dt(),n=fe(rb),s=fe(Cn),o=jl(),c=If(),u=fe(f=>f.rootProps.className);_.useEffect(()=>{if(e==null)return h_;var f=(m,h,p)=>{if(t!==p&&e===m){if(n==="index"){r(h);return}if(s!=null){var v;if(typeof n=="function"){var x={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},j=n(s,x);v=s[j]}else n==="value"&&(v=s.find(O=>String(O.value)===h.payload.label));var{coordinate:b}=h.payload;if(v==null||h.payload.active===!1||b==null||c==null){r(Rd({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:A}=b,S=Math.min(w,c.x+c.width),C=Math.min(A,c.y+c.height),T={x:o==="horizontal"?v.coordinate:S,y:o==="horizontal"?C:v.coordinate},k=Rd({active:h.payload.active,coordinate:T,dataKey:h.payload.dataKey,index:String(v.index),label:h.payload.label});r(k)}}};return xs.on(Bd,f),()=>{xs.off(Bd,f)}},[u,r,t,e,n,s,o,c])}function qE(){var e=fe(xh),t=fe(bh),r=dt();_.useEffect(()=>{if(e==null)return h_;var n=(s,o,c)=>{t!==c&&e===s&&r($E(o))};return xs.on(wv,n),()=>{xs.off(wv,n)}},[r,t,e])}function WE(){var e=dt();_.useEffect(()=>{e(IE())},[e]),FE(),qE()}function UE(e,t,r,n,s,o){var c=fe(v=>bE(v,e,t)),u=fe(bh),f=fe(xh),m=fe(rb),h=fe(RE),p=h==null?void 0:h.active;_.useEffect(()=>{if(!p&&f!=null&&u!=null){var v=Rd({active:o,coordinate:r,dataKey:c,index:s,label:typeof n=="number"?String(n):n});xs.emit(Bd,f,v,u)}},[p,r,c,s,n,u,f,m,o])}function Nv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nv(Object(r),!0).forEach(function(n){ZE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZE(e,t,r){return(t=KE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KE(e){var t=HE(e,"string");return typeof t=="symbol"?t:t+""}function HE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YE(e){return e.dataKey}function GE(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(lA,t)}var Av=[],VE={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Fd(e){var t=Vn(e,VE),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:f,offset:m,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:x,wrapperStyle:j,cursor:b,shared:w,trigger:A,defaultIndex:S,portal:C,axisId:T}=t,k=dt(),O=typeof S=="number"?String(S):S;_.useEffect(()=>{k(ST({shared:w,trigger:A,axisId:T,active:r,defaultIndex:O}))},[k,w,A,T,r,O]);var I=If(),F=Hx(),K=wT(w),{activeIndex:Y,isActive:Q}=fe(ae=>jE(ae,K,A,O)),X=fe(ae=>wE(ae,K,A,O)),te=fe(ae=>l_(ae,K,A,O)),de=fe(ae=>_E(ae,K,A,O)),be=X,pe=kE(),Te=r!=null?r:Q,[q,ce]=vx([be,Te]),G=K==="axis"?te:void 0;UE(K,A,de,G,Y,Te);var he=C!=null?C:pe;if(he==null)return null;var D=be!=null?be:Av;Te||(D=Av),u&&D.length&&(D=fx(be.filter(ae=>ae.value!=null&&(ae.hide!==!0||t.includeHidden)),h,YE));var V=D.length>0,se=_.createElement(pA,{allowEscapeViewBox:n,animationDuration:s,animationEasing:o,isAnimationActive:f,active:Te,coordinate:de,hasPayload:V,offset:m,position:p,reverseDirection:v,useTranslate3d:x,viewBox:I,wrapperStyle:j,lastBoundingBox:q,innerRef:ce,hasPortalFromProps:!!C},GE(c,Pv(Pv({},t),{},{payload:D,label:G,active:Te,coordinate:de,accessibilityLayer:F})));return _.createElement(_.Fragment,null,My.createPortal(se,he),Te&&_.createElement(OE,{cursor:b,tooltipEventType:K,coordinate:de,payload:be,index:Y}))}var Du={},Lu={},Iu={},Sv;function XE(){return Sv||(Sv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:o}={}){let c,u=null;const f=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),h=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},p=()=>{m&&h(),b()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},j=()=>{v!==null&&(clearTimeout(v),v=null)},b=()=>{j(),c=void 0,u=null},w=()=>{h()},A=function(...S){if(s!=null&&s.aborted)return;c=this,u=S;const C=v==null;x(),f&&C&&h()};return A.schedule=x,A.cancel=b,A.flush=w,s==null||s.addEventListener("abort",b,{once:!0}),A}e.debounce=t}(Iu)),Iu}var Cv;function JE(){return Cv||(Cv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XE();function r(n,s=0,o={}){typeof o!="object"&&(o={});const{leading:c=!1,trailing:u=!0,maxWait:f}=o,m=Array(2);c&&(m[0]="leading"),u&&(m[1]="trailing");let h,p=null;const v=t.debounce(function(...b){h=n.apply(this,b),p=null},s,{edges:m}),x=function(...b){return f!=null&&(p===null&&(p=Date.now()),Date.now()-p>=f)?(h=n.apply(this,b),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,b),h)},j=()=>(v.flush(),h);return x.cancel=v.cancel,x.flush=j,x}e.debounce=r}(Lu)),Lu}var Ov;function QE(){return Ov||(Ov=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JE();function r(n,s=0,o={}){const{leading:c=!0,trailing:u=!0}=o;return t.debounce(n,s,{leading:c,maxWait:s,trailing:u})}e.throttle=r}(Du)),Du}var Ru,kv;function eM(){return kv||(kv=1,Ru=QE().throttle),Ru}var tM=eM();const rM=Jr(tM);var zu=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]};function Tv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tv(Object(r),!0).forEach(function(n){nM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nM(e,t,r){return(t=iM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iM(e){var t=aM(e,"string");return typeof t=="symbol"?t:t+""}function aM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qd=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:o="100%",minWidth:c=0,minHeight:u,maxHeight:f,children:m,debounce:h=0,id:p,className:v,onResize:x,style:j={}}=e,b=_.useRef(null),w=_.useRef();w.current=x,_.useImperativeHandle(t,()=>b.current);var[A,S]=_.useState({containerWidth:n.width,containerHeight:n.height}),C=_.useCallback((k,O)=>{S(I=>{var F=Math.round(k),K=Math.round(O);return I.containerWidth===F&&I.containerHeight===K?I:{containerWidth:F,containerHeight:K}})},[]);_.useEffect(()=>{var k=K=>{var Y,{width:Q,height:X}=K[0].contentRect;C(Q,X),(Y=w.current)===null||Y===void 0||Y.call(w,Q,X)};h>0&&(k=rM(k,h,{trailing:!0,leading:!1}));var O=new ResizeObserver(k),{width:I,height:F}=b.current.getBoundingClientRect();return C(I,F),O.observe(b.current),()=>{O.disconnect()}},[C,h]);var T=_.useMemo(()=>{var{containerWidth:k,containerHeight:O}=A;if(k<0||O<0)return null;zu(vi(s)||vi(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,o),zu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=vi(s)?k:s,F=vi(o)?O:o;return r&&r>0&&(I?F=I/r:F&&(I=F*r),f&&F>f&&(F=f)),zu(I>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,F,s,o,c,u,r),_.Children.map(m,K=>_.cloneElement(K,{width:I,height:F,style:$u({width:I,height:F},K.props.style)}))},[r,m,o,f,u,c,A,s]);return _.createElement("div",{id:p?"".concat(p):void 0,className:Ke("recharts-responsive-container",v),style:$u($u({},j),{},{width:s,height:o,minWidth:c,minHeight:u,maxHeight:f}),ref:b},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),gi=e=>null;gi.displayName="Cell";function Ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ev(Object(r),!0).forEach(function(n){sM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ev(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sM(e,t,r){return(t=oM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oM(e){var t=lM(e,"string");return typeof t=="symbol"?t:t+""}function lM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ia={widthCache:{},cacheCount:0},cM=2e3,uM={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mv="recharts_measurement_span";function dM(e){var t=Wd({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var os=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xa.isSsr)return{width:0,height:0};var n=dM(r),s=JSON.stringify({text:t,copyStyle:n});if(ia.widthCache[s])return ia.widthCache[s];try{var o=document.getElementById(Mv);o||(o=document.createElement("span"),o.setAttribute("id",Mv),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=Wd(Wd({},uM),n);Object.assign(o.style,c),o.textContent="".concat(t);var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return ia.widthCache[s]=f,++ia.cacheCount>cM&&(ia.cacheCount=0,ia.widthCache={}),f}catch{return{width:0,height:0}}},Dv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lv=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fM=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hM=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mM=Object.keys(m_),aa="NaN";function pM(e,t){return e*m_[t]}class Xt{static parse(t){var r,[,n,s]=(r=hM.exec(t))!==null&&r!==void 0?r:[];return new Xt(parseFloat(n),s!=null?s:"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,dr(t)&&(this.unit=""),r!==""&&!fM.test(r)&&(this.num=NaN,this.unit=""),mM.includes(r)&&(this.num=pM(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Xt(NaN,""):new Xt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dr(this.num)}}function p_(e){if(e.includes(aa))return aa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,o]=(r=Dv.exec(t))!==null&&r!==void 0?r:[],c=Xt.parse(n!=null?n:""),u=Xt.parse(o!=null?o:""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return aa;t=t.replace(Dv,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,p,v]=(m=Lv.exec(t))!==null&&m!==void 0?m:[],x=Xt.parse(h!=null?h:""),j=Xt.parse(v!=null?v:""),b=p==="+"?x.add(j):x.subtract(j);if(b.isNaN())return aa;t=t.replace(Lv,b.toString())}return t}var Iv=/\(([^()]*)\)/;function gM(e){for(var t=e,r;(r=Iv.exec(t))!=null;){var[,n]=r;t=t.replace(Iv,p_(n))}return t}function vM(e){var t=e.replace(/\s+/g,"");return t=gM(t),t=p_(t),t}function yM(e){try{return vM(e)}catch{return aa}}function Bu(e){var t=yM(e.slice(5,-1));return t===aa?"":t}var xM=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bM=["dx","dy","angle","className","breakAll"];function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(null,arguments)}function Rv(e,t){if(e==null)return{};var r,n,s=_M(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _M(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var g_=/[ \f\n\r\t\v\u2028\u2029]+/,v_=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Ve(t)||(r?s=t.toString().split(""):s=t.toString().split(g_));var o=s.map(u=>({word:u,width:os(u,n).width})),c=r?0:os(" ",n).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},wM=(e,t,r,n,s)=>{var{maxLines:o,children:c,style:u,breakAll:f}=e,m=ue(o),h=c,p=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce((X,te)=>{var{word:de,width:be}=te,pe=X[X.length-1];if(pe&&(n==null||s||pe.width+be+r<Number(n)))pe.words.push(de),pe.width+=be+r;else{var Te={words:[de],width:be};X.push(Te)}return X},[])},v=p(t),x=Y=>Y.reduce((Q,X)=>Q.width>X.width?Q:X);if(!m||s)return v;var j=v.length>o||x(v).width>Number(n);if(!j)return v;for(var b="…",w=Y=>{var Q=h.slice(0,Y),X=v_({breakAll:f,style:u,children:Q+b}).wordsWithComputedWidth,te=p(X),de=te.length>o||x(te).width>Number(n);return[de,te]},A=0,S=h.length-1,C=0,T;A<=S&&C<=h.length-1;){var k=Math.floor((A+S)/2),O=k-1,[I,F]=w(O),[K]=w(k);if(!I&&!K&&(A=k+1),I&&K&&(S=k-1),!I&&K){T=F;break}C++}return T||v},zv=e=>{var t=Ve(e)?[]:e.toString().split(g_);return[{words:t}]},jM=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:o,maxLines:c}=e;if((t||r)&&!xa.isSsr){var u,f,m=v_({breakAll:o,children:n,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:p}=m;u=h,f=p}else return zv(n);return wM({breakAll:o,children:n,maxLines:c,style:s},u,f,t,r)}return zv(n)},$v="#808080",Fh=_.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:o="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:f="end",fill:m=$v}=e,h=Rv(e,xM),p=_.useMemo(()=>jM({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:v,dy:x,angle:j,className:b,breakAll:w}=h,A=Rv(h,bM);if(!Gr(r)||!Gr(n))return null;var S=r+(ue(v)?v:0),C=n+(ue(x)?x:0),T;switch(f){case"start":T=Bu("calc(".concat(o,")"));break;case"middle":T=Bu("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:T=Bu("calc(".concat(p.length-1," * -").concat(s,")"));break}var k=[];if(c){var O=p[0].width,{width:I}=h;k.push("scale(".concat(ue(I)?I/O:1,")"))}return j&&k.push("rotate(".concat(j,", ").concat(S,", ").concat(C,")")),k.length&&(A.transform=k.join(" ")),_.createElement("text",Ud({},Be(A,!0),{ref:t,x:S,y:C,className:Ke("recharts-text",b),textAnchor:u,fill:m.includes("url")?$v:m}),p.map((F,K)=>{var Y=F.words.join(w?"":" ");return _.createElement("tspan",{x:S,dy:K===0?T:s,key:"".concat(Y,"-").concat(K)},Y)}))});Fh.displayName="Text";var NM=["offset"],PM=["labelRef"];function Bv(e,t){if(e==null)return{};var r,n,s=AM(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(r),!0).forEach(function(n){SM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SM(e,t,r){return(t=CM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CM(e){var t=OM(e,"string");return typeof t=="symbol"?t:t+""}function OM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mn.apply(null,arguments)}var kM=e=>{var{value:t,formatter:r}=e,n=Ve(e.children)?t:e.children;return typeof r=="function"?r(n):n},qh=e=>e!=null&&typeof e=="function",TM=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},EM=(e,t,r)=>{var{position:n,viewBox:s,offset:o,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:p,endAngle:v,clockWise:x}=s,j=(m+h)/2,b=TM(p,v),w=b>=0?1:-1,A,S;n==="insideStart"?(A=p+w*o,S=x):n==="insideEnd"?(A=v-w*o,S=!x):n==="end"&&(A=v+w*o,S=x),S=b<=0?S:!S;var C=Mt(u,f,j,A),T=Mt(u,f,j,A+(S?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),O=Ve(e.id)?da("recharts-radial-line-"):e.id;return _.createElement("text",mn({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",c)}),_.createElement("defs",null,_.createElement("path",{id:O,d:k})),_.createElement("textPath",{xlinkHref:"#".concat(O)},t))},MM=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:s,cy:o,innerRadius:c,outerRadius:u,startAngle:f,endAngle:m}=t,h=(f+m)/2;if(n==="outside"){var{x:p,y:v}=Mt(s,o,u+r,h);return{x:p,y:v,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,{x:j,y:b}=Mt(s,o,x,h);return{x:j,y:b,textAnchor:"middle",verticalAnchor:"middle"}},DM=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:o,y:c,width:u,height:f}=t,m=f>=0?1:-1,h=m*n,p=m>0?"end":"start",v=m>0?"start":"end",x=u>=0?1:-1,j=x*n,b=x>0?"end":"start",w=x>0?"start":"end";if(s==="top"){var A={x:o+u/2,y:c-m*n,textAnchor:"middle",verticalAnchor:p};return ht(ht({},A),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var S={x:o+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:v};return ht(ht({},S),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(s==="left"){var C={x:o-j,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return ht(ht({},C),r?{width:Math.max(C.x-r.x,0),height:f}:{})}if(s==="right"){var T={x:o+u+j,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return ht(ht({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:f}:{})}var k=r?{width:u,height:f}:{};return s==="insideLeft"?ht({x:o+j,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},k):s==="insideRight"?ht({x:o+u-j,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideTop"?ht({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},k):s==="insideBottom"?ht({x:o+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},k):s==="insideTopLeft"?ht({x:o+j,y:c+h,textAnchor:w,verticalAnchor:v},k):s==="insideTopRight"?ht({x:o+u-j,y:c+h,textAnchor:b,verticalAnchor:v},k):s==="insideBottomLeft"?ht({x:o+j,y:c+f-h,textAnchor:w,verticalAnchor:p},k):s==="insideBottomRight"?ht({x:o+u-j,y:c+f-h,textAnchor:b,verticalAnchor:p},k):s&&typeof s=="object"&&(ue(s.x)||vi(s.x))&&(ue(s.y)||vi(s.y))?ht({x:o+$r(s.x,u),y:c+$r(s.y,f),textAnchor:"end",verticalAnchor:"end"},k):ht({x:o+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},LM=e=>"cx"in e&&ue(e.cx);function sr(e){var{offset:t=5}=e,r=Bv(e,NM),n=ht({offset:t},r),{viewBox:s,position:o,value:c,children:u,content:f,className:m="",textBreakAll:h,labelRef:p}=n,v=If(),x=s||v;if(!x||Ve(c)&&Ve(u)&&!_.isValidElement(f)&&typeof f!="function")return null;if(_.isValidElement(f)){var{labelRef:j}=n,b=Bv(n,PM);return _.cloneElement(f,b)}var w;if(typeof f=="function"){if(w=_.createElement(f,n),_.isValidElement(w))return w}else w=kM(n);var A=LM(x),S=Be(n,!0);if(A&&(o==="insideStart"||o==="insideEnd"||o==="end"))return EM(n,w,S);var C=A?MM(n):DM(n,x);return _.createElement(Fh,mn({ref:p,className:Ke("recharts-label",m)},S,C,{breakAll:h}),w)}sr.displayName="Label";var y_=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:o,r:c,radius:u,innerRadius:f,outerRadius:m,x:h,y:p,top:v,left:x,width:j,height:b,clockWise:w,labelViewBox:A}=e;if(A)return A;if(ue(j)&&ue(b)){if(ue(h)&&ue(p))return{x:h,y:p,width:j,height:b};if(ue(v)&&ue(x))return{x:v,y:x,width:j,height:b}}if(ue(h)&&ue(p))return{x:h,y:p,width:0,height:0};if(ue(t)&&ue(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:o||n||0,innerRadius:f||0,outerRadius:m||u||c||0,clockWise:w};if(e.viewBox)return e.viewBox},IM=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(sr,mn({key:"label-implicit"},n)):Gr(e)?_.createElement(sr,mn({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===sr?_.cloneElement(e,ht({key:"label-implicit"},n)):_.createElement(sr,mn({key:"label-implicit",content:e},n)):qh(e)?_.createElement(sr,mn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(sr,mn({},e,{key:"label-implicit"},n)):null},RM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:o}=t,c=y_(t),u=mf(s,sr).map((m,h)=>_.cloneElement(m,{viewBox:r||c,key:"label-".concat(h)}));if(!n)return u;var f=IM(t.label,r||c,o);return[f,...u]};sr.parseViewBox=y_;sr.renderCallByParent=RM;var Fu={},qu={},qv;function zM(){return qv||(qv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(qu)),qu}var Wu={},Wv;function $M(){return Wv||(Wv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(Wu)),Wu}var Uv;function BM(){return Uv||(Uv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM(),r=$M(),n=wf();function s(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=s}(Fu)),Fu}var Uu,Zv;function FM(){return Zv||(Zv=1,Uu=BM().last),Uu}var qM=FM();const WM=Jr(qM);var UM=["valueAccessor"],ZM=["data","dataKey","clockWise","id","textBreakAll"];function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(null,arguments)}function Kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kv(Object(r),!0).forEach(function(n){KM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KM(e,t,r){return(t=HM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HM(e){var t=YM(e,"string");return typeof t=="symbol"?t:t+""}function YM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yv(e,t){if(e==null)return{};var r,n,s=GM(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GM(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VM=e=>Array.isArray(e.value)?WM(e.value):e.value;function Hn(e){var{valueAccessor:t=VM}=e,r=Yv(e,UM),{data:n,dataKey:s,clockWise:o,id:c,textBreakAll:u}=r,f=Yv(r,ZM);return!n||!n.length?null:_.createElement(Bt,{className:"recharts-label-list"},n.map((m,h)=>{var p=Ve(s)?t(m,h):$t(m&&m.payload,s),v=Ve(c)?{}:{id:"".concat(c,"-").concat(h)};return _.createElement(sr,Qo({},Be(m,!0),f,v,{parentViewBox:m.parentViewBox,value:p,textBreakAll:u,viewBox:sr.parseViewBox(Ve(o)?m:Hv(Hv({},m),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Hn.displayName="LabelList";function XM(e,t){return e?e===!0?_.createElement(Hn,{key:"labelList-implicit",data:t}):_.isValidElement(e)||qh(e)?_.createElement(Hn,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?_.createElement(Hn,Qo({data:t},e,{key:"labelList-implicit"})):null:null}function JM(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=mf(n,Hn).map((c,u)=>_.cloneElement(c,{data:t,key:"labelList-".concat(u)}));if(!r)return s;var o=XM(e.label,t);return[o,...s]}Hn.renderCallByParent=JM;function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(null,arguments)}var x_=e=>{var{cx:t,cy:r,r:n,className:s}=e,o=Ke("recharts-dot",s);return t===+t&&r===+r&&n===+n?_.createElement("circle",Zd({},Be(e,!1),hf(e),{className:o,cx:t,cy:r,r:n})):null},QM={radiusAxis:{},angleAxis:{}},b_=kr({name:"polarAxis",initialState:QM,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$3,removeRadiusAxis:B3,addAngleAxis:F3,removeAngleAxis:q3}=b_.actions,eD=b_.reducer,tD={countOfBars:0,cartesianItems:[],polarItems:[]},__=kr({name:"graphicalItems",initialState:tD,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=yn(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=yn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=yn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:rD,removeBar:nD,addCartesianGraphicalItem:iD,replaceCartesianGraphicalItem:aD,removeCartesianGraphicalItem:sD,addPolarGraphicalItem:W3,removePolarGraphicalItem:U3}=__.actions,oD=__.reducer;function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(r),!0).forEach(function(n){lD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lD(e,t,r){return(t=cD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=uD(e,"string");return typeof t=="symbol"?t:t+""}function uD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dD(e){var t=dt(),r=_.useRef(null);return _.useEffect(()=>{var n=Vv(Vv({},e),{},{stackId:Mf(e.stackId)});r.current===null?t(iD(n)):r.current!==n&&t(aD({prev:r.current,next:n})),r.current=n},[t,e]),_.useEffect(()=>()=>{r.current&&(t(sD(r.current)),r.current=null)},[t]),null}var Zu={},Xv;function fD(){return Xv||(Xv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const o=r[Symbol.toStringTag];return o==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${o}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(Zu)),Zu}var Ku,Jv;function hD(){return Jv||(Jv=1,Ku=fD().isPlainObject),Ku}var mD=hD();const pD=Jr(mD);function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(null,arguments)}var Qv=(e,t,r,n,s)=>{var o=r-n,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+r,",").concat(t),c+="L ".concat(e+r-o/2,",").concat(t+s),c+="L ".concat(e+r-o/2-n,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},gD={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vD=e=>{var t=Vn(e,gD),r=_.useRef(),[n,s]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:m,className:h}=t,{animationEasing:p,animationDuration:v,animationBegin:x,isUpdateAnimationActive:j}=t;if(o!==+o||c!==+c||u!==+u||f!==+f||m!==+m||u===0&&f===0||m===0)return null;var b=Ke("recharts-trapezoid",h);return j?_.createElement(Ci,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:m,x:o,y:c},to:{upperWidth:u,lowerWidth:f,height:m,x:o,y:c},duration:v,animationEasing:p,isActive:j},w=>{var{upperWidth:A,lowerWidth:S,height:C,x:T,y:k}=w;return _.createElement(Ci,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:p},_.createElement("path",el({},Be(t,!0),{className:b,d:Qv(T,k,A,S,C),ref:r})))}):_.createElement("g",null,_.createElement("path",el({},Be(t,!0),{className:b,d:Qv(o,c,u,f,m)})))},yD=["option","shapeType","propTransformer","activeClassName","isActive"];function xD(e,t){if(e==null)return{};var r,n,s=bD(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(n){_D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _D(e,t,r){return(t=wD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wD(e){var t=jD(e,"string");return typeof t=="symbol"?t:t+""}function jD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ND(e,t){return tl(tl({},t),e)}function PD(e,t){return e==="symbols"}function ty(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(Xx,r);case"trapezoid":return _.createElement(vD,r);case"sector":return _.createElement(e0,r);case"symbols":if(PD(t))return _.createElement(xf,r);break;default:return null}}function AD(e){return _.isValidElement(e)?e.props:e}function SD(e){var{option:t,shapeType:r,propTransformer:n=ND,activeClassName:s="recharts-active-shape",isActive:o}=e,c=xD(e,yD),u;if(_.isValidElement(t))u=_.cloneElement(t,tl(tl({},c),AD(t)));else if(typeof t=="function")u=t(c);else if(pD(t)&&typeof t!="boolean"){var f=n(t,c);u=_.createElement(ty,{shapeType:r,elementProps:f})}else{var m=c;u=_.createElement(ty,{shapeType:r,elementProps:m})}return o?_.createElement(Bt,{className:s},u):u}var w_=(e,t)=>{var r=dt();return(n,s)=>o=>{e==null||e(n,s,o),r(Wb({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},j_=e=>{var t=dt();return(r,n)=>s=>{e==null||e(r,n,s),t(CT())}},N_=(e,t)=>{var r=dt();return(n,s)=>o=>{e==null||e(n,s,o),r(OT({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function P_(e){var{fn:t,args:r}=e,n=dt(),s=Jt();return _.useEffect(()=>{if(!s){var o=t(r);return n(PT(o)),()=>{n(AT(o))}}},[t,r,n,s]),null}var CD=()=>{};function A_(e){var{legendPayload:t}=e,r=dt(),n=Jt();return _.useEffect(()=>n?CD:(r(U2(t)),()=>{r(Z2(t))}),[r,n,t]),null}function S_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(da(t)),n=_.useRef(e);return n.current!==e&&(r.current=da(t),n.current=e),r.current}var OD=U([At],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kD=U([OD,jn,Nn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),TD=e=>{var t=Jt();return fe(r=>Xr(r,"xAxis",e,t))},ED=e=>{var t=Jt();return fe(r=>Xr(r,"yAxis",e,t))},Wh=()=>fe(kD),MD=()=>fe(hE);function ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ry(Object(r),!0).forEach(function(n){DD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DD(e,t,r){return(t=LD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=ID(e,"string");return typeof t=="symbol"?t:t+""}function ID(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RD=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:o}=e;if(s===!1||t.x==null||t.y==null)return null;var c=ny(ny({index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:n!=null?n:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Be(s,!1)),hf(s)),u;return _.isValidElement(s)?u=_.cloneElement(s,c):typeof s=="function"?u=s(c):u=_.createElement(x_,c),_.createElement(Bt,{className:"recharts-active-dot"},u)};function iy(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,o=fe(Ei),c=MD();if(t==null||c==null)return null;var u=t.find(f=>c.includes(f.payload));return Ve(u)?null:RD({point:u,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:n})}var zD=()=>{var e=dt();return _.useEffect(()=>(e(rD()),()=>{e(nD())})),null},$D=["children"];function BD(e,t){if(e==null)return{};var r,n,s=FD(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ay=()=>{},C_=_.createContext({addErrorBar:ay,removeErrorBar:ay}),qD={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},O_=_.createContext(qD);function WD(e){var{children:t}=e,r=BD(e,$D);return _.createElement(O_.Provider,{value:r},t)}var UD=()=>_.useContext(O_),k_=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:o,data:c,stackId:u,hide:f,type:m,barSize:h}=e,[p,v]=_.useState([]),x=_.useCallback(w=>{v(A=>[...A,w])},[v]),j=_.useCallback(w=>{v(A=>A.filter(S=>S!==w))},[v]),b=Jt();return _.createElement(C_.Provider,{value:{addErrorBar:x,removeErrorBar:j}},_.createElement(dD,{type:m,data:c,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:o,errorBars:p,stackId:u,hide:f,barSize:h,isPanorama:b}),t)};function ZD(e){var{addErrorBar:t,removeErrorBar:r}=_.useContext(C_);return _.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var KD=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function T_(e,t,r){return(t=HD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HD(e){var t=YD(e,"string");return typeof t=="symbol"?t:t+""}function YD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(null,arguments)}function GD(e,t){if(e==null)return{};var r,n,s=VD(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function VD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XD(e){var{direction:t,width:r,dataKey:n,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:u}=e,f=GD(e,KD),m=Be(f,!1),{data:h,dataPointFormatter:p,xAxisId:v,yAxisId:x,errorBarOffset:j}=UD(),b=TD(v),w=ED(x);if((b==null?void 0:b.scale)==null||(w==null?void 0:w.scale)==null||h==null||t==="x"&&b.type!=="number")return null;var A=h.map(S=>{var{x:C,y:T,value:k,errorVal:O}=p(S,n,t);if(!O)return null;var I=[],F,K;if(Array.isArray(O)?[F,K]=O:F=K=O,t==="x"){var{scale:Y}=b,Q=T+j,X=Q+r,te=Q-r,de=Y(k-F),be=Y(k+K);I.push({x1:be,y1:X,x2:be,y2:te}),I.push({x1:de,y1:Q,x2:be,y2:Q}),I.push({x1:de,y1:X,x2:de,y2:te})}else if(t==="y"){var{scale:pe}=w,Te=C+j,q=Te-r,ce=Te+r,G=pe(k-F),he=pe(k+K);I.push({x1:q,y1:he,x2:ce,y2:he}),I.push({x1:Te,y1:G,x2:Te,y2:he}),I.push({x1:q,y1:G,x2:ce,y2:G})}var D="".concat(C+j,"px ").concat(T+j,"px");return _.createElement(Bt,bs({className:"recharts-errorBar",key:"bar-".concat(I.map(V=>"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)))},m),I.map(V=>{var se=s?{transformOrigin:"".concat(V.x1-5,"px")}:void 0;return _.createElement(Ci,{from:{transform:"scaleY(0)",transformOrigin:D},to:{transform:"scaleY(1)",transformOrigin:D},begin:o,easing:u,isActive:s,duration:c,key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2),style:{transformOrigin:D}},_.createElement("line",bs({},V,{style:se})))}))});return _.createElement(Bt,{className:"recharts-errorBars"},A)}var E_=_.createContext(void 0);function JD(e){var t=_.useContext(E_);return e!=null?e:t!=null?t:"x"}function QD(e){var{direction:t,children:r}=e;return _.createElement(E_.Provider,{value:t},r)}var M_={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function eL(e){var t=JD(e.direction),{width:r,isAnimationActive:n,animationBegin:s,animationDuration:o,animationEasing:c}=Vn(e,M_);return _.createElement(_.Fragment,null,_.createElement(ZD,{dataKey:e.dataKey,direction:t}),_.createElement(XD,bs({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:s,animationDuration:o,animationEasing:c})))}class D_ extends _.Component{render(){return _.createElement(eL,this.props)}}T_(D_,"defaultProps",M_);T_(D_,"displayName","ErrorBar");var tL="Invariant failed";function rL(e,t){throw new Error(tL)}var nL=["x","y"];function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(null,arguments)}function sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(r),!0).forEach(function(n){iL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iL(e,t,r){return(t=aL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aL(e){var t=sL(e,"string");return typeof t=="symbol"?t:t+""}function sL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oL(e,t){if(e==null)return{};var r,n,s=lL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cL(e,t){var{x:r,y:n}=e,s=oL(e,nL),o="".concat(r),c=parseInt(o,10),u="".concat(n),f=parseInt(u,10),m="".concat(t.height||s.height),h=parseInt(m,10),p="".concat(t.width||s.width),v=parseInt(p,10);return ns(ns(ns(ns(ns({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function L_(e){return _.createElement(SD,Kd({shapeType:"rectangle",propTransformer:cL,activeClassName:"recharts-active-bar"},e))}var uL=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(ue(t))return t;var o=ue(n)||Ve(n);return o?t(n,s):(o||rL(),r)}};function Uh(e,t){var r,n,s=fe(m=>Sn(m,e)),o=fe(m=>Qn(m,t)),c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,u=(n=o==null?void 0:o.allowDataOverflow)!==null&&n!==void 0?n:ir.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function I_(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Wh(),{needClipX:o,needClipY:c,needClip:u}=Uh(t,r);if(!u)return null;var{x:f,y:m,width:h,height:p}=s;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:o?f:f-h/2,y:c?m:m-p/2,width:o?h:h*2,height:c?p:p*2}))}var dL=["onMouseEnter","onMouseLeave","onClick"],fL=["value","background","tooltipPosition"],hL=["onMouseEnter","onClick","onMouseLeave"];function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(null,arguments)}function oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oy(Object(r),!0).forEach(function(n){ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ql(e,t,r){return(t=mL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mL(e){var t=pL(e,"string");return typeof t=="symbol"?t:t+""}function pL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hd(e,t){if(e==null)return{};var r,n,s=gL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vL=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:n,value:xl(r,t),payload:e}]};function yL(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:o,hide:c,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:xl(o,t),hide:c,type:e.tooltipType,color:e.fill,unit:u}}}function xL(e){var t=fe(Ei),{data:r,dataKey:n,background:s,allOtherBarProps:o}=e,{onMouseEnter:c,onMouseLeave:u,onClick:f}=o,m=Hd(o,dL),h=w_(c,n),p=j_(u),v=N_(f,n);if(!s||r==null)return null;var x=Be(s,!1);return _.createElement(_.Fragment,null,r.map((j,b)=>{var{value:w,background:A,tooltipPosition:S}=j,C=Hd(j,fL);if(!A)return null;var T=h(j,b),k=p(j,b),O=v(j,b),I=zt(zt(zt(zt(zt({option:s,isActive:String(b)===t},C),{},{fill:"#eee"},A),x),ll(m,j,b)),{},{onMouseEnter:T,onMouseLeave:k,onClick:O,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return _.createElement(L_,_s({key:"background-bar-".concat(b)},I))}))}function R_(e){var{data:t,props:r,showLabels:n}=e,s=Be(r,!1),{shape:o,dataKey:c,activeBar:u}=r,f=fe(Ei),m=fe(r_),{onMouseEnter:h,onClick:p,onMouseLeave:v}=r,x=Hd(r,hL),j=w_(h,c),b=j_(v),w=N_(p,c);return t?_.createElement(_.Fragment,null,t.map((A,S)=>{var C=u&&String(S)===f&&(m==null||c===m),T=C?u:o,k=zt(zt(zt({},s),A),{},{isActive:C,option:T,index:S,dataKey:c});return _.createElement(Bt,_s({className:"recharts-bar-rectangle"},ll(x,A,S),{onMouseEnter:j(A,S),onMouseLeave:b(A,S),onClick:w(A,S),key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(S)}),_.createElement(L_,k))}),n&&Hn.renderCallByParent(r,t)):null}function bL(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:o,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,p=r.current,v=S_(t,"recharts-bar-"),[x,j]=_.useState(!1),b=_.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),w=_.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return _.createElement(Ci,{begin:c,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},onAnimationEnd:b,onAnimationStart:w,key:v},A=>{var{t:S}=A,C=S===1?n:n.map((T,k)=>{var O=p&&p[k];if(O){var I=ta(O.x,T.x),F=ta(O.y,T.y),K=ta(O.width,T.width),Y=ta(O.height,T.height);return zt(zt({},T),{},{x:I(S),y:F(S),width:K(S),height:Y(S)})}if(s==="horizontal"){var Q=ta(0,T.height),X=Q(S);return zt(zt({},T),{},{y:T.y+T.height-X,height:X})}var te=ta(0,T.width),de=te(S);return zt(zt({},T),{},{width:de})});return S>0&&(r.current=C),_.createElement(Bt,null,_.createElement(R_,{props:t,data:C,showLabels:!x}))})}function _L(e){var{data:t,isAnimationActive:r}=e,n=_.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?_.createElement(bL,{previousRectanglesRef:n,props:e}):_.createElement(R_,{props:e,data:t,showLabels:!0})}var z_=0,wL=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$t(e,t)}};class jL extends _.PureComponent{constructor(){super(...arguments),ql(this,"id",da("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:o,yAxisId:c,needClip:u,background:f,id:m,layout:h}=this.props;if(t)return null;var p=Ke("recharts-bar",s),v=Ve(m)?this.id:m;return _.createElement(Bt,{className:p},u&&_.createElement("defs",null,_.createElement(I_,{clipPathId:v,xAxisId:o,yAxisId:c})),_.createElement(Bt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(v,")"):null},_.createElement(xL,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),_.createElement(_L,this.props)),_.createElement(QD,{direction:h==="horizontal"?"y":"x"},this.props.children))}}var $_={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!xa.isSsr,legendType:"rect",minPointSize:z_,xAxisId:0,yAxisId:0};function NL(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h}=Vn(e,$_),{needClip:p}=Uh(t,r),v=jl(),x=Jt(),j=_.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:o,stackId:Mf(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,o,e.stackId]),b=mf(e.children,gi),w=fe(C=>JL(C,t,r,x,j,b));if(v!=="vertical"&&v!=="horizontal")return null;var A,S=w==null?void 0:w[0];return S==null||S.height==null||S.width==null?A=0:A=v==="vertical"?S.height/2:S.width/2,_.createElement(WD,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:wL,errorBarOffset:A},_.createElement(jL,_s({},e,{layout:v,needClip:p,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function PL(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:o,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:p,offset:v,cells:x}=e,j=t==="horizontal"?u:c,b=h?j.scale.domain():null,w=w2({numericAxis:j});return p.map((A,S)=>{var C,T,k,O,I,F;h?C=v2(h[S],b):(C=$t(A,r),Array.isArray(C)||(C=[w,C]));var K=uL(n,z_)(C[1],S);if(t==="horizontal"){var Y,[Q,X]=[u.scale(C[0]),u.scale(C[1])];T=Xp({axis:c,ticks:f,bandSize:o,offset:s.offset,entry:A,index:S}),k=(Y=X!=null?X:Q)!==null&&Y!==void 0?Y:void 0,O=s.size;var te=Q-X;if(I=dr(te)?0:te,F={x:T,y:v.top,width:O,height:v.height},Math.abs(K)>0&&Math.abs(I)<Math.abs(K)){var de=lr(I||K)*(Math.abs(K)-Math.abs(I));k-=de,I+=de}}else{var[be,pe]=[c.scale(C[0]),c.scale(C[1])];if(T=be,k=Xp({axis:u,ticks:m,bandSize:o,offset:s.offset,entry:A,index:S}),O=pe-be,I=s.size,F={x:v.left,y:k,width:v.width,height:I},Math.abs(K)>0&&Math.abs(O)<Math.abs(K)){var Te=lr(O||K)*(Math.abs(K)-Math.abs(O));O+=Te}}var q=zt(zt({},A),{},{x:T,y:k,width:O,height:I,value:h?C:C[1],payload:A,background:F,tooltipPosition:{x:T+O/2,y:k+I/2}},x&&x[S]&&x[S].props);return q})}class Zh extends _.PureComponent{render(){return _.createElement(k_,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},_.createElement(zD,null),_.createElement(A_,{legendPayload:vL(this.props)}),_.createElement(P_,{fn:yL,args:this.props}),_.createElement(NL,this.props))}}ql(Zh,"displayName","Bar");ql(Zh,"defaultProps",$_);function ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ly(Object(r),!0).forEach(function(n){AL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ly(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AL(e,t,r){return(t=SL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SL(e){var t=CL(e,"string");return typeof t=="symbol"?t:t+""}function CL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OL=(e,t)=>t,kL=(e,t,r)=>r,TL=(e,t,r,n)=>n,Kh=(e,t,r,n,s)=>s,EL=(e,t,r,n,s)=>s.maxBarSize,ML=(e,t,r,n,s,o)=>o,cy=(e,t,r)=>{var n=r!=null?r:e;if(!Ve(n))return $r(n,t,0)},DL=U([Ue,Ll,OL,kL,TL],(e,t,r,n,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),LL=(e,t,r,n)=>{var s=Ue(e);return s==="horizontal"?ys(e,"yAxis",r,n):ys(e,"xAxis",t,n)},IL=(e,t,r)=>{var n=Ue(e);return n==="horizontal"?mv(e,"xAxis",t):mv(e,"yAxis",r)};function RL(e){return e.stackId!=null&&e.dataKey!=null}var zL=(e,t,r)=>{var n={},s=e.filter(RL),o=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),n),u=Object.entries(c).map(m=>{var[h,p]=m,v=p.map(j=>j.dataKey),x=cy(t,r,p[0].barSize);return{stackId:h,dataKeys:v,barSize:x}}),f=o.map(m=>{var h=[m.dataKey].filter(v=>v!=null),p=cy(t,r,m.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...f]},$L=U([DL,jk,IL],zL),BL=(e,t,r,n,s)=>{var o,c,u=Ue(e),f=eb(e),{maxBarSize:m}=s,h=Ve(m)?f:m,p,v;return u==="horizontal"?(p=Xr(e,"xAxis",t,n),v=Gn(e,"xAxis",t,n)):(p=Xr(e,"yAxis",r,n),v=Gn(e,"yAxis",r,n)),(o=(c=ds(p,v,!0))!==null&&c!==void 0?c:h)!==null&&o!==void 0?o:0},B_=(e,t,r,n)=>{var s=Ue(e),o,c;return s==="horizontal"?(o=Xr(e,"xAxis",t,n),c=Gn(e,"xAxis",t,n)):(o=Xr(e,"yAxis",r,n),c=Gn(e,"yAxis",r,n)),ds(o,c)};function FL(e,t,r,n,s){var o=n.length;if(!(o<1)){var c=$r(e,r,0,!0),u,f=[];if(Dt(n[0].barSize)){var m=!1,h=r/o,p=n.reduce((A,S)=>A+(S.barSize||0),0);p+=(o-1)*c,p>=r&&(p-=(o-1)*c,c=0),p>=r&&h>0&&(m=!0,h*=.9,p=o*h);var v=(r-p)/2>>0,x={offset:v-c,size:0};u=n.reduce((A,S)=>{var C,T={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:x.offset+x.size+c,size:m?h:(C=S.barSize)!==null&&C!==void 0?C:0}},k=[...A,T];return x=k[k.length-1].position,k},f)}else{var j=$r(t,r,0,!0);r-2*j-(o-1)*c<=0&&(c=0);var b=(r-2*j-(o-1)*c)/o;b>1&&(b>>=0);var w=Dt(s)?Math.min(b,s):b;u=n.reduce((A,S,C)=>[...A,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:j+(b+c)*C+(b-w)/2,size:w}}],f)}return u}}var qL=(e,t,r,n,s,o,c)=>{var u=Ve(c)?t:c,f=FL(r,n,s!==o?s:o,e,u);return s!==o&&f!=null&&(f=f.map(m=>bo(bo({},m),{},{position:bo(bo({},m.position),{},{offset:m.position.offset-s/2})}))),f},WL=U([$L,eb,wk,tb,BL,B_,EL],qL),UL=(e,t,r,n)=>Xr(e,"xAxis",t,n),ZL=(e,t,r,n)=>Xr(e,"yAxis",r,n),KL=(e,t,r,n)=>Gn(e,"xAxis",t,n),HL=(e,t,r,n)=>Gn(e,"yAxis",r,n),YL=U([WL,Kh],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),GL=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:s}=n;if(s){var o=s.find(c=>c.key===t.dataKey);return o}}}}},VL=U([Ll,Kh],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),XL=U([LL,Kh],GL),JL=U([At,UL,ZL,KL,HL,YL,Ue,ph,B_,XL,VL,ML],(e,t,r,n,s,o,c,u,f,m,h,p)=>{var{chartData:v,dataStartIndex:x,dataEndIndex:j}=u;if(!(h==null||o==null||c!=="horizontal"&&c!=="vertical"||t==null||r==null||n==null||s==null||f==null)){var{data:b}=h,w;if(b!=null&&b.length>0?w=b:w=v==null?void 0:v.slice(x,j+1),w!=null)return PL({layout:c,barSettings:h,pos:o,bandSize:f,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,stackedData:m,displayedData:w,offset:e,cells:p})}}),QL=e=>{var{chartData:t}=e,r=dt(),n=Jt();return _.useEffect(()=>n?()=>{}:(r(jv(t)),()=>{r(jv(void 0))}),[t,r,n]),null},uy={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},F_=kr({name:"brush",initialState:uy,reducers:{setBrushSettings(e,t){return t.payload==null?uy:t.payload}}}),{setBrushSettings:Z3}=F_.actions,eI=F_.reducer;function tI(e,t,r){return(t=rI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rI(e){var t=nI(e,"string");return typeof t=="symbol"?t:t+""}function nI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hh{static create(t){return new Hh(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}tI(Hh,"EPS",1e-4);function iI(e){return(e%180+180)%180}var aI=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=iI(s),c=o*Math.PI/180,u=Math.atan(n/r),f=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(f)},sI={dots:[],areas:[],lines:[]},q_=kr({name:"referenceElements",initialState:sI,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=yn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=yn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=yn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:K3,removeDot:H3,addArea:Y3,removeArea:G3,addLine:V3,removeLine:X3}=q_.actions,oI=q_.reducer,lI=_.createContext(void 0),cI=e=>{var{children:t}=e,[r]=_.useState("".concat(da("recharts"),"-clip")),n=Wh();if(n==null)return null;var{x:s,y:o,width:c,height:u}=n;return _.createElement(lI.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:s,y:o,height:u,width:c}))),t)};function Hu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function W_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function uI(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aI(n,r)}function dI(e,t,r){var n=r==="width",{x:s,y:o,width:c,height:u}=e;return t===1?{start:n?s:o,end:n?s+c:o+u}:{start:n?s+c:o+u,end:n?s:o}}function rl(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function fI(e,t){return W_(e,t+1)}function hI(e,t,r,n,s){for(var o=(n||[]).slice(),{start:c,end:u}=t,f=0,m=1,h=c,p=function(){var j=n==null?void 0:n[f];if(j===void 0)return{v:W_(n,m)};var b=f,w,A=()=>(w===void 0&&(w=r(j,b)),w),S=j.coordinate,C=f===0||rl(e,S,A,h,u);C||(f=0,h=c,m+=1),C&&(h=S+e*(A()/2+s),f+=m)},v;m<=o.length;)if(v=p(),v)return v.v;return[]}function dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dy(Object(r),!0).forEach(function(n){mI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mI(e,t,r){return(t=pI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pI(e){var t=gI(e,"string");return typeof t=="symbol"?t:t+""}function gI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vI(e,t,r,n,s){for(var o=(n||[]).slice(),c=o.length,{start:u}=t,{end:f}=t,m=function(v){var x=o[v],j,b=()=>(j===void 0&&(j=r(x,v)),j);if(v===c-1){var w=e*(x.coordinate+e*b()/2-f);o[v]=x=Rt(Rt({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else o[v]=x=Rt(Rt({},x),{},{tickCoord:x.coordinate});var A=rl(e,x.tickCoord,b,u,f);A&&(f=x.tickCoord-e*(b()/2+s),o[v]=Rt(Rt({},x),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return o}function yI(e,t,r,n,s,o){var c=(n||[]).slice(),u=c.length,{start:f,end:m}=t;if(o){var h=n[u-1],p=r(h,u-1),v=e*(h.coordinate+e*p/2-m);c[u-1]=h=Rt(Rt({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var x=rl(e,h.tickCoord,()=>p,f,m);x&&(m=h.tickCoord-e*(p/2+s),c[u-1]=Rt(Rt({},h),{},{isShow:!0}))}for(var j=o?u-1:u,b=function(S){var C=c[S],T,k=()=>(T===void 0&&(T=r(C,S)),T);if(S===0){var O=e*(C.coordinate-e*k()/2-f);c[S]=C=Rt(Rt({},C),{},{tickCoord:O<0?C.coordinate-O*e:C.coordinate})}else c[S]=C=Rt(Rt({},C),{},{tickCoord:C.coordinate});var I=rl(e,C.tickCoord,k,f,m);I&&(f=C.tickCoord+e*(k()/2+s),c[S]=Rt(Rt({},C),{},{isShow:!0}))},w=0;w<j;w++)b(w);return c}function xI(e,t,r){var{tick:n,ticks:s,viewBox:o,minTickGap:c,orientation:u,interval:f,tickFormatter:m,unit:h,angle:p}=e;if(!s||!s.length||!n)return[];if(ue(f)||xa.isSsr){var v;return(v=fI(s,ue(f)?f:0))!==null&&v!==void 0?v:[]}var x=[],j=u==="top"||u==="bottom"?"width":"height",b=h&&j==="width"?os(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(C,T)=>{var k=typeof m=="function"?m(C.value,T):C.value;return j==="width"?uI(os(k,{fontSize:t,letterSpacing:r}),b,p):os(k,{fontSize:t,letterSpacing:r})[j]},A=s.length>=2?lr(s[1].coordinate-s[0].coordinate):1,S=dI(o,A,j);return f==="equidistantPreserveStart"?hI(A,S,w,s,c):(f==="preserveStart"||f==="preserveStartEnd"?x=yI(A,S,w,s,c,f==="preserveStartEnd"):x=vI(A,S,w,s,c),x.filter(C=>C.isShow))}var bI=["viewBox"],_I=["viewBox"];function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sa.apply(null,arguments)}function fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fy(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hy(e,t){if(e==null)return{};var r,n,s=wI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yh(e,t,r){return(t=jI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jI(e){var t=NI(e,"string");return typeof t=="symbol"?t:t+""}function NI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sa extends _.Component{constructor(t){super(t),this.tickRefs=_.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=hy(t,bI),o=this.props,{viewBox:c}=o,u=hy(o,_I);return!Hu(n,c)||!Hu(s,u)||!Hu(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:o,orientation:c,tickSize:u,mirror:f,tickMargin:m}=this.props,h,p,v,x,j,b,w=f?-1:1,A=t.tickSize||u,S=ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=p=t.coordinate,x=n+ +!f*o,v=x-w*A,b=v-w*m,j=S;break;case"left":v=x=t.coordinate,p=r+ +!f*s,h=p-w*A,j=h-w*m,b=S;break;case"right":v=x=t.coordinate,p=r+ +f*s,h=p+w*A,j=h+w*m,b=S;break;default:h=p=t.coordinate,x=n+ +f*o,v=x+w*A,b=v+w*m,j=S;break}return{line:{x1:h,y1:v,x2:p,y2:x},tick:{x:j,y:b}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:o,mirror:c,axisLine:u}=this.props,f=yt(yt(yt({},Be(this.props,!1)),Be(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!c||o==="bottom"&&c);f=yt(yt({},f),{},{x1:t,y1:r+m*s,x2:t+n,y2:r+m*s})}else{var h=+(o==="left"&&!c||o==="right"&&c);f=yt(yt({},f),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+s})}return _.createElement("line",sa({},f,{className:Ke("recharts-cartesian-axis-line",Pi(u,"className"))}))}static renderTickItem(t,r,n){var s,o=Ke(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))s=_.cloneElement(t,yt(yt({},r),{},{className:o}));else if(typeof t=="function")s=t(yt(yt({},r),{},{className:o}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Ke(c,t.className)),s=_.createElement(Fh,sa({},r,{className:c}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:o,tick:c,tickFormatter:u,unit:f}=this.props,m=xI(yt(yt({},this.props),{},{ticks:n}),t,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Be(this.props,!1),x=Be(c,!1),j=yt(yt({},v),{},{fill:"none"},Be(s,!1)),b=m.map((w,A)=>{var{line:S,tick:C}=this.getTickLineCoord(w),T=yt(yt(yt(yt({textAnchor:h,verticalAnchor:p},v),{},{stroke:"none",fill:o},x),C),{},{index:A,payload:w,visibleTicksCount:m.length,tickFormatter:u});return _.createElement(Bt,sa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},ll(this.props,w,A)),s&&_.createElement("line",sa({},j,S,{className:Ke("recharts-cartesian-axis-tick-line",Pi(s,"className"))})),c&&Sa.renderTickItem(c,T,"".concat(typeof u=="function"?u(w.value,A):w.value).concat(f||"")))});return b.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:o}=this.props;if(o)return null;var{ticks:c}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:_.createElement(Bt,{className:Ke("recharts-cartesian-axis",s),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,p=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),sr.renderCallByParent(this.props))}}Yh(Sa,"displayName","CartesianAxis");Yh(Sa,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var U_=(e,t,r,n)=>Xr(e,"xAxis",t,n),Z_=(e,t,r,n)=>Gn(e,"xAxis",t,n),K_=(e,t,r,n)=>Xr(e,"yAxis",r,n),H_=(e,t,r,n)=>Gn(e,"yAxis",r,n),PI=U([Ue,U_,K_,Z_,H_],(e,t,r,n,s)=>wn(e,"xAxis")?ds(t,n,!1):ds(r,s,!1)),AI=(e,t,r,n,s)=>{var o,c=Ue(e),u=wn(c,"xAxis"),f;if(u?f=ys(e,"yAxis",r,n):f=ys(e,"xAxis",t,n),f!=null){var{dataKey:m,stackId:h}=s;if(h!=null){var p=(o=f[h])===null||o===void 0?void 0:o.stackedData;return p==null?void 0:p.find(v=>v.key===m)}}},SI=(e,t,r,n,s)=>s,CI=U([Ll,SI],(e,t)=>{if(e.some(r=>r.type==="area"&&t.dataKey===r.dataKey&&Mf(t.stackId)===r.stackId&&t.data===r.data))return t}),OI=U([Ue,U_,K_,Z_,H_,AI,ph,PI,CI],(e,t,r,n,s,o,c,u,f)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:p}=c;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||u==null)){var{data:v}=f,x;if(v&&v.length>0?x=v:x=m==null?void 0:m.slice(h,p+1),x!=null){var j=void 0;return YI({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:h,areaSettings:f,stackedData:o,displayedData:x,chartBaseValue:j,bandSize:u})}}}),kI=["layout","type","stroke","connectNulls","isRange"],TI=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Y_(e,t){if(e==null)return{};var r,n,s=EI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function my(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?my(Object(r),!0).forEach(function(n){Wl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):my(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wl(e,t,r){return(t=MI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MI(e){var t=DI(e,"string");return typeof t=="symbol"?t:t+""}function DI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yn.apply(null,arguments)}function nl(e,t){return e&&e!=="none"?e:t}var LI=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:o,hide:c}=e;return[{inactive:c,dataKey:t,type:o,color:nl(n,s),value:xl(r,t),payload:e}]};function II(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:o,name:c,hide:u,unit:f}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:xl(c,t),hide:u,type:e.tooltipType,color:nl(n,o),unit:f}}}var RI=(e,t)=>{var r;if(_.isValidElement(e))r=_.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ke("recharts-area-dot",typeof e!="boolean"?e.className:"");r=_.createElement(x_,Yn({},t,{className:n}))}return r};function zI(e,t){return e==null?!1:t?!0:e.length===1}function $I(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:o,dataKey:c}=n;if(!zI(r,o))return null;var u=Fy(o),f=Be(n,!1),m=Be(o,!0),h=r.map((v,x)=>{var j=bi(bi(bi({key:"dot-".concat(x),r:3},f),m),{},{index:x,cx:v.x,cy:v.y,dataKey:c,value:v.value,payload:v.payload,points:r});return RI(o,j)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return _.createElement(Bt,Yn({className:"recharts-area-dots"},p),h)}function Yd(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:o,showLabels:c}=e,{layout:u,type:f,stroke:m,connectNulls:h,isRange:p}=o,v=Y_(o,kI);return _.createElement(_.Fragment,null,(t==null?void 0:t.length)>1&&_.createElement(Bt,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},_.createElement(wo,Yn({},Be(v,!0),{points:t,connectNulls:h,type:f,baseLine:r,layout:u,stroke:"none",className:"recharts-area-area"})),m!=="none"&&_.createElement(wo,Yn({},Be(o,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:h,fill:"none",points:t})),m!=="none"&&p&&_.createElement(wo,Yn({},Be(o,!1),{className:"recharts-area-curve",layout:u,type:f,connectNulls:h,fill:"none",points:r}))),_.createElement($I,{points:t,props:o,clipPathId:s}),c&&Hn.renderCallByParent(o,t))}function BI(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,o=n[0].y,c=n[n.length-1].y;if(!Dt(o)||!Dt(c))return null;var u=t*Math.abs(o-c),f=Math.max(...n.map(m=>m.x||0));return ue(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.x||0),f)),ue(f)?_.createElement("rect",{x:0,y:o<c?o:o-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function FI(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,o=n[0].x,c=n[n.length-1].x;if(!Dt(o)||!Dt(c))return null;var u=t*Math.abs(o-c),f=Math.max(...n.map(m=>m.y||0));return ue(r)?f=Math.max(r,f):r&&Array.isArray(r)&&r.length&&(f=Math.max(...r.map(m=>m.y||0),f)),ue(f)?_.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function qI(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:o}=e;return r==="vertical"?_.createElement(BI,{alpha:t,points:n,baseLine:s,strokeWidth:o}):_.createElement(FI,{alpha:t,points:n,baseLine:s,strokeWidth:o})}function WI(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:o}=e,{points:c,baseLine:u,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:p,onAnimationStart:v,onAnimationEnd:x}=n,j=S_(n,"recharts-area-"),[b,w]=_.useState(!0),A=_.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),S=_.useCallback(()=>{typeof v=="function"&&v(),w(!0)},[v]),C=s.current,T=o.current;return _.createElement(Ci,{begin:m,duration:h,isActive:f,easing:p,from:{t:0},to:{t:1},onAnimationEnd:A,onAnimationStart:S,key:j},k=>{var{t:O}=k;if(C){var I=C.length/c.length,F=O===1?c:c.map((Y,Q)=>{var X=Math.floor(Q*I);if(C[X]){var te=C[X];return bi(bi({},Y),{},{x:ra(te.x,Y.x,O),y:ra(te.y,Y.y,O)})}return Y}),K;return ue(u)?K=ra(T,u,O):Ve(u)||dr(u)?K=ra(T,0,O):K=u.map((Y,Q)=>{var X=Math.floor(Q*I);if(Array.isArray(T)&&T[X]){var te=T[X];return bi(bi({},Y),{},{x:ra(te.x,Y.x,O),y:ra(te.y,Y.y,O)})}return Y}),O>0&&(s.current=F,o.current=K),_.createElement(Yd,{points:F,baseLine:K,needClip:t,clipPathId:r,props:n,showLabels:!b})}return O>0&&(s.current=c,o.current=u),_.createElement(Bt,null,_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(r)},_.createElement(qI,{alpha:O,points:c,baseLine:u,layout:n.layout,strokeWidth:n.strokeWidth}))),_.createElement(Bt,{clipPath:"url(#animationClipPath-".concat(r,")")},_.createElement(Yd,{points:c,baseLine:u,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function UI(e){var{needClip:t,clipPathId:r,props:n}=e,{points:s,baseLine:o,isAnimationActive:c}=n,u=_.useRef(null),f=_.useRef(),m=u.current,h=f.current;return c&&s&&s.length&&(m!==s||h!==o)?_.createElement(WI,{needClip:t,clipPathId:r,props:n,previousPointsRef:u,previousBaselineRef:f}):_.createElement(Yd,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n,showLabels:!0})}class ZI extends _.PureComponent{constructor(){super(...arguments),Wl(this,"id",da("recharts-area-"))}render(){var t,{hide:r,dot:n,points:s,className:o,top:c,left:u,needClip:f,xAxisId:m,yAxisId:h,width:p,height:v,id:x,baseLine:j}=this.props;if(r)return null;var b=Ke("recharts-area",o),w=Ve(x)?this.id:x,{r:A=3,strokeWidth:S=2}=(t=Be(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},C=Fy(n),T=A*2+S;return _.createElement(_.Fragment,null,_.createElement(Bt,{className:b},f&&_.createElement("defs",null,_.createElement(I_,{clipPathId:w,xAxisId:m,yAxisId:h}),!C&&_.createElement("clipPath",{id:"clipPath-dots-".concat(w)},_.createElement("rect",{x:u-T/2,y:c-T/2,width:p+T,height:v+T}))),_.createElement(UI,{needClip:f,clipPathId:w,props:this.props})),_.createElement(iy,{points:s,mainColor:nl(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(j)&&_.createElement(iy,{points:j,mainColor:nl(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var G_={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!xa.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function KI(e){var t,r=Vn(e,G_),{activeDot:n,animationBegin:s,animationDuration:o,animationEasing:c,connectNulls:u,dot:f,fill:m,fillOpacity:h,hide:p,isAnimationActive:v,legendType:x,stroke:j,xAxisId:b,yAxisId:w}=r,A=Y_(r,TI),S=jl(),C=i_(),{needClip:T}=Uh(b,w),k=Jt(),O=_.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:u,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,u,e.data,e.dataKey]),{points:I,isRange:F,baseLine:K}=(t=fe(de=>OI(de,b,w,k,O)))!==null&&t!==void 0?t:{},{height:Y,width:Q,x:X,y:te}=Wh();return S!=="horizontal"&&S!=="vertical"||C!=="AreaChart"&&C!=="ComposedChart"?null:_.createElement(ZI,Yn({},A,{activeDot:n,animationBegin:s,animationDuration:o,animationEasing:c,baseLine:K,connectNulls:u,dot:f,fill:m,fillOpacity:h,height:Y,hide:p,layout:S,isAnimationActive:v,isRange:F,legendType:x,needClip:T,points:I,stroke:j,width:Q,left:X,top:te,xAxisId:b,yAxisId:w}))}var HI=(e,t,r,n,s)=>{var o=r!=null?r:t;if(ue(o))return o;var c=e==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return o==="dataMin"?m:o==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function YI(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:o,chartBaseValue:c,xAxis:u,yAxis:f,displayedData:m,dataStartIndex:h,xAxisTicks:p,yAxisTicks:v,bandSize:x}=e,j=s&&s.length,b=HI(o,c,r,u,f),w=o==="horizontal",A=!1,S=m.map((T,k)=>{var O;j?O=s[h+k]:(O=$t(T,n),Array.isArray(O)?A=!0:O=[b,O]);var I=O[1]==null||j&&!t&&$t(T,n)==null;return w?{x:Vp({axis:u,ticks:p,bandSize:x,entry:T,index:k}),y:I?null:f.scale(O[1]),value:O,payload:T}:{x:I?null:u.scale(O[1]),y:Vp({axis:f,ticks:v,bandSize:x,entry:T,index:k}),value:O,payload:T}}),C;return j||A?C=S.map(T=>{var k=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:k!=null&&T.y!=null?f.scale(k):null}:{x:k!=null?u.scale(k):null,y:T.y}}):C=w?f.scale(b):u.scale(b),{points:S,baseLine:C,isRange:A}}class Ni extends _.PureComponent{render(){return _.createElement(k_,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},_.createElement(A_,{legendPayload:LI(this.props)}),_.createElement(P_,{fn:II,args:this.props}),_.createElement(KI,this.props))}}Wl(Ni,"displayName","Area");Wl(Ni,"defaultProps",G_);function py(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?py(Object(r),!0).forEach(function(n){GI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):py(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GI(e,t,r){return(t=VI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VI(e){var t=XI(e,"string");return typeof t=="symbol"?t:t+""}function XI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JI={xAxis:{},yAxis:{},zAxis:{}},V_=kr({name:"cartesianAxis",initialState:JI,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=gy(gy({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:QI,removeXAxis:e5,addYAxis:t5,removeYAxis:r5,addZAxis:J3,removeZAxis:Q3,updateYAxisWidth:n5}=V_.actions,i5=V_.reducer,a5=["children"],s5=["dangerouslySetInnerHTML","ticks"];function X_(e,t,r){return(t=o5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o5(e){var t=l5(e,"string");return typeof t=="symbol"?t:t+""}function l5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(null,arguments)}function J_(e,t){if(e==null)return{};var r,n,s=c5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function c5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function u5(e){var t=dt(),r=_.useMemo(()=>{var{children:o}=e,c=J_(e,a5);return c},[e]),n=fe(o=>Sn(o,r.id)),s=r===n;return _.useEffect(()=>(t(QI(r)),()=>{t(e5(r))}),[r,t]),s?e.children:null}var d5=e=>{var{xAxisId:t,className:r}=e,n=fe(Wx),s=Jt(),o="xAxis",c=fe(x=>Na(x,o,t,s)),u=fe(x=>Rb(x,o,t,s)),f=fe(x=>Mb(x,t)),m=fe(x=>gT(x,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=e,v=J_(e,s5);return _.createElement(Sa,Gd({},v,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:Ke("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:u}))},f5=e=>{var t,r,n,s,o;return _.createElement(u5,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter},_.createElement(d5,e))};class ws extends _.Component{render(){return _.createElement(f5,this.props)}}X_(ws,"displayName","XAxis");X_(ws,"defaultProps",{allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,height:nr.height,hide:!1,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tickCount:nr.tickCount,type:nr.type,xAxisId:0});var h5=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:o=0}=e,c=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>c&&(c=p.width)}});var u=r?r.getBoundingClientRect().width:0,f=s+o,m=c+f+u+(r?n:0);return Math.round(m)}return 0},m5=["dangerouslySetInnerHTML","ticks"];function Q_(e,t,r){return(t=p5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p5(e){var t=g5(e,"string");return typeof t=="symbol"?t:t+""}function g5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(null,arguments)}function v5(e,t){if(e==null)return{};var r,n,s=y5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function y5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function x5(e){var t=dt();return _.useEffect(()=>(t(t5(e)),()=>{t(r5(e))}),[e,t]),null}var b5=e=>{var t,{yAxisId:r,className:n,width:s,label:o}=e,c=_.useRef(null),u=_.useRef(null),f=fe(Wx),m=Jt(),h=dt(),p="yAxis",v=fe(C=>Na(C,p,r,m)),x=fe(C=>Db(C,r)),j=fe(C=>vT(C,r)),b=fe(C=>Rb(C,p,r,m));if(_.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!x||qh(o)||_.isValidElement(o))){var T=c.current,k=T==null||(C=T.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:O,tickMargin:I}=T.props,F=h5({ticks:k,label:u.current,labelGapWithTick:5,tickSize:O,tickMargin:I});Math.round(x.width)!==Math.round(F)&&h(n5({id:r,width:F}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,x==null?void 0:x.width,x,h,o,r,s]),x==null||j==null)return null;var{dangerouslySetInnerHTML:w,ticks:A}=e,S=v5(e,m5);return _.createElement(Sa,Vd({},S,{ref:c,labelRef:u,scale:v,x:j.x,y:j.y,width:x.width,height:x.height,className:Ke("recharts-".concat(p," ").concat(p),n),viewBox:f,ticks:b}))},_5=e=>{var t,r,n,s,o;return _.createElement(_.Fragment,null,_.createElement(x5,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter}),_.createElement(b5,e))},w5={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,hide:!1,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tickCount:ir.tickCount,type:ir.type,width:ir.width,yAxisId:0};class js extends _.Component{render(){return _.createElement(_5,this.props)}}Q_(js,"displayName","YAxis");Q_(js,"defaultProps",w5);var Yu={exports:{}},Gu={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function j5(){if(vy)return Gu;vy=1;var e=Qd();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Gu.useSyncExternalStoreWithSelector=function(f,m,h,p,v){var x=s(null);if(x.current===null){var j={hasValue:!1,value:null};x.current=j}else j=x.current;x=c(function(){function w(k){if(!A){if(A=!0,S=k,k=p(k),v!==void 0&&j.hasValue){var O=j.value;if(v(O,k))return C=O}return C=k}if(O=C,r(S,k))return O;var I=p(k);return v!==void 0&&v(O,I)?(S=k,O):(S=k,C=I)}var A=!1,S,C,T=h===void 0?null:h;return[function(){return w(m())},T===null?void 0:function(){return w(T())}]},[m,h,p,v]);var b=n(f,x[0],x[1]);return o(function(){j.hasValue=!0,j.value=b},[b]),u(b),b},Gu}var yy;function N5(){return yy||(yy=1,Yu.exports=j5()),Yu.exports}N5();function P5(e){e()}function A5(){let e=null,t=null;return{clear(){e=null,t=null},notify(){P5(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var xy={notify(){},get:()=>[]};function S5(e,t){let r,n=xy,s=0,o=!1;function c(b){h();const w=n.subscribe(b);let A=!1;return()=>{A||(A=!0,w(),p())}}function u(){n.notify()}function f(){j.onStateChange&&j.onStateChange()}function m(){return o}function h(){s++,r||(r=e.subscribe(f),n=A5())}function p(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=xy)}function v(){o||(o=!0,h())}function x(){o&&(o=!1,p())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>n};return j}var C5=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O5=C5(),k5=()=>typeof navigator<"u"&&navigator.product==="ReactNative",T5=k5(),E5=()=>O5||T5?_.useLayoutEffect:_.useEffect,M5=E5(),Vu=Symbol.for("react-redux-context"),Xu=typeof globalThis<"u"?globalThis:{};function D5(){var r;if(!_.createContext)return{};const e=(r=Xu[Vu])!=null?r:Xu[Vu]=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var L5=D5();function I5(e){const{children:t,context:r,serverState:n,store:s}=e,o=_.useMemo(()=>{const f=S5(s);return{store:s,subscription:f,getServerState:n?()=>n:void 0}},[s,n]),c=_.useMemo(()=>s.getState(),[s]);M5(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,c]);const u=r||L5;return _.createElement(u.Provider,{value:o},t)}var R5=I5,z5=(e,t)=>t,Gh=U([z5,Ue,Ok,Ot,Jb,Cn,xE,At],NE),Vh=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ew=Cr("mouseClick"),tw=As();tw.startListening({actionCreator:ew,effect:(e,t)=>{var r=e.payload,n=Gh(t.getState(),Vh(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(kT({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Xd=Cr("mouseMove"),rw=As();rw.startListening({actionCreator:Xd,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Eh(n,n.tooltip.settings.shared),o=Gh(n,Vh(r));s==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(Zb({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Ub()))}});function $5(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var by={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},nw=kr({name:"rootProps",initialState:by,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:by.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),B5=nw.reducer,{updateOptions:F5}=nw.actions,iw=kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:e4}=iw.actions,q5=iw.reducer,aw=Cr("keyDown"),sw=Cr("focus"),Xh=As();Xh.startListening({actionCreator:aw,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=Number(Mh(s,$i(r))),u=Cn(r);if(o==="Enter"){var f=Jo(r,"axis","hover",String(s.index));t.dispatch(zd({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=_T(r),h=m==="left-to-right"?1:-1,p=o==="ArrowRight"?1:-1,v=c+p*h;if(!(u==null||v>=u.length||v<0)){var x=Jo(r,"axis","hover",String(v));t.dispatch(zd({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Xh.startListening({actionCreator:sw,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var o="0",c=Jo(r,"axis","hover",String(o));t.dispatch(zd({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:c}))}}}});var jr=Cr("externalEvent"),ow=As();ow.startListening({actionCreator:jr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:uE(r),activeDataKey:r_(r),activeIndex:Ei(r),activeLabel:t_(r),activeTooltipIndex:Ei(r),isTooltipActive:dE(r)};e.payload.handler(n,e.payload.reactEvent)}}});var W5=U([Pa],e=>e.tooltipItemPayloads),U5=U([W5,Ds,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(u=>u.settings.dataKey===n);if(s!=null){var{positions:o}=s;if(o!=null){var c=t(o,r);return c}}}),lw=Cr("touchMove"),cw=As();cw.startListening({actionCreator:lw,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Eh(n,n.tooltip.settings.shared);if(s==="axis"){var o=Gh(n,Vh({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(Zb({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var c,u=r.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(k2),h=(c=f.getAttribute(T2))!==null&&c!==void 0?c:void 0,p=U5(t.getState(),m,h);t.dispatch(Wb({activeDataKey:h,activeIndex:m,activeCoordinate:p}))}}});var Z5=xx({brush:eI,cartesianAxis:i5,chartData:BE,graphicalItems:oD,layout:e2,legend:K2,options:LE,polarAxis:eD,polarOptions:q5,referenceElements:oI,rootProps:B5,tooltip:TT}),K5=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return PP({reducer:Z5,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([tw.middleware,rw.middleware,Xh.middleware,ow.middleware,cw.middleware]),devTools:{serialize:{replacer:$5},name:"recharts-".concat(r)}})};function H5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Jt(),o=_.useRef(null);if(s)return r;o.current==null&&(o.current=K5(t,n));var c=Sf;return _.createElement(R5,{context:c,store:o.current},r)}function Y5(e){var{layout:t,width:r,height:n,margin:s}=e,o=dt(),c=Jt();return _.useEffect(()=>{c||(o(XP(t)),o(JP({width:r,height:n})),o(VP(s)))},[o,c,t,r,n,s]),null}function G5(e){var t=dt();return _.useEffect(()=>{t(F5(e))},[t,e]),null}var V5=["children"];function X5(e,t){if(e==null)return{};var r,n,s=J5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function J5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(null,arguments)}var Q5={width:"100%",height:"100%"},e3=_.forwardRef((e,t)=>{var r=Ux(),n=Zx(),s=Hx();if(!zo(r)||!zo(n))return null;var{children:o,otherAttributes:c,title:u,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,_.createElement(pf,il({},c,{title:u,desc:f,role:h,tabIndex:m,width:r,height:n,style:Q5,ref:t}),o)}),t3=e=>{var{children:t}=e,r=fe(wl);if(!r)return null;var{width:n,height:s,y:o,x:c}=r;return _.createElement(pf,{width:n,height:s,x:c,y:o},t)},_y=_.forwardRef((e,t)=>{var{children:r}=e,n=X5(e,V5),s=Jt();return s?_.createElement(t3,null,r):_.createElement(e3,il({ref:t},n),r)});function r3(){var e=dt(),[t,r]=_.useState(null),n=fe(O2);return _.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;Dt(o)&&o!==n&&e(QP(o))}},[t,e,n]),r}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(n){i3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i3(e,t,r){return(t=a3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3(e){var t=s3(e,"string");return typeof t=="symbol"?t:t+""}function s3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o3=_.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:o,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:x,onTouchMove:j,onTouchStart:b,style:w,width:A}=e,S=dt(),[C,T]=_.useState(null),[k,O]=_.useState(null);WE();var I=r3(),F=_.useCallback(D=>{I(D),typeof t=="function"&&t(D),T(D),O(D)},[I,t,T,O]),K=_.useCallback(D=>{S(ew(D)),S(jr({handler:o,reactEvent:D}))},[S,o]),Y=_.useCallback(D=>{S(Xd(D)),S(jr({handler:m,reactEvent:D}))},[S,m]),Q=_.useCallback(D=>{S(Ub()),S(jr({handler:h,reactEvent:D}))},[S,h]),X=_.useCallback(D=>{S(Xd(D)),S(jr({handler:p,reactEvent:D}))},[S,p]),te=_.useCallback(()=>{S(sw())},[S]),de=_.useCallback(D=>{S(aw(D.key))},[S]),be=_.useCallback(D=>{S(jr({handler:c,reactEvent:D}))},[S,c]),pe=_.useCallback(D=>{S(jr({handler:u,reactEvent:D}))},[S,u]),Te=_.useCallback(D=>{S(jr({handler:f,reactEvent:D}))},[S,f]),q=_.useCallback(D=>{S(jr({handler:v,reactEvent:D}))},[S,v]),ce=_.useCallback(D=>{S(jr({handler:b,reactEvent:D}))},[S,b]),G=_.useCallback(D=>{S(lw(D)),S(jr({handler:j,reactEvent:D}))},[S,j]),he=_.useCallback(D=>{S(jr({handler:x,reactEvent:D}))},[S,x]);return _.createElement(c_.Provider,{value:C},_.createElement(qy.Provider,{value:k},_.createElement("div",{className:Ke("recharts-wrapper",n),style:n3({position:"relative",cursor:"default",width:A,height:s},w),onClick:K,onContextMenu:be,onDoubleClick:pe,onFocus:te,onKeyDown:de,onMouseDown:Te,onMouseEnter:Y,onMouseLeave:Q,onMouseMove:X,onMouseUp:q,onTouchEnd:he,onTouchMove:G,onTouchStart:ce,ref:F},r)))}),l3=["children","className","width","height","style","compact","title","desc"];function c3(e,t){if(e==null)return{};var r,n,s=u3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function u3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d3=_.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:o,style:c,compact:u,title:f,desc:m}=e,h=c3(e,l3),p=Be(h,!1);return u?_.createElement(_y,{otherAttributes:p,title:f,desc:m},r):_.createElement(o3,{className:n,style:c,width:s,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(_y,{otherAttributes:p,title:f,desc:m,ref:t},_.createElement(cI,null,r)))}),f3=["width","height"];function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(null,arguments)}function h3(e,t){if(e==null)return{};var r,n,s=m3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function m3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p3={top:5,right:5,bottom:5,left:5},g3={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:p3,reverseStackOrder:!1,syncMethod:"index"},uw=_.forwardRef(function(t,r){var n,s=Vn(t.categoricalChartProps,g3),{width:o,height:c}=s,u=h3(s,f3);if(!zo(o)||!zo(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:v}=t,x={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(H5,{preloadedState:{options:x},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:f},_.createElement(QL,{chartData:v.data}),_.createElement(Y5,{width:o,height:c,layout:s.layout,margin:s.margin}),_.createElement(G5,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),_.createElement(d3,Jd({},u,{width:o,height:c,ref:r})))}),v3=["axis","item"],y3=_.forwardRef((e,t)=>_.createElement(uw,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v3,tooltipPayloadSearcher:u_,categoricalChartProps:e,ref:t})),x3=["axis"],dw=_.forwardRef((e,t)=>_.createElement(uw,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:x3,tooltipPayloadSearcher:u_,categoricalChartProps:e,ref:t}));async function b3(){const e=await xj(),t={};return e.forEach(r=>{const n=r.cropType||"Unknown";t[n]=(t[n]||0)+1}),t}Ns.register(sf,sl,ol);const _3=({formData:e,setFormData:t,setShowMapModal:r,setMapMode:n,selectedLocation:s,setSelectedLocation:o})=>{const{data:c=[],isLoading:u,refetch:f}=of(),{data:m=[],isLoading:h}=lf(),p=Ty(),v=Ey(),[x,j]=_.useState(!1),[b,w]=_.useState(""),[A,S]=_.useState("monthly"),[C,T]=_.useState(new Date().getFullYear()),k=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,[O,I]=_.useState(null),[F,K]=_.useState(!1),[Y,Q]=_.useState(null),[X,te]=_.useState(!1),[de,be]=_.useState({}),pe=_.useMemo(()=>{const D={};return m.forEach(V=>{const se=V.farmerId;console.log("Processing insurance for farmer ID:",se,"Crop:",V.cropType),D[se]||(D[se]=[]),D[se].push(V)}),console.log("Grouped crop insurance data:",D),D},[m]);_.useEffect(()=>{async function D(){const V=await b3();be(V)}D()},[]);const Te=D=>{const V=D._id||D.id;console.log("Getting insured crops for farmer:",D.farmerName,"ID:",V),console.log("Available crop insurance data:",pe);let se=pe[V]||[];if(se.length===0){const re=D.farmerName||`${D.firstName||""} ${D.middleName||""} ${D.lastName||""}`.trim();console.log("Trying to match by farmer name:",re),Object.values(pe).flat().forEach(Ne=>{var ze,J;(Ne.farmerName===re||((ze=Ne.farmerId)==null?void 0:ze.firstName)===D.firstName||((J=Ne.farmerId)==null?void 0:J.lastName)===D.lastName)&&se.push(Ne)})}if(console.log("Insurance records for this farmer:",se),se.length===0)return D.cropType||"No crops insured";const ae=[...new Set(se.map(re=>re.cropType))];return console.log("Insured crops for this farmer:",ae),ae.join(", ")},q=()=>{const D=C;if(A==="monthly"){const V=[],se=["January","February","March","April","May","June","July","August","September","October","November","December"];for(let ae=0;ae<12;ae++){const re=c.filter(Ne=>{const ze=Ne.registrationDate||Ne.createdAt||Ne.date||Ne.registeredAt;if(!ze)return!1;let J;try{if(J=new Date(ze),isNaN(J.getTime()))return!1}catch{return!1}return J.getFullYear()===D&&J.getMonth()===ae}).length;V.push({period:se[ae],month:ae+1,count:re,cumulative:V.length>0?V[V.length-1].cumulative+re:re})}return V}else{const V=[],se=["Q1","Q2","Q3","Q4"];for(let ae=0;ae<4;ae++){const re=ae*3,Ne=re+2,ze=c.filter(J=>{const W=J.registrationDate||J.createdAt||J.date||J.registeredAt;if(!W)return!1;let ee;try{if(ee=new Date(W),isNaN(ee.getTime()))return!1}catch{return!1}const Z=ee.getMonth();return ee.getFullYear()===D&&Z>=re&&Z<=Ne}).length;V.push({period:se[ae],quarter:ae+1,count:ze,cumulative:V.length>0?V[V.length-1].cumulative+ze:ze})}return V}},ce=D=>{const{name:V,value:se,type:ae,checked:re}=D.target;t(Ne=>({...Ne,[V]:ae==="checkbox"?re:se}))},G=async D=>{D.preventDefault();const V={...e,farmerName:`${e.firstName} ${e.middleName} ${e.lastName}`.trim(),location:s,registrationDate:new Date().toISOString()};try{const se=await p.mutateAsync(V);je.getState().addAdminNotification({id:k(),type:"success",title:"Farmer Registered Successfully",message:`New farmer ${V.farmerName} has been registered successfully.`,timestamp:new Date}),je.getState().addFarmerNotification({id:k(),type:"success",title:"Registration Successful",message:`Welcome ${V.farmerName}! Your account has been created successfully. You can now log in with your credentials.`,timestamp:new Date},se._id),t({firstName:"",middleName:"",lastName:"",birthday:"",gender:"",contactNum:"",address:"",cropArea:"",lotNumber:"",lotArea:"",agency:"",isCertified:!1,periodFrom:"",periodTo:"",username:"",password:"",rsbsaRegistered:!1}),o(null),j(!1)}catch(se){je.getState().addAdminNotification({id:k(),type:"error",title:"Registration Failed",message:"Failed to register farmer. Please try again.",timestamp:new Date}),console.error(se)}};_.useEffect(()=>{},[s]);const he=c.filter(D=>{var V;return!(e.isCertified!==""&&e.isCertified!==void 0&&e.isCertified!==null&&D.isCertified!==e.isCertified||e.cropType&&e.cropType!==""&&(D.cropType||"")!==e.cropType||e.barangay&&e.barangay!==""&&((V=(D.address||"").split(",")[0])==null?void 0:V.trim())!==e.barangay||e.availedItems&&e.availedItems!==""&&!(Array.isArray(D.availedItems)?D.availedItems:typeof D.availedItems=="string"?[D.availedItems]:[]).includes(e.availedItems)&&!(D.insuranceType||"").toLowerCase().includes((e.availedItems||"").toLowerCase())||b&&b!==""&&!(D.farmerName||`${D.firstName||""} ${D.middleName||""} ${D.lastName||""}`.replace(/  +/g," ").trim()).toLowerCase().includes(b.toLowerCase()))});return a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Un,{size:24,className:"text-lime-600 mr-2"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Farmer Registration"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[a.jsxs("button",{className:"bg-lime-600 text-white px-4 py-2 rounded-lg hover:bg-lime-700 transition-colors flex items-center justify-center shadow-sm",onClick:()=>j(!0),children:[a.jsx(Un,{className:"mr-2 h-5 w-5"}),"Register New Farmer"]}),a.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center shadow-sm",onClick:()=>{console.log("Manual refresh triggered"),f()},disabled:u||h,children:[a.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),u||h?"Refreshing...":"Refresh Data"]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(rd,{size:20,className:"text-blue-600 mr-2"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Farm List"})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",a.jsx("span",{className:"font-semibold",children:c.length})," farmers"]})]}),a.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-lime-50 to-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center border border-lime-100",children:[a.jsx(pn,{className:"h-6 w-6 text-lime-600 mb-2"}),a.jsx("span",{className:"text-xs font-semibold text-lime-700 mb-1",children:"Crop Type"}),a.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-lime-500 text-sm",value:e.cropType||"",onChange:D=>t(V=>({...V,cropType:D.target.value})),children:[a.jsx("option",{value:"",children:"All Crops"}),[...new Set(c.map(D=>D.cropType))].filter(Boolean).map((D,V)=>a.jsx("option",{value:D,children:D},V))]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center border border-blue-100",children:[a.jsx(Lr,{className:"h-6 w-6 text-blue-600 mb-2"}),a.jsx("span",{className:"text-xs font-semibold text-blue-700 mb-1",children:"Barangay"}),a.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:e.barangay||"",onChange:D=>t(V=>({...V,barangay:D.target.value})),children:[a.jsx("option",{value:"",children:"All Barangays"}),[...new Set(c.map(D=>{var V,se;return(se=(V=D.address)==null?void 0:V.split(",")[0])==null?void 0:se.trim()}).filter(Boolean))].map((D,V)=>a.jsx("option",{value:D,children:D},V))]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center border border-yellow-100",children:[a.jsx(zr,{className:"h-6 w-6 text-yellow-600 mb-2"}),a.jsx("span",{className:"text-xs font-semibold text-yellow-700 mb-1",children:"Availed Items"}),a.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",value:e.availedItems||"",onChange:D=>t(V=>({...V,availedItems:D.target.value})),children:[a.jsx("option",{value:"",children:"All Items"}),a.jsx("option",{value:"seeds",children:"Seeds"}),a.jsx("option",{value:"fertilizer",children:"Fertilizer"}),a.jsx("option",{value:"pesticides",children:"Pesticides"}),a.jsx("option",{value:"equipment",children:"Equipment"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center border border-emerald-100",children:[a.jsx(Ar,{className:"h-6 w-6 text-emerald-600 mb-2"}),a.jsx("span",{className:"text-xs font-semibold text-emerald-700 mb-1",children:"Certification"}),a.jsxs("select",{className:"w-full border border-gray-200 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 text-sm",value:e.isCertified===!0?"yes":e.isCertified===!1?"no":"",onChange:D=>{const V=D.target.value==="yes"?!0:D.target.value==="no"?!1:"";t(se=>({...se,isCertified:V}))},children:[a.jsx("option",{value:"",children:"All Certifications"}),a.jsx("option",{value:"yes",children:"Certified"}),a.jsx("option",{value:"no",children:"Not Certified"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-lg p-4 flex flex-col items-center text-center border border-gray-100",children:[a.jsx(Zn,{className:"h-6 w-6 text-gray-600 mb-2"}),a.jsx("span",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Search"}),a.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm",placeholder:"Search by name",value:b,onChange:D=>w(D.target.value)})]})]}),a.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-6 mb-6",children:[a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-lime-700 flex items-center gap-2",children:[a.jsx(rd,{className:"h-5 w-5 text-lime-600"})," Registered Farmers Over Time"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Period:"}),a.jsxs("select",{value:A,onChange:D=>S(D.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent",children:[a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"quarterly",children:"Quarterly"})]}),a.jsx("select",{value:C,onChange:D=>T(parseInt(D.target.value)),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent",children:Array.from({length:5},(D,V)=>new Date().getFullYear()-V).map(D=>a.jsx("option",{value:D,children:D},D))})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(qd,{width:"100%",height:"100%",children:a.jsxs(dw,{data:q(),margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx(ws,{dataKey:"period",stroke:"#6b7280",fontSize:12,tick:{fontSize:10}}),a.jsx(js,{stroke:"#6b7280",fontSize:12,allowDecimals:!1,label:{value:"Number of Registered Farmers",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:12}}}),a.jsx(Fd,{formatter:(D,V)=>[`${D} farmers`,V==="cumulative"?"Total Registered":"New Registrations"],labelFormatter:D=>`${D} ${C}`}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"farmerGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.8}),a.jsx("stop",{offset:"95%",stopColor:"#bbf7d0",stopOpacity:.3})]})}),a.jsx(Ni,{type:"monotone",dataKey:"cumulative",stroke:"#22c55e",fill:"url(#farmerGradient)",strokeWidth:3,name:"cumulative"}),a.jsx(Ni,{type:"monotone",dataKey:"count",stroke:"#059669",fill:"#10b981",fillOpacity:.4,strokeWidth:2,name:"count"})]})})})]}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 text-emerald-700 flex items-center gap-2",children:[a.jsx(pn,{className:"h-5 w-5 text-emerald-600"})," Crop Type Distribution"]}),a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsx(al,{data:{labels:Object.keys(de),datasets:[{data:Object.values(de),backgroundColor:["#bbf7d0","#6ee7b7","#34d399","#10b981","#059669","#047857","#065f46","#fef08a","#fde68a","#fca5a5","#f87171","#a7f3d0","#f9fafb"],borderColor:"#fff",borderWidth:2}]},options:{cutout:"70%",plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:16}},tooltip:{enabled:!0}}}})})]})]}),he.length>0?a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 table-auto",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 rounded-tl-lg whitespace-normal break-words",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-normal break-words",children:"Address"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-normal break-words",children:"Crop"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-normal break-words",children:"Lot No."}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-normal break-words",children:"Lot Area"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-normal break-words",children:"Certified"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 whitespace-normal break-words",children:"Location"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 rounded-tr-lg whitespace-normal break-words",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:he.map((D,V)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm font-medium text-gray-900",children:D.farmerName||`${D.firstName||""} ${D.middleName||""} ${D.lastName||""}`.replace(/  +/g," ").trim()}),a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm text-gray-500",children:D.address}),a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm text-gray-500",children:h?a.jsx("span",{className:"text-gray-400",children:"Loading..."}):a.jsx("span",{className:"font-medium text-green-600",children:Te(D)})}),a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm text-gray-500",children:D.lotNumber}),a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm text-gray-500",children:D.lotArea}),a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm text-gray-500",children:D.isCertified?a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-lime-800 rounded-full text-xs font-medium",children:[a.jsx(Ar,{size:12,className:"inline mr-1"})," Yes"]}):a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-medium",children:"No"})}),a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm text-gray-500",children:D.location?a.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center",children:[a.jsx(Lr,{className:"h-4 w-4 mr-1"}),"View"]}):a.jsxs("button",{className:"text-gray-500 hover:text-gray-700 flex items-center",children:[a.jsx(oa,{className:"h-4 w-4 mr-1"}),"Add"]})}),a.jsx("td",{className:"px-4 py-4 whitespace-normal break-words text-sm text-gray-500",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>{I(D),K(!0)},className:"text-blue-600 hover:text-blue-800 font-medium flex items-center",children:[a.jsx(Ir,{size:14,className:"mr-1"}),"View"]}),a.jsxs("button",{onClick:()=>{console.log("Delete button clicked for farmer:",D),Q(D),te(!0),console.log("Modal should be open now")},className:"text-red-600 hover:text-red-800 font-medium flex items-center",children:[a.jsx(nt,{size:14,className:"mr-1"}),"Delete"]})]})})]},V))})]})}):a.jsxs("div",{className:"p-10 text-center mb-6",children:[a.jsx(Un,{size:48,className:"mx-auto text-gray-300 mb-3"}),a.jsx("p",{className:"text-gray-500 italic",children:"No farmers match the current filters."}),a.jsx("button",{className:"mt-4 bg-lime-600 text-white px-4 py-2 rounded-lg hover:bg-lime-700 transition-colors",onClick:()=>{t({...e,isCertified:"",cropType:"",address:"",availedItems:""}),w("")},children:"Reset Filters"})]}),x&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 text-white p-5 rounded-t-xl flex justify-between items-center",style:{backgroundColor:"rgb(43, 158, 102)"},children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Register a New Farmer"}),a.jsx("button",{className:"text-white hover:text-gray-200 focus:outline-none",onClick:()=>j(!1),children:a.jsx(nt,{size:24})})]}),a.jsx("div",{className:"p-6 md:p-8",children:a.jsxs("form",{onSubmit:G,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl shadow-lg p-4 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Ir,{size:20,className:"text-blue-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Personal Information"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ir,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"firstName",value:e.firstName||"",onChange:ce,placeholder:"Enter first name",className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),a.jsx("input",{type:"text",name:"middleName",value:e.middleName||"",onChange:ce,placeholder:"Enter middle name (optional)",className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),a.jsx("input",{type:"text",name:"lastName",value:e.lastName||"",onChange:ce,placeholder:"Enter last name",className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birthday"}),a.jsx("input",{type:"date",name:"birthday",value:e.birthday||"",onChange:ce,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),a.jsxs("select",{name:"gender",value:e.gender||"",onChange:ce,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),a.jsx("input",{type:"tel",name:"contactNum",value:e.contactNum||"",onChange:ce,placeholder:"Enter contact number (e.g., 09123456789)",className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-white rounded-xl shadow-lg p-4 border border-green-200",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Lr,{size:20,className:"text-green-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Address Information"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto cursor-pointer",onClick:()=>{r(!0),n("add")},children:a.jsx(Lr,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"address",value:e.address||"",onChange:ce,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all",required:!0,readOnly:!0,placeholder:"Click the map icon to select location"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the map icon to select location automatically"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto cursor-pointer",onClick:()=>{r(!0),n("add")},children:a.jsx(Lr,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"address",value:e.address||"",onChange:ce,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0,readOnly:!0,placeholder:"Click the map icon to select location"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click the map icon to select location automatically"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-white rounded-xl shadow-lg p-4 border border-yellow-200",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(pn,{size:20,className:"text-yellow-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Farm Information"})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crop Area (hectares)"}),a.jsx("input",{type:"text",name:"cropArea",value:e.cropArea||"",onChange:ce,placeholder:"Enter crop area in hectares (e.g., 2.5)",className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all",required:!0})]})})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-white rounded-xl shadow-lg p-4 border border-orange-200",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Lr,{size:20,className:"text-orange-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-800",children:"Lot Information"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lot Number"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Lr,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"lotNumber",value:e.lotNumber||"",onChange:ce,placeholder:"Enter lot number (e.g., Lot 123)",className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lot Area"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pn,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"lotArea",value:e.lotArea||"",onChange:ce,placeholder:"Enter lot area (e.g., 1.5 hectares)",className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agency"}),a.jsx("input",{type:"text",name:"agency",value:e.agency||"",onChange:ce,placeholder:"Enter agency name (e.g., DA-PCIC, LGU)",className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[a.jsx("input",{type:"checkbox",id:"isCertified",name:"isCertified",checked:e.isCertified||!1,onChange:ce,className:"w-5 h-5 text-lime-600 rounded focus:ring-lime-500"}),a.jsx("label",{htmlFor:"isCertified",className:"text-gray-700 font-medium",children:"Certified Farmer"})]}),a.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[a.jsx("input",{type:"checkbox",id:"rsbsaRegistered",name:"rsbsaRegistered",checked:e.rsbsaRegistered||!1,onChange:ce,className:"w-5 h-5 text-lime-600 rounded focus:ring-lime-500"}),a.jsxs("label",{htmlFor:"rsbsaRegistered",className:"text-gray-700 font-medium",children:["RSBSA Registered ",a.jsx("span",{className:"text-xs text-gray-500",children:"(Required to avail government assistance)"})]})]}),a.jsxs("div",{className:"md:col-span-2 border-t border-gray-200 pt-6 mt-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ir,{className:"mr-2 h-5 w-5 text-lime-600"}),"Farmer Account Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ir,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"username",value:e.username||"",onChange:ce,placeholder:"Enter username for farmer login",className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(zr,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"password",name:"password",value:e.password||"",onChange:ce,placeholder:"Enter password for farmer login",className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"This account will be used by the farmer to access their dashboard and submit claims."})]}),a.jsxs("div",{className:"md:col-span-2 flex gap-4 pt-6",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 bg-gray-200 text-gray-800 px-4 py-3 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"flex-1 bg-lime-700 text-white px-4 py-3 rounded-lg hover:bg-lime-800 transition-colors flex items-center justify-center",children:[a.jsx(Un,{className:"mr-2 h-5 w-5"}),"Register Farmer"]})]})]})})]})}),F&&O&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-30 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Farmer Details"}),a.jsx("button",{onClick:()=>K(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-lime-800 mb-3 flex items-center gap-2",children:[a.jsx(Ir,{size:20})," Personal Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:O.farmerName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Birthday"}),a.jsx("p",{className:"font-medium",children:O.birthday||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Gender"}),a.jsx("p",{className:"font-medium",children:O.gender||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Contact Number"}),a.jsx("p",{className:"font-medium",children:O.contactNum||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Address"}),a.jsx("p",{className:"font-medium",children:O.address})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Farm Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Type"}),a.jsx("p",{className:"font-medium",children:O.cropType})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Area"}),a.jsxs("p",{className:"font-medium",children:[O.cropArea," hectares"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Lot Number"}),a.jsx("p",{className:"font-medium",children:O.lotNumber||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Lot Area"}),a.jsx("p",{className:"font-medium",children:O.lotArea||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Certified"}),a.jsx("p",{className:"font-medium",children:O.isCertified?a.jsxs("span",{className:"text-green-600 flex items-center",children:[a.jsx(Ar,{size:16,className:"mr-1"})," Yes"]}):a.jsx("span",{className:"text-gray-600",children:"No"})})]})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Insurance Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Insurance Type"}),a.jsx("p",{className:"font-medium",children:O.insuranceType||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Premium Amount"}),a.jsx("p",{className:"font-medium",children:O.premiumAmount||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Agency"}),a.jsx("p",{className:"font-medium",children:O.agency||"Not provided"})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>K(!1),className:"bg-lime-700 text-white px-6 py-2 rounded-lg hover:bg-lime-800 transition",children:"Close"})})]})]})}),X&&Y&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-30 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[a.jsx(Pr,{className:"mr-2 text-red-500",size:24}),"Delete Farmer"]}),a.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete ",a.jsx("strong",{children:Y.farmerName}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{console.log("Cancel button clicked"),te(!1),Q(null)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:async()=>{console.log("Delete confirmation button clicked");try{console.log("Attempting to delete farmer:",Y);const D=Y._id||Y.id;if(console.log("Using farmer ID:",D),!D)throw new Error("No valid farmer ID found");await v.mutateAsync(D),te(!1),Q(null),je.getState().addAdminNotification({id:k(),type:"success",title:"Farmer Deleted",message:`${Y.farmerName} has been deleted successfully from the database.`,timestamp:new Date}),je.getState().addFarmerNotification({id:k(),type:"warning",title:"Account Deleted",message:"Your account has been deleted by the administrator. Please contact support if you believe this is an error.",timestamp:new Date},D)}catch(D){console.error("Error deleting farmer:",D),je.getState().addAdminNotification({id:k(),type:"error",title:"Delete Failed",message:`Failed to delete ${Y.farmerName}: ${D.message}`,timestamp:new Date})}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[a.jsx(nt,{size:16,className:"mr-1"}),"Delete"]})]})]})})]})},w3=()=>a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Qu,{size:24,className:"text-lime-600 mr-2"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Admin Settings"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[a.jsx(Qu,{size:18,className:"text-gray-500 mr-2"}),"System Configuration"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"System Email"}),a.jsx("input",{type:"email",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500",defaultValue:"admin@agriinsurance.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification Settings"}),a.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500",children:[a.jsx("option",{children:"All notifications"}),a.jsx("option",{children:"Important only"}),a.jsx("option",{children:"None"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Language"}),a.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500",children:[a.jsx("option",{children:"English"}),a.jsx("option",{children:"Spanish"}),a.jsx("option",{children:"French"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Zone"}),a.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500",children:[a.jsx("option",{children:"UTC (Coordinated Universal Time)"}),a.jsx("option",{children:"EST (Eastern Standard Time)"}),a.jsx("option",{children:"PST (Pacific Standard Time)"})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[a.jsx(rd,{size:18,className:"text-gray-500 mr-2"}),"User Management"]}),a.jsxs("button",{className:"bg-lime-600 text-white px-4 py-2 rounded-lg hover:bg-lime-700 transition-colors flex items-center",children:[a.jsx(Un,{size:18,className:"mr-2"}),"Manage Admin Users"]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 flex items-center",children:[a.jsx($j,{size:18,className:"text-gray-500 mr-2"}),"Distribution Settings"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Payment Method"}),a.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500",children:[a.jsx("option",{children:"Bank Transfer"}),a.jsx("option",{children:"Mobile Money"}),a.jsx("option",{children:"Cash"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processing Time (Days)"}),a.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500",defaultValue:"7"})]})]})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsxs("button",{className:"bg-lime-600 text-white px-6 py-2 rounded-lg hover:bg-lime-700 transition-colors flex items-center",children:[a.jsx(Dy,{size:18,className:"mr-2"}),"Save Settings"]})})]})})]});Ns.register(sf,sl,ol,rf,nf,af);const j3=({claims:e=[],searchQuery:t="",setSearchQuery:r=()=>{},claimsTabView:n="pending",setClaimsTabView:s=()=>{},showClaimDetails:o=!1,setShowClaimDetails:c=()=>{},selectedClaim:u=null,showConfirmationModal:f=!1,setShowConfirmationModal:m=()=>{},confirmationAction:h={},openClaimDetails:p=()=>{},initiateStatusUpdate:v=()=>{},confirmStatusUpdate:x=()=>{}})=>{if(!Array.isArray(e)||e.length===0)return a.jsx("div",{className:"text-center py-10 text-gray-500 italic text-lg",children:"No claims found."});const j=e.filter(b=>{const w=n==="all"?!0:b.status&&b.status.toLowerCase()===n,A=b.name&&b.name.toLowerCase().includes(t.toLowerCase())||b.crop&&b.crop.toLowerCase().includes(t.toLowerCase());return w&&(t.trim()===""||A)});return a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(zr,{size:24,className:"text-lime-600 mr-2"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Insurance Claims"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-3 rounded-lg shadow-md border border-yellow-200 h-24",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-yellow-700 font-medium",children:"Pending Claims"}),a.jsx("h3",{className:"text-lg font-bold text-yellow-800",children:e.filter(b=>b.status==="pending").length})]}),a.jsx("div",{className:"p-1.5 bg-yellow-200 rounded-full",children:a.jsx(Pr,{size:16,className:"text-yellow-700"})})]}),a.jsx("div",{className:"h-1 bg-yellow-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-yellow-600 rounded-full transition-all duration-300",style:{width:`${e.filter(b=>b.status==="pending").length/e.length*100}%`}})}),a.jsxs("p",{className:"text-xs text-yellow-700 mt-1 font-medium",children:[e.length>0?(e.filter(b=>b.status==="pending").length/e.length*100).toFixed(1):"0.0","% of total"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-3 rounded-lg shadow-md border border-green-200 h-24",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-green-700 font-medium",children:"Approved Claims"}),a.jsx("h3",{className:"text-lg font-bold text-green-800",children:e.filter(b=>b.status==="approved").length})]}),a.jsx("div",{className:"p-1.5 bg-green-200 rounded-full",children:a.jsx(Ar,{size:16,className:"text-green-700"})})]}),a.jsx("div",{className:"h-1 bg-green-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-600 rounded-full transition-all duration-300",style:{width:`${e.filter(b=>b.status==="approved").length/e.length*100}%`}})}),a.jsxs("p",{className:"text-xs text-green-700 mt-1 font-medium",children:[e.length>0?(e.filter(b=>b.status==="approved").length/e.length*100).toFixed(1):"0.0","% of total"]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-3 rounded-lg shadow-md border border-red-200 h-24",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-red-700 font-medium",children:"Rejected Claims"}),a.jsx("h3",{className:"text-lg font-bold text-red-800",children:e.filter(b=>b.status==="rejected").length})]}),a.jsx("div",{className:"p-1.5 bg-red-200 rounded-full",children:a.jsx(Ga,{size:16,className:"text-red-700"})})]}),a.jsx("div",{className:"h-1 bg-red-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-600 rounded-full transition-all duration-300",style:{width:`${e.filter(b=>b.status==="rejected").length/e.length*100}%`}})}),a.jsxs("p",{className:"text-xs text-red-700 mt-1 font-medium",children:[e.length>0?(e.filter(b=>b.status==="rejected").length/e.length*100).toFixed(1):"0.0","% of total"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(Aj,{size:20,className:"text-emerald-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Status Comparison Over Time"})]}),a.jsx("div",{className:"h-[400px]",children:a.jsx(tf,{data:(()=>{const b=new Date().getFullYear(),A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((S,C)=>{const T=e.filter(k=>{const O=new Date(k.date);return O.getFullYear()===b&&O.getMonth()===C});return{month:S,pending:T.filter(k=>k.status==="pending").length,approved:T.filter(k=>k.status==="approved").length,rejected:T.filter(k=>k.status==="rejected").length}});return{labels:A.map(S=>S.month),datasets:[{label:"Pending",data:A.map(S=>S.pending),backgroundColor:"rgba(251, 191, 36, 0.8)",borderColor:"rgba(251, 191, 36, 1)",borderWidth:1},{label:"Approved",data:A.map(S=>S.approved),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1},{label:"Rejected",data:A.map(S=>S.rejected),backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:1}]}})(),options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,pointStyle:"rect",padding:20,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#10b981",borderWidth:1,callbacks:{label:function(b){const w=b.dataset.label||"",A=b.parsed.y;return`${w}: ${A} claims`}}}},scales:{x:{title:{display:!0,text:"Month",font:{size:14,weight:"bold"}},grid:{display:!1}},y:{title:{display:!0,text:"Number of Claims",font:{size:14,weight:"bold"}},beginAtZero:!0,grid:{display:!1}}}}})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx(kj,{size:20,className:"text-emerald-600 mr-2"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Claims Distribution"})]}),a.jsxs("div",{className:"relative",style:{height:"400px"},children:[a.jsx(al,{data:{labels:["Pending","Approved","Rejected"],datasets:[{data:[e.filter(b=>b.status==="pending").length,e.filter(b=>b.status==="approved").length,e.filter(b=>b.status==="rejected").length],backgroundColor:["rgba(251, 191, 36, 0.8)","rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgba(251, 191, 36, 1)","rgba(34, 197, 94, 1)","rgba(239, 68, 68, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:15,font:{size:11},color:"#1e40af"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"#3b82f6",borderWidth:1,callbacks:{label:function(b){const w=b.label||"",A=b.raw||0,S=b.dataset.data.reduce((T,k)=>T+k,0),C=S>0?(A/S*100).toFixed(1):"0.0";return`${w}: ${A} (${C}%)`}}}},cutout:"70%"}}),a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[a.jsx("div",{className:"text-3xl font-bold text-gray-800",children:e.length}),a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Claims"})]})]})]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2",children:a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>s("pending"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${n==="pending"?"bg-lime-100 text-lime-800":"text-gray-600 hover:bg-gray-100"}`,children:"Pending Claims"}),a.jsx("button",{onClick:()=>s("approved"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${n==="approved"?"bg-green-100 text-green-800":"text-gray-600 hover:bg-gray-100"}`,children:"Approved Claims"}),a.jsx("button",{onClick:()=>s("rejected"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${n==="rejected"?"bg-red-100 text-red-800":"text-gray-600 hover:bg-gray-100"}`,children:"Rejected Claims"})]})})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4",children:[a.jsxs("h3",{className:"text-lg font-medium",children:[n==="pending"&&"Pending Claims",n==="approved"&&"Approved Claims",n==="rejected"&&"Rejected Claims"]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Zn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search by name or crop...",value:t,onChange:b=>r(b.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full md:w-64 shadow-sm focus:outline-none focus:ring-2 focus:ring-lime-500"})]})]}),j.length===0?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(zr,{size:48,className:"mx-auto text-gray-300 mb-3"}),a.jsx("p",{className:"text-gray-500 italic",children:"No claims available matching your filters."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-2",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 bg-gray-50 rounded-l-lg font-semibold text-gray-600",children:"Claim ID"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Farmer Name"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Crop Type"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Date"}),a.jsx("th",{className:"p-3 bg-gray-50 font-semibold text-gray-600",children:"Status"}),a.jsx("th",{className:"p-3 bg-gray-50 rounded-r-lg font-semibold text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{children:j.sort((b,w)=>{const A=new Date(w.date)-new Date(b.date);if(A===0){const S=Number.parseFloat(b.degreeOfDamage)||Number.parseFloat(b.areaDamaged)||0;return(Number.parseFloat(w.degreeOfDamage)||Number.parseFloat(b.areaDamaged)||0)-S}return A}).map(b=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 border-b border-gray-200 font-medium",children:b.claimNumber||b._id}),a.jsx("td",{className:"p-3 border-b border-gray-200",children:b.name}),a.jsx("td",{className:"p-3 border-b border-gray-200",children:b.crop||b.cropType||"Unknown"}),a.jsx("td",{className:"p-3 border-b border-gray-200",children:new Date(b.date).toLocaleDateString()}),a.jsx("td",{className:"p-3 border-b border-gray-200 capitalize",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium inline-flex items-center
                          ${b.status==="approved"?"bg-green-100 text-lime-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[b.status==="approved"&&a.jsx(Ar,{size:12,className:"mr-1"}),b.status==="pending"&&a.jsx(Pr,{size:12,className:"mr-1"}),b.status==="rejected"&&a.jsx(Ga,{size:12,className:"mr-1"}),b.status.charAt(0).toUpperCase()+b.status.slice(1)]})}),a.jsxs("td",{className:"p-3 border-b border-gray-200 space-x-2",children:[a.jsx("button",{onClick:()=>p(b),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"}),b.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>v(b._id,"approved",b.farmerId),className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-lime-700 text-sm inline-flex items-center",children:[a.jsx(Ar,{size:14,className:"mr-1"}),"Approve"]}),a.jsxs("button",{onClick:()=>v(b._id,"rejected",b.farmerId),className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 text-sm inline-flex items-center",children:[a.jsx(Ga,{size:14,className:"mr-1"}),"Reject"]})]})]})]},b._id))})]})})]}),o&&u&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Claim Details"}),a.jsx("button",{onClick:()=>c(!1),className:"text-white hover:text-gray-200 focus:outline-none transition-colors",children:a.jsx(Ga,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-lime-800 mb-3 flex items-center gap-2",children:[a.jsx(Ir,{size:20}),"Basic Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Claim ID"}),a.jsx("p",{className:"font-medium",children:u.claimNumber||u._id})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Farmer Name"}),a.jsx("p",{className:"font-medium",children:u.name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Address"}),a.jsx("p",{className:"font-medium",children:u.address||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Phone"}),a.jsx("p",{className:"font-medium",children:u.phone||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Date Filed"}),a.jsx("p",{className:"font-medium",children:new Date(u.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Status"}),a.jsx("p",{className:`font-medium ${u.status==="approved"?"text-green-600":u.status==="pending"?"text-yellow-600":"text-red-600"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Crop Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Type"}),a.jsx("p",{className:"font-medium",children:u.crop})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Area Insured"}),a.jsxs("p",{className:"font-medium",children:[u.areaInsured," hectares"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Area Damaged"}),a.jsxs("p",{className:"font-medium",children:[u.areaDamaged," hectares"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Degree of Damage"}),a.jsxs("p",{className:"font-medium",children:[u.degreeOfDamage,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Program"}),a.jsx("p",{className:"font-medium",children:u.program&&u.program.length>0?u.program.join(", "):"Not specified"})]})]})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-lime-800 mb-3",children:"Additional Crop Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Variety Planted"}),a.jsx("p",{className:"font-medium",children:u.varietyPlanted||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Planting Date"}),a.jsx("p",{className:"font-medium",children:u.plantingDate?new Date(u.plantingDate).toLocaleDateString():"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"CIC Number"}),a.jsx("p",{className:"font-medium",children:u.cicNumber||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Underwriter"}),a.jsx("p",{className:"font-medium",children:u.underwriter||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Farmer Location"}),a.jsx("p",{className:"font-medium",children:u.farmerLocation||"Not provided"})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-3 flex items-center gap-2",children:[a.jsx(Pr,{size:20}),"Damage Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Cause of Loss"}),a.jsx("p",{className:"font-medium",children:u.damageType})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Date of Loss"}),a.jsx("p",{className:"font-medium",children:u.lossDate?new Date(u.lossDate).toLocaleDateString():"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Age/Stage at Time of Loss"}),a.jsx("p",{className:"font-medium",children:u.ageStage||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Expected Harvest"}),a.jsx("p",{className:"font-medium",children:u.expectedHarvest?`${u.expectedHarvest} tons`:"Not provided"})]})]})]}),u.damagePhotos&&u.damagePhotos.length>0&&a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-orange-800 mb-3 flex items-center gap-2",children:["📷 Damage Evidence Photos (",u.damagePhotos.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:u.damagePhotos.map((b,w)=>typeof b=="string"&&b.startsWith("data:")?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:b,alt:`Damage evidence ${w+1}`,className:"w-full h-32 object-cover rounded-lg border cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const S=document.createElement("div");S.className="fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",S.innerHTML=`
                                <div class="relative max-w-4xl max-h-full">
                                  <img src="${b}" alt="Damage evidence ${w+1}" class="max-w-full max-h-full object-contain" />
                                  <button class="absolute top-4 right-4 bg-white bg-opacity-20 text-white p-2 rounded-full hover:bg-opacity-30 transition-colors" onclick="this.parentElement.parentElement.remove()">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                  </button>
                                </div>
                              `,document.body.appendChild(S),S.addEventListener("click",C=>{C.target===S&&S.remove()})}}),a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:["Photo ",w+1]})]},w):a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg border flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(zr,{className:"h-8 w-8 text-gray-400 mx-auto mb-1"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Photo ",w+1]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Not available"})]})})},w))}),a.jsx("p",{className:"text-sm text-orange-700 mt-3",children:"Click on any photo to view it in full size"})]}),u.adminFeedback&&a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-3 flex items-center gap-2",children:[a.jsx(Sy,{size:20}),"Admin Feedback"]}),a.jsx("div",{className:"bg-white p-3 rounded border border-purple-100",children:a.jsx("p",{className:"text-gray-700",children:u.adminFeedback})})]}),u.lotBoundaries&&Object.keys(u.lotBoundaries).length>0&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Location Sketch Information"}),a.jsx("div",{className:"space-y-4",children:Object.keys(u.lotBoundaries).map(b=>a.jsxs("div",{className:"border border-blue-100 p-3 rounded bg-white",children:[a.jsxs("h4",{className:"font-medium text-blue-700 mb-2",children:["Lot ",b]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"North"}),a.jsx("p",{className:"text-sm",children:u.lotBoundaries[b].north||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"South"}),a.jsx("p",{className:"text-sm",children:u.lotBoundaries[b].south||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"East"}),a.jsx("p",{className:"text-sm",children:u.lotBoundaries[b].east||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"West"}),a.jsx("p",{className:"text-sm",children:u.lotBoundaries[b].west||"Not specified"})]})]})]},b))})]}),u.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3 flex items-center gap-2",children:"💰 Compensation Preview"}),(()=>{const b=ed(Number.parseFloat((u==null?void 0:u.areaDamaged)||0),Number.parseFloat((u==null?void 0:u.degreeOfDamage)||0),(u==null?void 0:u.crop)||"Other",(u==null?void 0:u.damageType)||"Other"),w=Cy(Number.parseFloat((u==null?void 0:u.degreeOfDamage)||0)),A=Oy((u==null?void 0:u.crop)||"Other");return a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-white p-3 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Compensation:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-700",children:["₱",b.finalCompensation.toLocaleString()]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Damage Severity"}),a.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-sm font-medium ${w.bgColor} ${w.color}`,children:w.level})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Coverage Type"}),a.jsx("p",{className:"font-medium text-sm",children:A.coverage})]})]})]})})()]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsxs("button",{onClick:()=>v(u._id,"rejected",u.farmerId),className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition flex items-center",children:[a.jsx(Ga,{size:18,className:"mr-2"}),"Reject Claim"]}),a.jsxs("button",{onClick:()=>v(u._id,"approved",u.farmerId),className:"bg-lime-600 text-white px-6 py-2 rounded-lg hover:bg-lime-700 transition flex items-center",children:[a.jsx(Ar,{size:18,className:"mr-2"}),"Approve Claim"]})]})]}),u.status==="approved"&&a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"Insurance Compensation Details"}),(()=>{const b=ed(Number.parseFloat((u==null?void 0:u.areaDamaged)||0),Number.parseFloat((u==null?void 0:u.degreeOfDamage)||0),(u==null?void 0:u.crop)||"Other",(u==null?void 0:u.damageType)||"Other"),w=Xw(u==null?void 0:u.completionDate);return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Final Compensation"}),a.jsxs("p",{className:"font-bold text-2xl text-green-700",children:["₱",b.finalCompensation.toLocaleString()]})]}),a.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${w.bgColor} ${w.statusColor}`,children:w.status})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Payment Status"}),a.jsx("p",{className:`font-medium ${w.statusColor}`,children:w.status}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.message})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Expected Payment Date"}),a.jsx("p",{className:"font-medium",children:Jw(u==null?void 0:u.completionDate)})]})]})]})})()]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>c(!1),className:"bg-lime-700 text-white px-6 py-2 rounded-lg hover:bg-lime-800 transition",children:"Close"})})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:h.type==="approved"?"Approve Claim":"Reject Claim"}),a.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to ",h.type==="approved"?"approve":"reject"," this claim? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:x,className:`px-4 py-2 rounded-lg text-white transition-colors ${h.type==="approved"?"bg-lime-600 hover:bg-lime-700":"bg-red-600 hover:bg-red-700"}`,children:h.type==="approved"?"Yes, Approve":"Yes, Reject"})]})]})})]})},N3=({showModal:e,setShowModal:t,modalForm:r,setModalForm:n,initialModalForm:s,selectedLocation:o,setSelectedLocation:c,setShowMapModal:u,setMapMode:f,setFarmers:m,showEventModal:h,setShowEventModal:p,eventForm:v,handleEventChange:x,handleEventSubmit:j,showRegisterForm:b,setShowRegisterForm:w,formData:A,handleChange:S,handleSubmit:C,showClaimDetails:T,setShowClaimDetails:k,selectedClaim:O,initiateStatusUpdate:I,showConfirmationModal:F,setShowConfirmationModal:K,confirmationAction:Y,confirmStatusUpdate:Q,feedbackText:X,setFeedbackText:te,showMapModal:de,mapMode:be,mapSearchQuery:pe,setMapSearchQuery:Te,searchLocation:q,mapRef:ce,showFarmerDetails:G,setShowFarmerDetails:he,selectedFarmer:D,showDeleteConfirmation:V,setShowDeleteConfirmation:se,farmerToDelete:ae,setFarmerToDelete:re,farmers:Ne})=>{const ze=`
    /* Hide scrollbar but maintain functionality */
    .hide-scrollbar {
      -ms-overflow-style: none;  /* IE and Edge */
      scrollbar-width: none;  /* Firefox */
    }
    .hide-scrollbar::-webkit-scrollbar {
      display: none;  /* Chrome, Safari and Opera */
    }
  `,J={...r,isCertified:typeof r.isCertified=="boolean"?r.isCertified:!1};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:ze}),e&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-600 text-xl font-bold",onClick:()=>t(!1),children:"×"}),a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Register Farmer"})]}),a.jsxs("form",{onSubmit:W=>{W.preventDefault();const ee=JSON.parse(localStorage.getItem("farmers")||"[]");if(ee.some(Ce=>Ce.username===r.username)){alert("Username already exists. Please choose a different username.");return}if(!r.username||!r.password){alert("Username and password are required.");return}const Z={id:Date.now().toString(),farmerName:`${r.firstName} ${r.middleName} ${r.lastName}`.trim(),address:r.address,cropType:r.cropType,cropArea:r.cropArea,farmName:r.farmName,insuranceType:r.insuranceType,premiumAmount:r.premiumAmount,lotNumber:r.lotNumber,lotArea:r.lotArea,agency:r.agency,isCertified:r.isCertified,periodFrom:r.periodFrom,periodTo:r.periodTo,birthday:r.birthday,gender:r.gender,contactNum:r.contactNum,location:o,username:r.username,password:r.password,rsbsaRegistered:!!r.rsbsaRegistered},Ee=[...ee,Z];localStorage.setItem("farmers",JSON.stringify(Ee)),m(Ee),n(s),c(null),t(!1),alert("Farmer registered successfully!")},className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6",children:[a.jsx("input",{type:"text",placeholder:"First Name",value:r.firstName,onChange:W=>n({...r,firstName:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"text",placeholder:"Middle Name",value:r.middleName,onChange:W=>n({...r,middleName:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"}),a.jsx("input",{type:"text",placeholder:"Last Name",value:r.lastName,onChange:W=>n({...r,lastName:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"date",placeholder:"Birthday",value:r.birthday,onChange:W=>n({...r,birthday:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsxs("select",{value:r.gender,onChange:W=>n({...r,gender:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0,children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]}),a.jsx("input",{type:"tel",placeholder:"Contact Number",value:r.contactNum,onChange:W=>n({...r,contactNum:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"text",placeholder:"Username",value:r.username||"",onChange:W=>n({...r,username:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"password",placeholder:"Password",value:r.password||"",onChange:W=>n({...r,password:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[a.jsx("input",{type:"checkbox",checked:!!r.rsbsaRegistered,onChange:W=>n({...r,rsbsaRegistered:W.target.checked})}),a.jsxs("label",{children:["RSBSA Registered ",a.jsx("span",{className:"text-xs text-gray-500",children:"(Required to avail government assistance)"})]})]}),a.jsx("input",{type:"text",placeholder:"Address",value:r.address,onChange:W=>n({...r,address:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"text",placeholder:"Crop Type",value:r.cropType,onChange:W=>n({...r,cropType:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"text",placeholder:"Crop Area (hectares)",value:r.cropArea,onChange:W=>n({...r,cropArea:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"text",placeholder:"Farm Name",value:r.farmName,onChange:W=>n({...r,farmName:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"}),a.jsxs("select",{value:r.insuranceType,onChange:W=>n({...r,insuranceType:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",children:[a.jsx("option",{value:"",children:"Select Insurance Type"}),a.jsx("option",{value:"Crop Damage",children:"Crop Damage"}),a.jsx("option",{value:"Flood",children:"Flood"}),a.jsx("option",{value:"Pest",children:"Pest"})]}),a.jsx("input",{type:"number",placeholder:"Premium Amount",value:r.premiumAmount,onChange:W=>n({...r,premiumAmount:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"}),a.jsx("input",{type:"text",placeholder:"Lot Number",value:r.lotNumber,onChange:W=>n({...r,lotNumber:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"}),a.jsx("input",{type:"text",placeholder:"Lot Area",value:r.lotArea,onChange:W=>n({...r,lotArea:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"}),a.jsx("input",{type:"text",placeholder:"Agency",value:r.agency,onChange:W=>n({...r,agency:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:!!J.isCertified,onChange:W=>n({...r,isCertified:W.target.checked})}),a.jsx("label",{children:"Certified"})]}),a.jsx("input",{type:"date",value:r.periodFrom,onChange:W=>n({...r,periodFrom:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("input",{type:"date",value:r.periodTo,onChange:W=>n({...r,periodTo:W.target.value}),className:"border border-gray-300 p-2.5 rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("button",{type:"button",onClick:()=>{u(!0),f("add")},className:"bg-lime-600 text-white px-4 py-2 rounded-lg hover:bg-lime-700 transition-colors flex items-center justify-center shadow-sm",children:[a.jsx(Lr,{className:"mr-2 h-5 w-5"}),o?"Change Farm Location":"Add Farm Location"]})}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",className:"bg-lime-700 text-white px-4 py-2 rounded hover:bg-lime-600 w-full",children:"Submit"})})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-lime-800",children:"Add Government Assistance"}),a.jsxs("form",{onSubmit:j,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assistance Type"}),a.jsxs("select",{name:"assistanceType",value:v.assistanceType||"",onChange:x,className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Assistance Type"}),a.jsx("option",{value:"Seed Distribution",children:"🌱 Seed Distribution"}),a.jsx("option",{value:"Fertilizer Subsidy",children:"💊 Fertilizer Subsidy"}),a.jsx("option",{value:"Machinery Support",children:"🚜 Machinery Support"}),a.jsx("option",{value:"Cash Assistance",children:"💸 Cash Assistance"}),a.jsx("option",{value:"Food Packs",children:"📦 Food Packs"}),a.jsx("option",{value:"Training & Tools",children:"🧪 Training & Tools"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{name:"description",value:v.description||"",onChange:x,className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700",required:!0,placeholder:"Describe the assistance (e.g., variety, details, etc.)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crop Type"}),a.jsxs("select",{name:"cropType",value:v.cropType,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Crop Type"}),a.jsx("option",{value:"Rice",children:"Rice"}),a.jsx("option",{value:"Corn",children:"Corn"}),a.jsx("option",{value:"Vegetables",children:"Vegetables"}),a.jsx("option",{value:"Banana",children:"Banana"}),a.jsx("option",{value:"Coconut",children:"Coconut"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),v.cropType==="Other"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specify Crop Type"}),a.jsx("input",{type:"text",name:"otherCropType",value:v.otherCropType||"",onChange:x,className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700",required:!0,placeholder:"Enter crop type"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Founder Name"}),a.jsx("input",{type:"text",name:"founderName",value:v.founderName,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Quantity"}),a.jsx("input",{type:"number",name:"quantity",value:v.quantity,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700",required:!0,min:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date Added"}),a.jsx("input",{type:"date",name:"dateAdded",value:v.dateAdded,onChange:x,className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Photo/Logo"}),a.jsx("input",{type:"file",name:"photo",accept:"image/*",onChange:W=>{const ee=W.target.files&&W.target.files[0];if(ee){const Z=new FileReader;Z.onload=Ee=>{x({target:{name:"photo",value:Ee.target.result,type:"text"}})},Z.readAsDataURL(ee)}},className:"mt-1 block w-full border border-gray-300 rounded px-3 py-2 text-gray-700"}),v.photo&&a.jsx("img",{src:v.photo,alt:"Preview",className:"mt-2 h-20 object-contain rounded border"})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-lime-700 text-white rounded hover:bg-lime-600",children:"Save"})]})]})]})}),b&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-5 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:"Register a New Farmer"}),a.jsx("button",{className:"text-white hover:text-gray-200 focus:outline-none",onClick:()=>w(!1),children:a.jsx(nt,{size:24})})]}),a.jsx("div",{className:"p-6 md:p-8",children:a.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ir,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"firstName",value:A.firstName,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle Name"}),a.jsx("input",{type:"text",name:"middleName",value:A.middleName,onChange:S,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a.jsx("input",{type:"text",name:"lastName",value:A.lastName,onChange:S,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Birthday"}),a.jsx("input",{type:"date",name:"birthday",value:A.birthday,onChange:S,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),a.jsxs("select",{name:"gender",value:A.gender,onChange:S,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0,children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),a.jsx("input",{type:"tel",name:"contactNum",value:A.contactNum,onChange:S,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Lr,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"address",value:A.address,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crop Type"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pn,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"cropType",value:A.cropType,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crop Area (hectares)"}),a.jsx("input",{type:"text",name:"cropArea",value:A.cropArea,onChange:S,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Insurance Type"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(zr,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"insuranceType",value:A.insuranceType,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Premium Amount"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Pm,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"number",name:"premiumAmount",value:A.premiumAmount,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Number"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Lr,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"lotNumber",value:A.lotNumber,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lot Area"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pn,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"text",name:"lotArea",value:A.lotArea,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agency"}),a.jsx("input",{type:"text",name:"agency",value:A.agency,onChange:S,className:"w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all"})]}),a.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[a.jsx("input",{type:"checkbox",id:"isCertified",name:"isCertified",checked:A.isCertified,onChange:S,className:"w-5 h-5 text-lime-600 rounded focus:ring-lime-500"}),a.jsx("label",{htmlFor:"isCertified",className:"text-gray-700 font-medium",children:"Certified Farmer"})]}),a.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 pt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Period From"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(td,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"date",name:"periodFrom",value:A.periodFrom,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Period To"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(td,{size:18,className:"text-gray-400"})}),a.jsx("input",{type:"date",name:"periodTo",value:A.periodTo,onChange:S,className:"pl-10 w-full border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-lime-500 focus:border-transparent transition-all",required:!0})]})]})]}),a.jsx("div",{className:"md:col-span-2 pt-4",children:a.jsxs("button",{type:"button",onClick:()=>{u(!0),f("add")},className:"bg-lime-600 text-white px-4 py-3 rounded-lg hover:bg-lime-700 transition-colors flex items-center justify-center shadow-sm w-full mb-4",children:[a.jsx(Lr,{className:"mr-2 h-5 w-5"}),o?"Change Farm Location":"Add Farm Location"]})}),a.jsxs("div",{className:"md:col-span-2 flex gap-4 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 bg-gray-200 text-gray-800 px-4 py-3 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"flex-1 bg-lime-700 text-white px-4 py-3 rounded-lg hover:bg-lime-800 transition-colors flex items-center justify-center",children:[a.jsx(Un,{className:"mr-2 h-5 w-5"}),"Register Farmer"]})]})]})})]})}),T&&O&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Claim Details"}),a.jsx("button",{onClick:()=>k(!1),className:"text-white hover:text-gray-200 focus:outline-none transition-colors",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-lime-800 mb-3 flex items-center gap-2",children:[a.jsx(ky,{size:20}),"Basic Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Claim ID"}),a.jsx("p",{className:"font-medium",children:O.claimNumber||O.id||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Farmer Name"}),a.jsx("p",{className:"font-medium",children:O.name||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Address"}),a.jsx("p",{className:"font-medium",children:O.address||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Phone"}),a.jsx("p",{className:"font-medium",children:O.phone||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Farmer Location"}),a.jsx("p",{className:"font-medium",children:O.farmerLocation||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Date Filed"}),a.jsx("p",{className:"font-medium",children:new Date(O.date).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Status"}),a.jsx("p",{className:`font-medium ${O.status==="approved"?"text-green-600":O.status==="pending"?"text-yellow-600":"text-red-600"}`,children:O.status.charAt(0).toUpperCase()+O.status.slice(1)})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Crop Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Type"}),a.jsx("p",{className:"font-medium",children:O.crop||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Area Insured"}),a.jsx("p",{className:"font-medium",children:O.areaInsured?`${O.areaInsured} hectares`:"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Area Damaged"}),a.jsx("p",{className:"font-medium",children:O.areaDamaged?`${O.areaDamaged} hectares`:"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Degree of Damage"}),a.jsx("p",{className:"font-medium",children:O.degreeOfDamage?`${O.degreeOfDamage}%`:"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Program"}),a.jsx("p",{className:"font-medium",children:O.program&&O.program.length>0?O.program.join(", "):O.otherProgramText||"Not specified"})]})]})]})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-lime-800 mb-3",children:"Additional Crop Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Variety Planted"}),a.jsx("p",{className:"font-medium",children:O.varietyPlanted||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Planting Date"}),a.jsx("p",{className:"font-medium",children:O.plantingDate?new Date(O.plantingDate).toLocaleDateString():"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"CIC Number"}),a.jsx("p",{className:"font-medium",children:O.cicNumber||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Underwriter"}),a.jsx("p",{className:"font-medium",children:O.underwriter||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Farmer Location"}),a.jsx("p",{className:"font-medium",children:O.farmerLocation||"Not provided"})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-3 flex items-center gap-2",children:[a.jsx(Pr,{size:20}),"Damage Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Cause of Loss"}),a.jsx("p",{className:"font-medium",children:O.damageType||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Date of Loss"}),a.jsx("p",{className:"font-medium",children:O.lossDate?new Date(O.lossDate).toLocaleDateString():"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Age/Stage at Time of Loss"}),a.jsx("p",{className:"font-medium",children:O.ageStage||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Expected Harvest"}),a.jsx("p",{className:"font-medium",children:O.expectedHarvest?`${O.expectedHarvest} tons`:"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Area Damaged"}),a.jsx("p",{className:"font-medium",children:O.areaDamaged?`${O.areaDamaged} hectares`:"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Degree of Damage"}),a.jsx("p",{className:"font-medium",children:O.degreeOfDamage?`${O.degreeOfDamage}%`:"Not provided"})]})]})]}),O.damagePhotos&&O.damagePhotos.length>0&&a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-orange-800 mb-3 flex items-center gap-2",children:[a.jsx(Nj,{size:20}),"Damage Evidence Photos (",O.damagePhotos.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:O.damagePhotos.map((W,ee)=>typeof W=="string"&&W.startsWith("data:")?a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:W,alt:`Damage evidence ${ee+1}`,className:"w-full h-32 object-cover rounded-lg border cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const Ee=document.createElement("div");Ee.className="fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",Ee.innerHTML=`
                                <div class="relative max-w-4xl max-h-full">
                                  <img src="${W}" alt="Damage evidence ${ee+1}" class="max-w-full max-h-full object-contain" />
                                  <button class="absolute top-4 right-4 bg-white bg-opacity-20 text-white p-2 rounded-full hover:bg-opacity-30 transition-colors" onclick="this.parentElement.parentElement.remove()">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                  </button>
                                </div>
                              `,document.body.appendChild(Ee),Ee.addEventListener("click",Ce=>{Ce.target===Ee&&Ee.remove()})}}),a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:["Photo ",ee+1]})]},ee):a.jsx("div",{className:"relative group",children:a.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg border flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(zr,{className:"h-8 w-8 text-gray-400 mx-auto mb-1"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Photo ",ee+1]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Not available"})]})})},ee))}),a.jsx("p",{className:"text-sm text-orange-700 mt-3",children:"Click on any photo to view it in full size"})]}),O.lotBoundaries&&Object.keys(O.lotBoundaries).length>0&&a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Location Sketch Information"}),a.jsx("div",{className:"space-y-4",children:Object.keys(O.lotBoundaries).map(W=>a.jsxs("div",{className:"border border-blue-100 p-3 rounded bg-white",children:[a.jsxs("h4",{className:"font-medium text-blue-700 mb-2",children:["Lot ",W]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"North"}),a.jsx("p",{className:"text-sm",children:O.lotBoundaries[W].north||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"South"}),a.jsx("p",{className:"text-sm",children:O.lotBoundaries[W].south||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"East"}),a.jsx("p",{className:"text-sm",children:O.lotBoundaries[W].east||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-xs",children:"West"}),a.jsx("p",{className:"text-sm",children:O.lotBoundaries[W].west||"Not specified"})]})]})]},W))})]}),O.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-3 flex items-center gap-2",children:[a.jsx(Pm,{size:20}),"Compensation Preview"]}),(()=>{const W=ed(Number.parseFloat((O==null?void 0:O.areaDamaged)||0),Number.parseFloat((O==null?void 0:O.degreeOfDamage)||0),(O==null?void 0:O.crop)||"Other",(O==null?void 0:O.damageType)||"Other"),ee=Cy(Number.parseFloat((O==null?void 0:O.degreeOfDamage)||0)),Z=Oy((O==null?void 0:O.crop)||"Other");return a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-white p-3 rounded-lg border border-yellow-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Estimated Compensation:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-700",children:["₱",W.finalCompensation.toLocaleString()]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Damage Severity"}),a.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-sm font-medium ${ee.bgColor} ${ee.color}`,children:ee.level})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Coverage Type"}),a.jsx("p",{className:"font-medium text-sm",children:Z.coverage})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Calculation Summary"}),a.jsxs("div",{className:"text-xs text-gray-600 mt-1 space-y-1",children:[a.jsxs("div",{children:["Base Rate: ₱",W.cropRate.toLocaleString(),"/hectare"]}),a.jsxs("div",{children:["Damage Multiplier: ",W.damageMultiplier,"x"]}),a.jsxs("div",{children:["Base Calculation: ₱",W.baseCompensation.toLocaleString()]}),a.jsxs("div",{className:"font-medium text-green-700",children:["Final Amount: ₱",W.finalCompensation.toLocaleString()]})]})]})]})})()]}),a.jsxs("div",{className:"mt-6 mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Feedback (Optional)"}),a.jsx("textarea",{value:X,onChange:W=>te(W.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500",rows:2,placeholder:"Add notes or feedback for the farmer..."})]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsxs("button",{onClick:()=>I(O._id||O.id,"rejected",O.farmerId),className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition flex items-center",children:[a.jsx(Uj,{size:18,className:"mr-2"}),"Reject Claim"]}),a.jsxs("button",{onClick:()=>I(O._id||O.id,"approved",O.farmerId),className:"bg-lime-600 text-white px-6 py-2 rounded-lg hover:bg-lime-700 transition flex items-center",children:[a.jsx(Kj,{size:18,className:"mr-2"}),"Approve Claim"]})]})]}),O.status==="approved"&&O.compensation&&a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-3 flex items-center gap-2",children:[a.jsx(Ar,{size:20}),"Approved Compensation"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Final Compensation:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-700",children:["₱",O.compensation.toLocaleString()]})]})}),a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Approval Date"}),a.jsx("p",{className:"font-medium",children:O.completionDate?new Date(O.completionDate).toLocaleDateString():"Not specified"})]}),O.adminFeedback&&a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Admin Feedback"}),a.jsx("p",{className:"font-medium text-sm",children:O.adminFeedback})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>{k(!1),je.getState().addAdminNotification({id:`close-claim-${O._id||O.id}`,type:"info",title:"Claim Details Closed",message:`Finished reviewing claim from ${O.name}.`,timestamp:new Date})},className:"bg-lime-700 text-white px-6 py-2 rounded-lg hover:bg-lime-800 transition",children:"Close"})})]})]})}),F&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:Y.type==="approved"?"Approve Claim":"Reject Claim"}),a.jsxs("p",{className:"mb-4 text-gray-600",children:["Are you sure you want to ",Y.type==="approved"?"approve":"reject"," this claim? This action cannot be undone."]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:Y.type==="approved"?"Approval Notes (Optional)":"Rejection Reason (Optional)"}),a.jsx("textarea",{value:X,onChange:W=>te(W.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-lime-500 focus:border-lime-500",rows:3,placeholder:Y.type==="approved"?"Add any notes for the farmer...":"Provide reason for rejection..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:Q,className:`px-4 py-2 rounded-lg text-white transition-colors ${Y.type==="approved"?"bg-lime-600 hover:bg-lime-700":"bg-red-600 hover:bg-red-700"}`,children:Y.type==="approved"?"Yes, Approve":"Yes, Reject"})]})]})}),de&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:be==="view"?"Farm Locations Map":"Select Farm Location"}),a.jsx("button",{onClick:()=>u(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-wrap gap-4 items-center",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search for a location...",value:pe,onChange:W=>Te(W.target.value),className:"w-full p-2 pr-10 border rounded-md",onKeyDown:W=>{W.key==="Enter"&&q()}}),a.jsx("button",{onClick:q,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:a.jsx(Zn,{className:"h-5 w-5"})})]})}),be==="view"&&a.jsxs("button",{onClick:()=>f("add"),className:"bg-lime-600 text-white px-4 py-2 rounded hover:bg-lime-700 flex items-center",children:[a.jsx(oa,{className:"mr-2 h-5 w-5"}),"Add Location"]}),be==="add"&&a.jsxs("button",{onClick:()=>f("view"),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 flex items-center",children:[a.jsx(pn,{className:"mr-2 h-5 w-5"}),"View All Locations"]})]}),a.jsx("div",{className:"flex-1 min-h-[400px] relative",children:a.jsx("div",{ref:ce,className:"w-full h-[500px]"})}),be==="add"&&a.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{children:o?a.jsxs("p",{className:"text-sm text-gray-600",children:["Selected coordinates: ",o.lat.toFixed(6),", ",o.lng.toFixed(6)]}):a.jsx("p",{className:"text-sm text-gray-600",children:"Click on the map to select a location"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{onClick:()=>{o?u(!1):alert("Please select a location on the map first.")},disabled:!o,className:`px-4 py-2 bg-lime-700 text-white rounded hover:bg-lime-800 ${o?"":"opacity-50 cursor-not-allowed"}`,children:"Confirm Location"})]})]})})]})}),G&&D&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Farmer Details"}),a.jsx("button",{onClick:()=>he(!1),className:"text-white hover:text-gray-200 focus:outline-none transition-colors",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-lime-800 mb-3 flex items-center gap-2",children:[a.jsx(Ir,{size:20}),"Personal Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:D.farmerName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Birthday"}),a.jsx("p",{className:"font-medium",children:D.birthday||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Gender"}),a.jsx("p",{className:"font-medium",children:D.gender||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Contact Number"}),a.jsx("p",{className:"font-medium",children:D.contactNum||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Address"}),a.jsx("p",{className:"font-medium",children:D.address})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Farm Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Type"}),a.jsx("p",{className:"font-medium",children:D.cropType})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Area"}),a.jsxs("p",{className:"font-medium",children:[D.cropArea," hectares"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Lot Number"}),a.jsx("p",{className:"font-medium",children:D.lotNumber||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Lot Area"}),a.jsx("p",{className:"font-medium",children:D.lotArea||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Certified"}),a.jsx("p",{className:"font-medium",children:D.isCertified?a.jsxs("span",{className:"text-green-600 flex items-center",children:[a.jsx(Ar,{size:16,className:"mr-1"})," Yes"]}):a.jsx("span",{className:"text-gray-600",children:"No"})})]})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Insurance Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Insurance Type"}),a.jsx("p",{className:"font-medium",children:D.insuranceType||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Premium Amount"}),a.jsx("p",{className:"font-medium",children:D.premiumAmount||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Period From"}),a.jsx("p",{className:"font-medium",children:D.periodFrom||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Period To"}),a.jsx("p",{className:"font-medium",children:D.periodTo||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Agency"}),a.jsx("p",{className:"font-medium",children:D.agency||"Not provided"})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>he(!1),className:"bg-lime-700 text-white px-6 py-2 rounded-lg hover:bg-lime-800 transition",children:"Close"})})]})]})}),V&&ae&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[a.jsx(Pr,{className:"mr-2 text-red-500",size:24}),"Delete Farmer"]}),a.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete ",a.jsx("strong",{children:ae.farmerName}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{se(!1),re(null)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:()=>{m(ee=>ee.filter(Z=>Z.id!==ae.id));const W=Ne.filter(ee=>ee.id!==ae.id);localStorage.setItem("farmers",JSON.stringify(W)),se(!1),re(null),alert("Farmer deleted successfully!")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[a.jsx(nt,{size:16,className:"mr-1"}),"Delete"]})]})]})})]})},P3=()=>{const{data:e=[],isLoading:t}=lf(),{data:r=[],isLoading:n}=of(),{data:s={},isLoading:o}=lj(),c=cj(),u=uj(),f=dj(),m=t||n||o||c.isPending||u.isPending||f.isPending,[h,p]=_.useState(""),[v,x]=_.useState(!1),[j,b]=_.useState(!1),[w,A]=_.useState(!1),[S,C]=_.useState(null),[T,k]=_.useState({farmerId:"",cropType:"",cropArea:"",lotNumber:"",lotArea:"",plantingDate:"",expectedHarvestDate:"",insuranceDayLimit:"",notes:"",location:{lat:null,lng:null}}),O={Corn:{dayLimit:30,description:"Maize crop with 30-day insurance window"},Rice:{dayLimit:25,description:"Rice crop with 25-day insurance window"},Wheat:{dayLimit:20,description:"Wheat crop with 20-day insurance window"},Soybeans:{dayLimit:35,description:"Soybean crop with 35-day insurance window"},Cotton:{dayLimit:40,description:"Cotton crop with 40-day insurance window"},Sugarcane:{dayLimit:45,description:"Sugarcane crop with 45-day insurance window"},Coffee:{dayLimit:50,description:"Coffee crop with 50-day insurance window"},Cacao:{dayLimit:55,description:"Cacao crop with 55-day insurance window"},Other:{dayLimit:30,description:"Other crops with 30-day insurance window"}},I=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,F=q=>{const{name:ce,value:G}=q.target;k(he=>({...he,[ce]:G})),ce==="cropType"&&O[G]&&k(he=>({...he,cropType:G,insuranceDayLimit:O[G].dayLimit.toString()}))},K=async q=>{q.preventDefault(),console.log("Form submission started with data:",T);try{const ce={...T,cropArea:parseFloat(T.cropArea),lotArea:parseFloat(T.lotArea),insuranceDayLimit:parseInt(T.insuranceDayLimit),plantingDate:new Date(T.plantingDate).toISOString(),expectedHarvestDate:new Date(T.expectedHarvestDate).toISOString()};console.log("Submitting crop insurance data:",ce),await c.mutateAsync(ce),x(!1),k({farmerId:"",cropType:"",cropArea:"",lotNumber:"",lotArea:"",plantingDate:"",expectedHarvestDate:"",insuranceDayLimit:"",notes:"",location:{lat:null,lng:null}}),je.getState().addAdminNotification({id:I(),type:"success",title:"Crop Insurance Created",message:"New crop insurance record has been created successfully.",timestamp:new Date})}catch(ce){console.error("Error creating crop insurance record:",ce),je.getState().addAdminNotification({id:I(),type:"error",title:"Error Creating Record",message:ce.message,timestamp:new Date})}},Y=async(q,ce)=>{try{await u.mutateAsync({id:q,updateData:{isInsured:!0,insuranceType:ce.insuranceType,premiumAmount:parseFloat(ce.premiumAmount),agency:ce.agency,insuranceDate:new Date().toISOString()}}),je.getState().addAdminNotification({id:I(),type:"success",title:"Insurance Applied",message:"Crop insurance has been applied successfully.",timestamp:new Date})}catch(G){je.getState().addAdminNotification({id:I(),type:"error",title:"Error Applying Insurance",message:G.message,timestamp:new Date})}},Q=async q=>{if(window.confirm("Are you sure you want to delete this crop insurance record?"))try{await f.mutateAsync(q),je.getState().addAdminNotification({id:I(),type:"success",title:"Record Deleted",message:"Crop insurance record has been deleted successfully.",timestamp:new Date})}catch(ce){je.getState().addAdminNotification({id:I(),type:"error",title:"Error Deleting Record",message:ce.message,timestamp:new Date})}},X=q=>{if(console.log("getFarmerName called with:",q,"Type:",typeof q),typeof q=="object"&&q!==null)return console.log("Using populated farmer data:",q),`${q.firstName} ${q.lastName}`;{const ce=r.find(G=>G._id===q);return console.log("Found farmer in list:",ce),ce?`${ce.firstName} ${ce.lastName}`:"Unknown Farmer"}},te=q=>new Date(q).toLocaleDateString(),de=q=>{const ce=new Date,G=new Date(q.insuranceDeadline),he=Math.ceil((G-ce)/(1e3*60*60*24));return Math.max(0,he)},be=q=>q.isInsured?"text-green-600":q.canInsure?"text-yellow-600":"text-red-600",pe=q=>q.isInsured?"Insured":q.canInsure?"Can Insure":"Expired",Te=e.filter(q=>{const ce=X(q.farmerId).toLowerCase(),G=q.cropType.toLowerCase(),he=h.toLowerCase();return ce.includes(he)||G.includes(he)});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Crop Insurance Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage crop insurance records with day limits"})]}),a.jsxs("button",{onClick:()=>x(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700",children:[a.jsx(oa,{size:20}),"Add New Crop"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Crops"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.totalCrops||0})]}),a.jsx(Qw,{className:"text-green-600",size:24})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Insured Crops"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.insuredCrops||0})]}),a.jsx(jo,{className:"text-green-600",size:24})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Uninsured Crops"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:s.uninsuredCrops||0})]}),a.jsx(Pr,{className:"text-yellow-600",size:24})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Insurance Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[s.insuranceRate||0,"%"]})]}),a.jsx(cf,{className:"text-blue-600",size:24})]})})]}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search by farmer name or crop type...",value:h,onChange:q=>p(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})})})}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Farmer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crop Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Planting Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expected Harvest"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day Limit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Te.map(q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:X(q.farmerId)})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:q.cropType}),a.jsxs("div",{className:"text-sm text-gray-500",children:[q.cropArea," ha • Lot ",q.lotNumber]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:te(q.plantingDate)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:te(q.expectedHarvestDate)})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[q.insuranceDayLimit," days"]}),!q.isInsured&&q.canInsure&&a.jsxs("div",{className:"text-xs text-yellow-600",children:[de(q)," days left"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${be(q)}`,children:[q.isInsured?a.jsx(Ar,{className:"w-4 h-4 mr-1"}):q.canInsure?a.jsx(ej,{className:"w-4 h-4 mr-1"}):a.jsx(nt,{className:"w-4 h-4 mr-1"}),pe(q)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>{C(q),A(!0)},className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:[a.jsx(Sy,{size:16}),a.jsx("span",{children:"View"})]}),!q.isInsured&&q.canInsure&&a.jsxs("button",{onClick:()=>{C(q),b(!0)},className:"text-green-600 hover:text-green-900 flex items-center gap-1",children:[a.jsx(jo,{size:16}),a.jsx("span",{children:"Insure"})]}),a.jsxs("button",{onClick:()=>Q(q._id),className:"text-red-600 hover:text-red-900 flex items-center gap-1",children:[a.jsx(bj,{size:16}),a.jsx("span",{children:"Delete"})]})]})})]},q._id))})]})})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Add New Crop Insurance Record"}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(nt,{size:24})})]}),a.jsxs("form",{onSubmit:K,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farmer"}),a.jsxs("select",{name:"farmerId",value:T.farmerId,onChange:F,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"Select Farmer"}),r.map(q=>a.jsxs("option",{value:q._id,children:[q.firstName," ",q.lastName]},q._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crop Type"}),a.jsxs("select",{name:"cropType",value:T.cropType,onChange:F,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"Select Crop Type"}),Object.keys(O).map(q=>a.jsxs("option",{value:q,children:[q," (",O[q].dayLimit," days)"]},q))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crop Area (hectares)"}),a.jsx("input",{type:"number",name:"cropArea",value:T.cropArea,onChange:F,required:!0,step:"0.01",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lot Number"}),a.jsx("input",{type:"text",name:"lotNumber",value:T.lotNumber,onChange:F,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lot Area (hectares)"}),a.jsx("input",{type:"number",name:"lotArea",value:T.lotArea,onChange:F,required:!0,step:"0.01",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance Day Limit"}),a.jsx("input",{type:"number",name:"insuranceDayLimit",value:T.insuranceDayLimit,onChange:F,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Planting Date"}),a.jsx("input",{type:"date",name:"plantingDate",value:T.plantingDate,onChange:F,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Harvest Date"}),a.jsx("input",{type:"date",name:"expectedHarvestDate",value:T.expectedHarvestDate,onChange:F,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{name:"notes",value:T.notes,onChange:F,rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:m?"Creating...":"Create Record"})]})]})]})}),j&&S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Apply Insurance"}),a.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Applying insurance for ",S.cropType," crop by ",X(S.farmerId)]}),a.jsxs("p",{className:"text-xs text-yellow-600",children:[de(S)," days remaining to apply insurance"]})]}),a.jsxs("form",{onSubmit:q=>{q.preventDefault();const ce=new FormData(q.target);Y(S._id,{insuranceType:ce.get("insuranceType"),premiumAmount:ce.get("premiumAmount"),agency:ce.get("agency")}),b(!1)},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance Type"}),a.jsxs("select",{name:"insuranceType",required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"Select Insurance Type"}),a.jsx("option",{value:"Basic",children:"Basic Coverage"}),a.jsx("option",{value:"Premium",children:"Premium Coverage"}),a.jsx("option",{value:"Comprehensive",children:"Comprehensive Coverage"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Premium Amount"}),a.jsx("input",{type:"number",name:"premiumAmount",required:!0,step:"0.01",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance Agency"}),a.jsx("input",{type:"text",name:"agency",required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Apply Insurance"})]})]})]})}),w&&S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Crop Insurance Details"}),a.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Farmer Information"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Name: ",X(S.farmerId)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Crop: ",S.cropType]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Area: ",S.cropArea," hectares"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Lot: ",S.lotNumber]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Timeline"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Planting: ",te(S.plantingDate)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Expected Harvest: ",te(S.expectedHarvestDate)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Insurance Deadline: ",te(S.insuranceDeadline)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Day Limit: ",S.insuranceDayLimit," days"]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Insurance Status"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",a.jsx("span",{className:be(S),children:pe(S)})]}),S.isInsured&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Insurance Date: ",te(S.insuranceDate)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Insurance Type: ",S.insuranceType]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Premium: ₱",S.premiumAmount]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Agency: ",S.agency]})]}),!S.isInsured&&S.canInsure&&a.jsxs("p",{className:"text-sm text-yellow-600",children:[de(S)," days remaining to apply insurance"]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Information"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",te(S.createdAt)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Updated: ",te(S.updatedAt)]}),S.notes&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Notes: ",S.notes]})]})]})]})})]})};let ls=null;function A3(e="Loading..."){ls||(ls=ef.loading(e,{id:"global-loading"}))}function S3(){ls&&(ef.dismiss(ls),ls=null)}function C3(e){let t=e;ef.error(t)}Ns.register(...sj);Ns.register(rf,nf,af,jy,Ny,sf,Py,sl,ol,Ay,oj);const O3=`
  /* Hide scrollbar but maintain functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }
`,t4=()=>{var Ln;const e=Yw(),t=Gw(N=>N.logout),[r,n]=_.useState(!1),[s,o]=_.useState(!1),[c,u]=_.useState(!1),[f,m]=_.useState("home"),[h,p]=_.useState(!1),[v,x]=_.useState(!1),[j,b]=_.useState(null),{data:w=[],isLoading:A,refetch:S}=fj(),{data:C=[],isLoading:T}=of(),{data:k=[],isLoading:O}=lf(),{data:I=[],isLoading:F,error:K}=hj(),{data:Y=[],isLoading:Q}=mj(),X=pj(),te=gj(),de=vj(),be=yj(),pe=Ty(),Te=Ey(),q=async N=>{try{const M=await de.mutateAsync(N);return console.log("Successfully added assistance item:",M),M}catch(M){throw console.error("Error adding assistance item:",M),M}},ce=async(N,M)=>await te.mutateAsync({applicationId:N,statusData:M}),G=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,he=()=>{t(),e("/")},[D,V]=_.useState(""),[se,ae]=_.useState(""),[re,Ne]=_.useState(1),ze=10,J=_.useMemo(()=>I.filter(N=>(N.availableQuantity||0)<5),[I]),W=_.useMemo(()=>{let N=Y||[];if(D&&(N=N.filter(M=>M.status===D)),se){const M=se.toLowerCase();N=N.filter(z=>{var $e,Me,Ye;const ne=(($e=z._id)==null?void 0:$e.toLowerCase())||"",ve=z.farmerId?`${z.farmerId.firstName} ${z.farmerId.lastName}`.toLowerCase():"",Ie=((Ye=(Me=z.assistanceId)==null?void 0:Me.assistanceType)==null?void 0:Ye.toLowerCase())||"";return ne.includes(M)||ve.includes(M)||Ie.includes(M)})}return N.sort((M,z)=>new Date(z.applicationDate)-new Date(M.applicationDate))},[Y,D,se]),ee=Math.ceil(W.length/ze),Z=_.useMemo(()=>{const N=(re-1)*ze;return W.slice(N,N+ze)},[W,re,ze]);_.useEffect(()=>{console.log("AdminDashboard: Assistance items updated:",I.length),console.log("AdminDashboard: Assistance items:",I)},[I]);const Ee=N=>{b(N),x(!0)},[Ce,it]=_.useState(!1),[Fe,ct]=_.useState(!1),It=_.useRef(null),$=_.useRef(null),ge=_.useRef(null),_e=_.useRef(null),Ae=_.useRef(null),Se=_.useRef(null),[bt,ei]=_.useState(!1),[Qr,Fr]=_.useState(!1),[Oe,at]=_.useState({type:"",claimId:""}),[mr,Kt]=_.useState(!1),[kt,en]=_.useState({type:"",applicationId:""}),[Ht,pr]=_.useState(""),[gr,gt]=_.useState(!1),[Ls,Is]=_.useState(null),{adminNotifications:Bi,unreadAdminCount:Fi,markAdminNotificationsAsRead:Rs}=je(),[Ul,Zl]=_.useState(!1),[Kl,ti]=_.useState(!1),[Hl,zs]=_.useState(!1),[ri,Ca]=_.useState("pending"),[$s,Yl]=_.useState(new Date().getFullYear()),[ni,Yt]=_.useState(""),[oe,On]=_.useState(null),[vr,tn]=_.useState("view"),[rn,Oa]=_.useState([7.6167,125.7]),[qi,kn]=_.useState(7),[ii,Gl]=_.useState("all"),[Wi,Vl]=_.useState("all"),[Ui,Bs]=_.useState("all"),Tn=_.useMemo(()=>{const N={};return k.forEach(M=>{const z=M.farmerId&&(M.farmerId._id||M.farmerId)||M.farmer||M.farmerID;if(!z)return;const ne=String(z);N[ne]||(N[ne]=[]),N[ne].push(M)}),N},[k]),[me,Xl]=_.useState(null),[Jl,Fs]=_.useState(!1),[Ql]=_.useState(new Date),[qs,ai]=_.useState(!1),En={firstName:"",middleName:"",lastName:"",birthday:"",gender:"",contactNum:"",address:"",cropType:"",cropArea:"",farmName:"",insuranceType:"",premiumAmount:"",lotNumber:"",lotArea:"",agency:"",isCertified:!1,periodFrom:"",periodTo:"",location:null},[_t,si]=_.useState({assistanceType:"",description:"",cropType:"",otherCropType:"",founderName:"",quantity:"",dateAdded:"",photo:""}),[,Mn]=_.useState(null),[Le,Xe]=_.useState(En),[st,qr]=_.useState(!1),[Ft,oi]=_.useState(!1),[we,Je]=_.useState(null),[nn,an]=_.useState({firstName:"",middleName:"",lastName:"",birthday:"",gender:"",contactNum:"",address:"",cropType:"",cropArea:"",insuranceType:"",lotNumber:"",lotArea:"",agency:"",isCertified:!1,periodFrom:"",periodTo:"",username:"",password:""}),Gt=N=>{const{name:M,type:z,value:ne,checked:ve}=N.target;an(Ie=>({...Ie,[M]:z==="checkbox"?ve:ne}))},ec=async N=>{N.preventDefault();try{const M={...nn,location:oe};await pe.mutateAsync(M),an({firstName:"",middleName:"",lastName:"",birthday:"",gender:"",contactNum:"",address:"",cropType:"",cropArea:"",insuranceType:"",lotNumber:"",lotArea:"",agency:"",isCertified:!1,periodFrom:"",periodTo:"",username:"",password:""}),On(null),zs(!1),je.getState().addAdminNotification({id:G(),type:"success",title:"Farmer Registered Successfully",message:`${nn.firstName} ${nn.lastName} has been registered successfully.`,timestamp:new Date})}catch(M){console.error("Error registering farmer:",M),je.getState().addAdminNotification({id:G(),type:"error",title:"Registration Failed",message:`Error: ${M.message}`,timestamp:new Date})}},Dn=()=>{!ge.current||!$.current||(ge.current.clearLayers(),C.forEach(N=>{if(N.location){const z=(Me=>Me.farmerName?Me.farmerName:Me.name?Me.name:Me.firstName||Me.lastName?`${Me.firstName||""} ${Me.middleName||""} ${Me.lastName||""}`.replace(/  +/g," ").trim():"Unknown Farmer")(N),ne=N.cropType||"Not specified",ve=N.lotArea||N.cropArea||"Not specified",Ie=N.isCertified?"✓ Certified":"";Dr.marker([N.location.lat,N.location.lng]).bindPopup(`
          <strong>${z}</strong><br>
          Crop: ${ne}<br>
          Area: ${ve}<br>
          ${Ie}
        `).addTo(ge.current)}}))},yr=(N,M)=>{fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${N}&lon=${M}`).then(z=>z.json()).then(z=>{if(z&&z.display_name){const ne=`LOT-${Math.abs(N).toFixed(4)}-${Math.abs(M).toFixed(4)}`.replace(/\./g,"");an(ve=>({...ve,address:z.display_name,lotNumber:ne}))}}).catch(z=>{console.error("Error reverse geocoding:",z)})},ot=N=>{if(!N)return"📍";const M=String(N).toLowerCase().trim();return M.includes("rice")||M.includes("palay")?"🌾":M.includes("corn")||M.includes("maize")?"🌽":M.includes("banana")?"🍌":M.includes("coconut")?"🥥":M.includes("coffee")?"☕":M.includes("cacao")||M.includes("cocoa")?"🍫":M.includes("sugar")||M.includes("sugarcane")?"🌿":M.includes("pineapple")?"🍍":M.includes("mango")?"🥭":M.includes("rubber")?"🟢":M.includes("vegetable")||M.includes("veg")?"🥬":M.includes("fruit")?"🍎":M.includes("tobacco")?"🍂":"📍"},Wr=_.useCallback(()=>{if(!Se.current||!Ae.current)return;Se.current.clearLayers();const N={},M={};if(C.forEach(z=>{var ne,ve;if(z.location&&typeof z.location.lat=="number"&&typeof z.location.lng=="number"){const $e=(De=>De.farmerName?De.farmerName:De.name?De.name:De.firstName||De.lastName?`${De.firstName||""} ${De.middleName||""} ${De.lastName||""}`.replace(/  +/g," ").trim():"Unknown Farmer")(z),Me=String(z._id||z.id||""),Ye=(Tn[Me]||[]).map(De=>De.cropType).filter(Boolean),Qe=Array.from(new Set(Ye)),lt=Qe.length>0?Qe.join(", "):z.cropType||"Not specified",vt=z.address?((ne=z.address.split(",").find(De=>De.includes("Barangay")||De.includes("Brgy")))==null?void 0:ne.trim())||((ve=z.address.split(",")[0])==null?void 0:ve.trim())||"Unknown Barangay":`Area ${Math.floor(z.location.lat*100)%100}`,tt=[];z.registrationDate&&tt.push(new Date(z.registrationDate)),z.createdAt&&tt.push(new Date(z.createdAt)),(Tn[Me]||[]).length>0&&(Tn[Me]||[]).forEach(De=>{De!=null&&De.plantingDate&&tt.push(new Date(De.plantingDate)),De!=null&&De.createdAt&&tt.push(new Date(De.createdAt))});const jt=tt.find(De=>!isNaN(De))||null;if(ii!=="all"&&!(Qe.length>0?Qe:[z.cropType]).some(Wt=>Wt&&Wt.toLowerCase()===String(ii).toLowerCase())||Ui!=="all"&&jt&&jt.getFullYear()!==Number(Ui)||Wi!=="all"&&jt&&jt.getMonth()+1!==Number(Wi))return;const fi=Qe.length>0,In=w.some(De=>{var ln;return De.farmerId===Me||((ln=De.name)==null?void 0:ln.toLowerCase().includes($e.toLowerCase()))}),Ks=Y.filter(De=>De.farmerId===Me&&(De.status==="approved"||De.status==="distributed")).length,Fa=z.lotArea||z.cropArea||"Not specified",qa=z.isCertified?"✓ Certified":"❌ Not Certified";N[vt]||(N[vt]=[]),N[vt].push({farmer:z,farmerName:$e,cropType:lt,lotArea:Fa,isCertified:qa,isInsured:fi,hasActiveClaim:In,assistanceReceived:Ks});const Wa=`${Math.floor(z.location.lat*1e3)},${Math.floor(z.location.lng*1e3)}`;M[Wa]||(M[Wa]={lat:z.location.lat,lng:z.location.lng,count:0}),In&&M[Wa].count++;let Rn;In?Rn="#f97316":fi?Rn="#22c55e":Rn="#ef4444";const Ua=(Qe[0]||z.cropType||"").split(",")[0].trim(),rc=ot(Ua),Hs=`<div style="
          width:32px;
          height:32px;
          border-radius:50%;
          display:flex;
          align-items:center;
          justify-content:center;
          border:3px solid ${Rn};
          background:#ffffff;
          color:#111827;
          font-size:14px;
          font-weight:bold;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
          cursor:pointer;
        ">${rc}</div>`,Ys=Dr.divIcon({className:"enhanced-crop-marker",html:Hs,iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]}),Yi=`
          <div style="min-width:250px; font-family: system-ui, -apple-system, sans-serif;">
            <div style="background: linear-gradient(135deg, ${Rn} 0%, ${Rn}99 100%); color: white; padding: 8px; margin: -9px -9px 8px -9px; border-radius: 4px 4px 0 0;">
              <h4 style="margin: 0; font-size: 16px; font-weight: bold;">👨‍🌾 ${$e}</h4>
              <small style="opacity: 0.9;">📍 ${vt}</small>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
              <div>
                <strong style="color: #374151; font-size: 12px;">🌾 CROP:</strong><br>
                <span style="color: #059669; font-weight: 500;">${lt}</span>
              </div>
              <div>
                <strong style="color: #374151; font-size: 12px;">📏 AREA:</strong><br>
                <span style="color: #0891b2;">${Fa}</span>
              </div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
              <div>
                <strong style="color: #374151; font-size: 12px;">🛡️ INSURANCE:</strong><br>
                <span style="color: ${fi?"#059669":"#dc2626"}; font-weight: 500;">
                  ${fi?"✅ Insured":"❌ Uninsured"}
                </span>
              </div>
              <div>
                <strong style="color: #374151; font-size: 12px;">🎯 STATUS:</strong><br>
                <span style="color: #7c3aed;">${qa}</span>
              </div>
            </div>
            
            <div style="background: #f3f4f6; padding: 6px; border-radius: 4px; margin-top: 8px;">
              <div style="display: flex; justify-content: space-between; font-size: 12px;">
                <span><strong>🤝 Assistance Received:</strong></span>
                <span style="color: #059669; font-weight: bold;">${Ks}</span>
              </div>
              ${In?'<div style="color: #f97316; font-size: 11px; margin-top: 4px;"><strong>⚠️ Has Active Claims</strong></div>':""}
            </div>
          </div>
        `;Dr.marker([z.location.lat,z.location.lng],{icon:Ys}).bindPopup(Yi,{maxWidth:300,className:"enhanced-popup"}).addTo(Se.current)}}),!document.getElementById("enhanced-popup-styles")){const z=document.createElement("style");z.id="enhanced-popup-styles",z.textContent=`
        .enhanced-popup .leaflet-popup-content-wrapper {
          border-radius: 8px;
          box-shadow: 0 8px 32px rgba(0,0,0,0.15);
        }
        .enhanced-popup .leaflet-popup-content {
          margin: 0;
          line-height: 1.4;
        }
        .enhanced-crop-marker {
          transition: transform 0.2s ease;
        }
        .enhanced-crop-marker:hover {
          transform: scale(1.1);
        }
      `,document.head.appendChild(z)}},[C,Tn,ii,Wi,Ui,w,Y]),sn=_.useCallback(async()=>{try{A3("Loading claims..."),ai(!0),await S()}catch(N){console.error("Failed to load claims from the server:",N),C3("Failed to load claims from the server.")}finally{S3(),ai(!1)}},[S]);_.useEffect(()=>{const N=setInterval(sn,5e3);return()=>clearInterval(N)},[sn]);const li=C.length,ka=w.filter(N=>N.status==="pending").length,ci=w.filter(N=>N.status==="approved").length,Ta=N=>{const{name:M,value:z,type:ne,files:ve}=N.target;if(ne==="file"&&ve&&ve[0]){const Ie=new FileReader;Ie.onload=$e=>{si(Me=>({...Me,photo:$e.target.result}))},Ie.readAsDataURL(ve[0])}else si(Ie=>({...Ie,[M]:z}))},Ea=async N=>{if(N.preventDefault(),console.log("handleEventSubmit called",_t),!_t.assistanceType||!_t.description||!_t.cropType||!_t.founderName||!_t.quantity||!_t.dateAdded||_t.cropType==="Other"&&!_t.otherCropType){je.getState().addAdminNotification({id:G(),type:"error",title:"Validation Error",message:"Please fill in all required fields.",timestamp:new Date});return}try{const M={..._t,cropType:_t.cropType==="Other"?_t.otherCropType:_t.cropType,availableQuantity:parseInt(_t.quantity),requiresRSBSA:!0,requiresCertification:!1,maxQuantityPerFarmer:100,quarterlyLimit:!0,status:"active"};await q(M),si({assistanceType:"",description:"",cropType:"",otherCropType:"",founderName:"",quantity:"",dateAdded:"",photo:""}),Mn(null),ti(!1),je.getState().addAdminNotification({id:G(),type:"success",title:"Assistance Added Successfully",message:`${M.assistanceType} has been added to the assistance inventory.`,timestamp:new Date});const z=C.filter(ne=>ne.cropType&&ne.cropType.toLowerCase()===M.cropType.toLowerCase());z.forEach(ne=>{je.getState().addFarmerNotification({id:`new-assistance-${G()}-${ne._id}`,type:"info",title:"New Assistance Available",message:`New ${M.assistanceType} assistance is now available for ${M.cropType} farmers!`,timestamp:new Date},ne._id)}),z.length>0&&je.getState().addAdminNotification({id:G(),type:"info",title:"Farmers Notified",message:`${z.length} farmer(s) with ${M.cropType} crop type have been notified about the new assistance.`,timestamp:new Date})}catch(M){console.error("Error adding assistance:",M),je.getState().addAdminNotification({id:G(),type:"error",title:"Add Assistance Failed",message:`Error: ${M.message}`,timestamp:new Date})}},Zi=N=>{var z;const M=I[N];si({assistanceType:M.assistanceType||"",description:M.description||"",cropType:M.cropType||"",otherCropType:M.otherCropType||"",founderName:M.founderName||"",quantity:((z=M.availableQuantity)==null?void 0:z.toString())||"",dateAdded:M.dateAdded||"",photo:M.photo||""}),Mn(N),ti(!0)},Ma=N=>{const M=I[N];en({type:"delete",applicationId:M._id,itemName:M.assistanceType}),Kt(!0)},Da=N=>{en({type:"approved",applicationId:N}),pr(""),Kt(!0)},Ki=N=>{en({type:"rejected",applicationId:N}),pr(""),Kt(!0)},Ws=async N=>{try{await ce(N,{status:"distributed"}),je.getState().addAdminNotification({id:G(),type:"success",title:"Application Distributed",message:"Application has been marked as distributed successfully.",timestamp:new Date})}catch(M){console.error("Error handling distribution:",M),je.getState().addAdminNotification({id:G(),type:"error",title:"Distribution Failed",message:`Error: ${M.message}`,timestamp:new Date})}},La=async()=>{const{type:N,applicationId:M,itemName:z}=kt;try{if(N==="delete")await be.mutateAsync(M),je.getState().addAdminNotification({id:G(),type:"success",title:"Assistance Deleted",message:`${z} has been deleted successfully.`,timestamp:new Date}),Kt(!1),pr("");else{await ce(M,{status:N,officerNotes:Ht}),je.getState().addAdminNotification({id:G(),type:"success",title:`Application ${N.charAt(0).toUpperCase()+N.slice(1)}`,message:`Application has been ${N} successfully.`,timestamp:new Date});const ne=Y.find(ve=>ve._id===M);if(ne&&ne.farmerId){const ve=N==="approved"?`Your assistance application has been approved! ${Ht?`Feedback: ${Ht}`:""}`:N==="rejected"?`Your assistance application has been rejected. ${Ht?`Reason: ${Ht}`:""}`:`Your assistance has been distributed successfully! ${Ht?`Notes: ${Ht}`:""}`;je.getState().addFarmerNotification({id:`application-${N}-${M}`,type:N==="approved"?"success":N==="rejected"?"error":"info",title:`Application ${N.charAt(0).toUpperCase()+N.slice(1)}`,message:ve,timestamp:new Date},ne.farmerId)}Kt(!1),pr("")}}catch(ne){je.getState().addAdminNotification({id:G(),type:"error",title:"Action Failed",message:`Error: ${ne.message}`,timestamp:new Date})}},[er,ye]=_.useState(""),tr=(N,M,z)=>{at({type:M,claimId:N,farmerId:z}),ye(""),Fr(!0)},qe=async()=>{const{type:N,claimId:M,farmerId:z}=Oe;try{await X.mutateAsync({id:M,updateData:{status:N,adminFeedback:er}}),Fr(!1),ye("");const ne=w.find(Ie=>Ie._id===M||Ie.id===M);let ve=`Claim has been ${N} successfully.`;if(N==="approved"&&ne&&ne.compensation&&(ve=`Claim approved! Compensation: ₱${ne.compensation.toLocaleString()}. Total Insurance Paid updated.`),je.getState().addAdminNotification({id:G(),type:"success",title:`Claim ${N.charAt(0).toUpperCase()+N.slice(1)}`,message:ve,timestamp:new Date}),ne&&(ne.farmerId||z)){const Ie=ne.farmerId||z,$e=N==="approved"?"success":"error",Me=N==="approved"?"Claim Approved!":"Claim Rejected";let Ye;if(N==="approved"){const Qe=ne.compensation?`₱${ne.compensation.toLocaleString()}`:"calculated amount";Ye=`Your claim for ${ne.crop} damage has been approved! Compensation: ${Qe}. ${er?`Feedback: ${er}`:""}`}else Ye=`Your claim for ${ne.crop} damage has been rejected. ${er?`Reason: ${er}`:""}`;je.getState().addFarmerNotification({id:`claim-${N}-${M}-${G()}`,type:$e,title:Me,message:Ye,timestamp:new Date},Ie)}}catch(ne){je.getState().addAdminNotification({id:G(),type:"error",title:"Claim Update Failed",message:`Failed to update claim status: ${ne.message}`,timestamp:new Date})}},Us=N=>{Is(N),gt(!0),je.getState().addAdminNotification({id:`view-claim-${N._id||N.id}`,type:"info",title:"Viewing Claim Details",message:`Reviewing claim from ${N.name} for ${N.crop} damage.`,timestamp:new Date})},Ia=N=>{const z=Math.floor((new Date().getTime()-N.getTime())/(1e3*60*60));return z<1?"Just now":z<24?`${z}h ago`:`${Math.floor(z/24)}d ago`},Ra=N=>{switch(N){case"success":return a.jsx(Dy,{className:"h-5 w-5 text-green-500"});case"warning":return a.jsx(Pr,{className:"h-5 w-5 text-yellow-500"});case"error":return a.jsx(nt,{className:"h-5 w-5 text-red-500"});case"info":default:return a.jsx(ky,{className:"h-5 w-5 text-blue-500"})}},za=()=>{p(!h),h||Rs()};_.useEffect(()=>{const N=M=>{h&&!M.target.closest(".notification-panel")&&p(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[h]);const on=()=>{Fs(!0),setTimeout(()=>{const N=w,M={January:{approved:0,rejected:0,pending:0,completed:0},February:{approved:0,rejected:0,pending:0,completed:0},March:{approved:0,rejected:0,pending:0,completed:0},April:{approved:0,rejected:0,pending:0,completed:0},May:{approved:0,rejected:0,pending:0,completed:0},June:{approved:0,rejected:0,pending:0,completed:0},July:{approved:0,rejected:0,pending:0,completed:0},August:{approved:0,rejected:0,pending:0,completed:0},September:{approved:0,rejected:0,pending:0,completed:0},October:{approved:0,rejected:0,pending:0,completed:0},November:{approved:0,rejected:0,pending:0,completed:0},December:{approved:0,rejected:0,pending:0,completed:0}},z={approved:0,rejected:0,pending:0,completed:0};N.forEach(lt=>{const vt=new Date(lt.date).getMonth(),tt=new Date(0,vt).toLocaleString("default",{month:"long"}),jt=lt.status||"pending";z[jt]++,M[tt]&&(M[tt][jt]||(M[tt][jt]=0),M[tt][jt]++,jt==="approved"&&(M[tt].completed++,z.completed++))});const ne=N.length||5,ve=.15,Ie=Math.round(ne*(1+ve)),$e={},Me={};Object.keys(M).forEach(lt=>{$e[lt]=0,Me[lt]={},Object.keys(M[lt]).forEach(vt=>{const tt=M[lt][vt]||0,jt=Math.round(tt*(1+ve));Me[lt][vt]=jt,(vt==="approved"||vt==="rejected")&&($e[lt]+=jt)})});const Ye={};Object.keys(z).forEach(lt=>{Ye[lt]=Math.round((z[lt]||1)*(1+ve))});const Qe=[{status:"Approved",value:z.approved/ne*100},{status:"Rejected",value:z.rejected/ne*100},{status:"Pending",value:z.pending/ne*100},{status:"Completed",value:z.completed/ne*100}].sort((lt,vt)=>vt.value-lt.value);Qe.length===0&&Qe.push({status:"Approved",value:65},{status:"Rejected",value:25},{status:"Pending",value:10},{status:"Completed",value:60}),Xl({currentYear:{totalClaims:ne,byMonth:Object.keys(M).reduce((lt,vt)=>(lt[vt]=Object.values(M[vt]).reduce((tt,jt)=>tt+jt,0),lt),{}),byStatus:z,monthlyStatus:M},nextYear:{totalClaims:Ie,byMonth:$e,byStatus:Ye,monthlyStatus:Me},statusEfficiency:Qe}),Fs(!1),it(!0)},1500)},$a=async()=>{try{const N=await jm(()=>import("./jspdf.es.min-ZCof-of1.js").then(Ye=>Ye.j),__vite__mapDeps([0,1,2])),M=(await jm(async()=>{const{default:Ye}=await import("./jspdf.plugin.autotable-nPAoshm9.js");return{default:Ye}},[])).default,z=new N.jsPDF;z.setFontSize(18),z.text("Agri-Insurance Analytics Report",14,22),z.setFontSize(12),z.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30),z.setFontSize(14),z.text("Summary",14,40),z.setFontSize(10),z.text(`Total Claims: ${me.currentYear.totalClaims}`,14,50),z.text(`Predicted Claims Next Year: ${me.nextYear.totalClaims}`,14,55),z.text(`Growth Rate: ${Math.round((me.nextYear.totalClaims-me.currentYear.totalClaims)/me.currentYear.totalClaims*100)}%`,14,60),z.setFontSize(14),z.text("Status Distribution",14,75);const ne=[["Approved",me.currentYear.byStatus.approved||0,me.nextYear.byStatus.approved||0],["Rejected",me.currentYear.byStatus.rejected||0,me.nextYear.byStatus.rejected||0],["Pending",me.currentYear.byStatus.pending||0,me.nextYear.byStatus.pending||0],["Completed",me.currentYear.byStatus.completed||0,me.nextYear.byStatus.completed||0]];M(z,{startY:80,head:[["Status","Current Claims","Predicted Claims"]],body:ne});const ve=z.lastAutoTable.finalY+15;z.setFontSize(14),z.text("Status Assessment",14,ve);const Ie=me.statusEfficiency.map(Ye=>[Ye.status,`${Math.round(Ye.value)}%`,Ye.value>50?"High":Ye.value>30?"Medium":"Low"]);M(z,{startY:ve+5,head:[["Status Type","Percentage","Efficiency Level"]],body:Ie});const $e=z.lastAutoTable.finalY+15;z.setFontSize(14),z.text("Recommendations",14,$e),z.setFontSize(10);const Me=Object.entries(me.nextYear.byMonth).sort((Ye,Qe)=>Qe[1]-Ye[1]).slice(0,2).map(([Ye])=>Ye).join(" and ");z.text(`1. Focus on improving processing efficiency for ${Me} months.`,14,$e+10),z.text("2. Prepare for increased claim processing during peak months.",14,$e+15),z.text("3. Consider adjusting approval criteria based on the status assessment data.",14,$e+20),z.save("agri-insurance-analytics-report.pdf")}catch(N){alert("PDF generation is not available. Please check console for errors."),console.error("Error generating PDF:",N)}},[qt,ut]=_.useState(1),[Er]=_.useState(3),Ur=Math.ceil(I.length/Er),ui=I.slice((qt-1)*Er,qt*Er);_.useEffect(()=>{console.log("AdminDashboard: Current items for page",qt,":",ui.length),console.log("AdminDashboard: Total pages:",Ur)},[ui,qt,Ur]),_.useEffect(()=>(Fe&&It.current&&($.current?($.current.setView(rn,qi),setTimeout(()=>{$.current&&$.current.invalidateSize()},100)):($.current=Dr.map(It.current).setView(rn,12),Dr.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo($.current),ge.current=Dr.layerGroup().addTo($.current),$.current.on("click",N=>{vr==="add"&&(On({lat:N.latlng.lat,lng:N.latlng.lng}),ge.current&&ge.current.clearLayers(),Dr.marker([N.latlng.lat,N.latlng.lng]).addTo(ge.current),yr(N.latlng.lat,N.latlng.lng))})),Dn()),()=>{$.current&&!Fe&&($.current.remove(),$.current=null)}),[Fe,rn,qi,vr,C,yr,Dn]),_.useEffect(()=>{if(f!=="home"){Ae.current&&(Ae.current.remove(),Ae.current=null,Se.current=null);return}_e.current&&(Ae.current||(Ae.current=Dr.map(_e.current).setView(rn,10),Dr.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(Ae.current),Se.current=Dr.layerGroup().addTo(Ae.current)),setTimeout(()=>{Ae.current&&Ae.current.invalidateSize()},100),Wr())},[f,C,rn,Wr]);const Hi=()=>{ni.trim()&&fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(ni)}`).then(N=>N.json()).then(N=>{if(N&&N.length>0){const{lat:M,lon:z}=N[0];$.current&&($.current.setView([M,z],13),vr==="add"&&(On({lat:M,lng:z}),ge.current.clearLayers(),Dr.marker([M,z]).addTo(ge.current),yr(M,z)))}else alert("Location not found. Please try a different search term.")}).catch(N=>{console.error("Error searching for location:",N),alert("Error searching for location. Please try again.")})},[Zs,di]=_.useState(!1),[wt,Ba]=_.useState(null);_.useEffect(()=>{J.length>0&&je.getState().addAdminNotification({id:G(),type:"warning",title:"Low Stock Alert",message:`The following assistance items are low in stock: ${J.map(N=>N.assistanceType).join(", ")}. Please restock soon.`,timestamp:new Date})},[I,J]);const[ke,tc]=_.useState(""),rr=_.useMemo(()=>{const N=new Set;return Object.values(Tn||{}).forEach(M=>{M.forEach(z=>{z&&z.cropType&&N.add(z.cropType)})}),C.forEach(M=>{M&&M.cropType&&N.add(M.cropType)}),Array.from(N).sort()},[C,Tn]);return _.useEffect(()=>{if(!document.getElementById("lato-font")){const M=document.createElement("link");M.id="lato-font",M.rel="stylesheet",M.href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap",document.head.appendChild(M)}},[]),a.jsxs("div",{className:"admin-lato min-h-screen bg-gradient-to-b from-lime-50 to-white relative flex flex-col",style:{fontFamily:"'Lato', sans-serif"},children:[a.jsx("style",{children:O3}),a.jsx("style",{children:".admin-lato, .admin-lato * { font-family: 'Lato', sans-serif !important; }"}),a.jsx("header",{style:{backgroundColor:"rgb(39, 78, 19)"},className:"text-black",children:a.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>o(!s),className:"mr-4 md:hidden","aria-label":"Toggle menu",children:s?a.jsx(nt,{size:24}):a.jsx(tj,{size:24})}),a.jsx("img",{src:Vw,alt:"Admin Logo",className:"h-15 w-auto mr-3"}),a.jsx("h1",{className:"text-xl font-sans font-semibold tracking-wide text-white",children:"ADMIN DASHBOARD"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-white text-sm",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${qs?"bg-yellow-400 animate-pulse":"bg-green-400"}`}),a.jsx("span",{className:"hidden sm:inline",children:qs?"Refreshing...":"Live"}),a.jsxs("span",{className:"text-xs opacity-75",children:["Last: ",Ql.toLocaleTimeString()]}),a.jsx("button",{onClick:()=>{ai(!0),sn()},className:"ml-2 px-2 py-1 bg-white bg-opacity-20 rounded text-xs hover:bg-opacity-30 transition-colors",title:"Manual refresh",children:"↻"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:za,className:`text-white p-2 rounded-full hover:bg-lime-500 transition-colors relative ${Fi>0?"animate-pulse":""}`,style:{backgroundColor:"rgb(56, 118, 29)"},"aria-label":"Notifications",children:[a.jsx(rj,{size:22}),Fi>0&&a.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full animate-pulse",children:Fi})]}),h&&a.jsxs("div",{className:"notification-panel absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-xl z-50 overflow-hidden",onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"p-4 text-white flex justify-between items-center",style:{backgroundColor:"rgb(56, 118, 29)"},children:[a.jsx("h3",{className:"font-semibold",children:"Notifications"}),Bi.length>0&&a.jsx("button",{onClick:()=>je.getState().clearNotifications(),className:"text-white hover:text-gray-200 text-sm",title:"Clear all notifications",children:"Clear All"})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto hide-scrollbar",children:Bi.length===0?a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx(nj,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No notifications"})]}):Bi.map(N=>a.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 mr-3",children:Ra(N.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:N.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:Ia(new Date(N.timestamp))}),a.jsx("button",{onClick:()=>je.getState().removeAdminNotification(N.id),className:"text-gray-400 hover:text-red-500 transition-colors","aria-label":"Remove notification",children:a.jsx(nt,{size:14})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.message})]})]})},N.id))})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 focus:outline-none transition-colors","aria-label":"User menu",children:[a.jsx("div",{className:"w-8 h-8 bg-white text-lime-800 rounded-full flex items-center justify-center shadow-sm",children:a.jsx(Ir,{size:18})}),a.jsx(Ju,{size:16,className:`transition-transform ${r?"rotate-180":""}`})]}),r&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-20",children:[a.jsxs("button",{onClick:()=>{m("settings"),n(!1)},className:"flex items-center w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100",children:[a.jsx(Qu,{size:16,className:"mr-2"}),"Settings"]}),a.jsxs("button",{onClick:()=>{je.getState().addAdminNotification({id:G(),type:"info",title:"Help Center",message:"Help Center coming soon!",timestamp:new Date})},className:"flex items-center w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100",children:[a.jsx(ij,{size:16,className:"mr-2"}),"Help Center"]}),a.jsxs("button",{onClick:()=>{je.getState().addAdminNotification({id:G(),type:"success",title:"Test Notification",message:"This is a test notification to verify the delete functionality.",timestamp:new Date})},className:"flex items-center w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100",children:[a.jsx(oa,{size:16,className:"mr-2"}),"Test Notification"]}),a.jsxs("button",{onClick:he,className:"flex items-center w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100",children:[a.jsx(aj,{size:16,className:"mr-2"}),"Logout"]})]})]})]})]})}),a.jsxs("div",{className:"flex flex-1",children:[a.jsxs("div",{id:"mobile-sidebar",className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:hidden transition duration-200 ease-in-out z-30 w-64 bg-white shadow-lg`,children:[a.jsx("div",{className:"p-4 bg-lime-800 text-white",children:a.jsx("h2",{className:"text-xl font-bold",children:"Menu"})}),a.jsx("nav",{className:"p-4",children:a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsxs("button",{onClick:()=>{m("home"),o(!1)},className:`flex items-center w-full p-2 rounded-lg ${f==="home"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-100"}`,style:f==="home"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,children:[a.jsx(Am,{size:24,className:"mr-3"}),"Dashboard"]})}),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{m("farmer-registration"),o(!1)},className:`flex items-center w-full p-2 rounded-lg ${f==="farmer-registration"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-100"}`,style:f==="farmer-registration"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,children:[a.jsx(Un,{size:24,className:"mr-3"}),"Farmer Registration"]})}),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{ct(!0),tn("view"),o(!1)},className:`flex items-center w-full p-2 rounded-lg hover:bg-gray-100 pl-10 ${Fe?"text-lime-800 font-bold":"text-gray-700"}`,style:Fe?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,children:[a.jsx(dc,{size:24,className:"mr-3"}),"View Farm Locations"]})}),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{m("claims"),o(!1)},className:`flex items-center w-full p-2 rounded-lg ${f==="claims"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-100"}`,style:f==="claims"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,children:[a.jsx(zr,{size:24,className:"mr-3"}),"Cash Assistance Claims"]})}),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{m("distribution"),o(!1)},className:`flex items-center w-full p-2 rounded-lg ${f==="distribution"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-100"}`,style:f==="distribution"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,children:[a.jsx(No,{size:24,className:"mr-3"}),"Distribution Records"]})}),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{m("assistance"),o(!1)},className:`flex items-center w-full p-2 rounded-lg ${f==="assistance"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-100"}`,style:f==="assistance"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,children:[a.jsx(so,{size:24,className:"mr-3"}),"Assistance Inventory"]})}),a.jsx("li",{children:a.jsxs("button",{onClick:()=>{m("crop-insurance"),o(!1)},className:`flex items-center w-full p-2 rounded-lg ${f==="crop-insurance"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-100"}`,style:f==="crop-insurance"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,children:[a.jsx(jo,{size:24,className:"mr-3"}),"Crop Insurance"]})})]})})]}),a.jsxs("aside",{className:`hidden md:block ${c?"w-64":"w-16"} shadow-lg text-black space-y-6 border-r border-gray-100 sticky top-0 h-screen overflow-y-auto bg-white transition-all duration-300 ease-in-out group`,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[a.jsx("br",{}),a.jsxs("div",{className:"space-y-1 px-3",children:[a.jsxs("button",{onClick:()=>m("home"),className:`flex items-center ${c?"gap-3 px-4":"justify-center px-2"} py-2.5 rounded-lg w-full text-left transition-colors ${f==="home"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-50"}`,style:f==="home"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,title:c?"":"Dashboard",children:[a.jsx(Am,{size:24,className:"flex-shrink-0"}),c&&a.jsx("span",{children:"Dashboard"})]}),a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{m("farmer-registration"),ei(!bt)},className:`flex items-center ${c?"justify-between gap-3 px-4":"justify-center px-2"} py-2.5 rounded-lg w-full text-left transition-colors ${f==="farmer-registration"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-50"}`,style:f==="farmer-registration"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,title:c?"":"Farmer Registration",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Un,{size:24,className:"flex-shrink-0"}),c&&a.jsx("span",{children:"Farmer Registration"})]}),c&&a.jsx(Ju,{size:16,className:`transition-transform ${bt?"rotate-180":""}`})]}),a.jsxs("div",{className:`transition-all duration-300 overflow-hidden ${bt&&c?"max-h-40":"max-h-0"}`,children:[a.jsxs("button",{onClick:()=>{ct(!0),tn("view")},className:`flex items-center ${c?"gap-3 pl-10":"justify-center px-2"} py-2 rounded-lg hover:bg-gray-50 w-full text-left transition-colors ${Fe?"text-lime-800 font-bold":"text-gray-600"}`,style:Fe?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,title:c?"":"View Farm Locations",children:[a.jsx(dc,{size:24,className:"flex-shrink-0"}),c&&a.jsx("span",{children:"View Farm Locations"})]}),a.jsxs("button",{onClick:()=>m("crop-insurance"),className:`flex items-center ${c?"gap-3 pl-10":"justify-center px-2"} py-2 rounded-lg hover:bg-gray-50 w-full text-left transition-colors ${f==="crop-insurance"?"text-lime-800 font-bold":"text-gray-600"}`,style:f==="crop-insurance"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,title:c?"":"Crop Insurance",children:[a.jsx(jo,{size:24,className:"flex-shrink-0"}),c&&a.jsx("span",{children:"Crop Insurance"})]})]})]}),a.jsxs("button",{onClick:()=>m("claims"),className:`flex items-center ${c?"gap-3 px-4":"justify-center px-2"} py-2.5 rounded-lg w-full text-left transition-colors ${f==="claims"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-50"}`,style:f==="claims"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,title:c?"":"Cash Assistance Claims",children:[a.jsx(zr,{size:24,className:"flex-shrink-0"}),c&&a.jsx("span",{children:"Cash Assistance Claims"})]}),a.jsxs("button",{onClick:()=>m("distribution"),className:`flex items-center ${c?"gap-3 px-4":"justify-center px-2"} py-2.5 rounded-lg w-full text-left transition-colors ${f==="distribution"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-50"}`,style:f==="distribution"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,title:c?"":"Distribution Records",children:[a.jsx(No,{size:24,className:"flex-shrink-0"}),c&&a.jsx("span",{children:"Distribution Records"})]}),c&&a.jsx("hr",{className:"border-gray-100 my-4"}),a.jsxs("button",{onClick:()=>m("assistance"),className:`flex items-center ${c?"gap-3 px-4":"justify-center px-2"} py-2.5 rounded-lg w-full text-left transition-colors ${f==="assistance"?"text-lime-800 font-bold":"text-gray-700 hover:bg-gray-50"}`,style:f==="assistance"?{backgroundColor:"rgba(43, 158, 102, 0.15)"}:void 0,title:c?"":"Assistance Inventory",children:[a.jsx(so,{size:24,className:"flex-shrink-0"}),c&&a.jsx("span",{children:"Assistance Inventory"})]}),c&&a.jsx("div",{className:"px-3",children:a.jsxs("button",{onClick:()=>ti(!0),className:"flex items-center gap-3 px-4 py-2.5 rounded-lg w-full text-left transition-colors text-gray-700 hover:bg-gray-50",title:"Add Government Assistance",children:[a.jsx(oa,{size:24}),a.jsx("span",{children:"Add Government Assistance"})]})})]}),c&&a.jsx("div",{className:"px-3 space-y-2 text-sm mt-4 max-h-[300px] overflow-y-auto hide-scrollbar"})]}),a.jsxs("main",{className:"flex-1 p-4 bg-gradient-to-b from-zinc-50 to-white",children:[f==="home"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mt-4 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-white to-[rgb(215,245,211)] rounded-xl shadow-lg p-2 flex flex-col items-center text-center text-gray-800",children:[a.jsx("div",{className:"text-sm font-bold text-black",children:"Farmers Registered (Kapalong)"}),a.jsx("div",{className:"text-xl text-gray-600 mt-1",children:li})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white to-[rgb(215,245,211)] rounded-xl shadow-lg p-2 flex flex-col items-center text-center text-gray-800",children:[a.jsx("div",{className:"text-sm font-bold text-black",children:"Active Insurance Policies"}),a.jsx("div",{className:"text-xl text-gray-600 mt-1",children:C.filter(N=>N.insuranceType&&N.periodTo&&new Date(N.periodTo)>new Date).length})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white to-[rgb(215,245,211)] rounded-xl shadow-lg p-2 flex flex-col items-center text-center text-gray-800 relative",children:[a.jsx("div",{className:"text-sm font-bold text-black",children:"Pending Insurance Claims"}),a.jsx("div",{className:"text-xl text-gray-600 mt-1",children:ka})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white to-[rgb(215,245,211)] rounded-xl shadow-lg p-2 flex flex-col items-center text-center text-gray-800",children:[a.jsx("div",{className:"text-sm font-bold text-black",children:"Farmers Assisted (No. of Beneficiaries)"}),a.jsx("div",{className:"text-xl text-gray-600 mt-1",children:Y.filter(N=>N.status==="distributed"||N.status==="approved").length+ci})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white to-[rgb(215,245,211)] rounded-xl shadow-lg p-2 flex flex-col items-center text-center text-gray-800",children:[a.jsx("div",{className:"text-sm font-bold text-black",children:"Avg. Processing Time (days)"}),a.jsx("div",{className:"text-xl text-gray-600 mt-1",children:(()=>{const N=w.filter(z=>z.status==="approved"||z.status==="rejected");if(N.length===0)return"0";const M=N.reduce((z,ne)=>{const ve=new Date(ne.date),Ie=new Date(ne.reviewDate||ne.date),$e=Math.ceil((Ie-ve)/(1e3*60*60*24));return z+Math.max($e,0)},0);return Math.round(M/N.length)})()})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-4",children:[a.jsxs("div",{className:"lg:col-span-2 p-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Claims Trend Over Time"}),a.jsx("select",{value:$s,onChange:N=>Yl(parseInt(N.target.value)),className:"px-3 py-2 text-sm border rounded-md",children:Array.from({length:3},(N,M)=>new Date().getFullYear()-M).map(N=>a.jsx("option",{value:N,children:N},N))})]}),a.jsx("div",{className:"h-[500px]",children:a.jsx(qd,{width:"100%",height:"100%",children:a.jsxs(dw,{data:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((M,z)=>{const ne=w.filter(ve=>new Date(ve.date).getMonth()===z&&new Date(ve.date).getFullYear()===$s);return{month:M,filed:ne.length,approved:ne.filter(ve=>ve.status==="approved").length,rejected:ne.filter(ve=>ve.status==="rejected").length}}),margin:{top:30,right:40,left:30,bottom:80},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"filedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#14b8a6",stopOpacity:.4}),a.jsx("stop",{offset:"95%",stopColor:"#14b8a6",stopOpacity:.1})]}),a.jsxs("linearGradient",{id:"approvedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#2f7d32",stopOpacity:.4}),a.jsx("stop",{offset:"95%",stopColor:"#2f7d32",stopOpacity:.1})]}),a.jsxs("linearGradient",{id:"rejectedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"rgb(174, 200, 28)",stopOpacity:.4}),a.jsx("stop",{offset:"95%",stopColor:"rgb(174, 200, 28)",stopOpacity:.1})]})]}),a.jsx(ws,{dataKey:"month",fontSize:14,axisLine:!0,tickLine:!1,label:{value:"Month",position:"insideBottom",offset:-15,style:{textAnchor:"middle",fontSize:14}}}),a.jsx(js,{fontSize:14,axisLine:!0,tickLine:!1,label:{value:"Number of Claims",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:14}}}),a.jsx(Fd,{formatter:(N,M)=>[N,{filed:"Filed Claims",approved:"Approved Claims",rejected:"Rejected Claims"}[M]||M]}),a.jsx(Nl,{verticalAlign:"top",height:36,formatter:N=>({filed:"Filed Claims",approved:"Approved Claims",rejected:"Rejected Claims"})[N]||N}),a.jsx(Ni,{type:"monotone",dataKey:"filed",stroke:"#14b8a6",strokeWidth:3,fill:"url(#filedGradient)",fillOpacity:1,dot:!1}),a.jsx(Ni,{type:"monotone",dataKey:"approved",stroke:"#2f7d32",strokeWidth:3,fill:"url(#approvedGradient)",fillOpacity:1,dot:!1}),a.jsx(Ni,{type:"monotone",dataKey:"rejected",stroke:"rgb(174, 200, 28)",strokeWidth:3,fill:"url(#rejectedGradient)",fillOpacity:1,dot:!1})]})})})]}),a.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Assistance Application Breakdown"}),a.jsx("div",{className:"h-[220px] relative",children:a.jsx(Nm,{data:{labels:["Pending","Approved","Rejected","Distributed"],datasets:[{data:[Y.filter(N=>N.status==="pending").length,Y.filter(N=>N.status==="approved").length,Y.filter(N=>N.status==="rejected").length,Y.filter(N=>N.status==="distributed").length],backgroundColor:["#84cc16","#22c55e","rgb(174, 200, 28)","#10b981"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:8},padding:10,usePointStyle:!0,generateLabels:function(N){const M=N.data,z=M.datasets[0].data.reduce((ne,ve)=>ne+ve,0);return M.labels.map((ne,ve)=>{const Ie=M.datasets[0].data[ve],$e=z>0?(Ie/z*100).toFixed(1):"0";return{text:`${ne}: ${Ie} (${$e}%)`,fillStyle:M.datasets[0].backgroundColor[ve],strokeStyle:M.datasets[0].backgroundColor[ve],lineWidth:0,pointStyle:"circle"}})}}},tooltip:{callbacks:{label:function(N){const M=N.label||"",z=N.parsed,ne=N.dataset.data.reduce((Ie,$e)=>Ie+$e,0),ve=ne>0?(z/ne*100).toFixed(1):"0";return`${M}: ${z} (${ve}%)`}}}},layout:{padding:{top:20,bottom:20}}}})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Crop Market Prices (₱/kg)"}),a.jsx("span",{className:"text-sm text-gray-500",children:"PH Average"})]}),a.jsx("div",{className:"h-[220px]",children:a.jsx(qd,{width:"100%",height:"100%",children:a.jsxs(y3,{data:[{crop:"Rice",price:45},{crop:"Corn",price:28},{crop:"Banana",price:35},{crop:"Coconut",price:18},{crop:"Coffee",price:120}],children:[a.jsx(ws,{dataKey:"crop",fontSize:10,angle:-45,textAnchor:"end",height:60,axisLine:!0,tickLine:!1}),a.jsx(js,{fontSize:10,axisLine:!0,tickLine:!1}),a.jsx(Fd,{formatter:N=>[`₱${N}/kg`,"Price"]}),a.jsxs(Zh,{dataKey:"price",radius:[4,4,0,0],children:[a.jsx(gi,{fill:"#689c3c"}),a.jsx(gi,{fill:"#7fff00"}),a.jsx(gi,{fill:"#ccff00"}),a.jsx(gi,{fill:"#e6e6fa"}),a.jsx(gi,{fill:"#808000"})]})]})})})]})]})]}),a.jsx("div",{className:"mt-8 mb-6",children:a.jsx("hr",{className:"border-gray-200"})}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"🗺️ Geo-Tagging Map Overview"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:ii,onChange:N=>Gl(N.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md",title:"Filter by crop",children:[a.jsx("option",{value:"all",children:"All Crops"}),rr.map(N=>a.jsx("option",{value:N,children:N},N))]}),a.jsxs("select",{value:Wi,onChange:N=>Vl(N.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md",title:"Filter by month",children:[a.jsx("option",{value:"all",children:"All Months"}),a.jsx("option",{value:"1",children:"Jan"}),a.jsx("option",{value:"2",children:"Feb"}),a.jsx("option",{value:"3",children:"Mar"}),a.jsx("option",{value:"4",children:"Apr"}),a.jsx("option",{value:"5",children:"May"}),a.jsx("option",{value:"6",children:"Jun"}),a.jsx("option",{value:"7",children:"Jul"}),a.jsx("option",{value:"8",children:"Aug"}),a.jsx("option",{value:"9",children:"Sep"}),a.jsx("option",{value:"10",children:"Oct"}),a.jsx("option",{value:"11",children:"Nov"}),a.jsx("option",{value:"12",children:"Dec"})]}),a.jsxs("select",{value:Ui,onChange:N=>Bs(N.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded-md",title:"Filter by year",children:[a.jsx("option",{value:"all",children:"All Years"}),Array.from({length:36},(N,M)=>1990+M).map(N=>a.jsx("option",{value:N,children:N},N))]})]})]}),a.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Legend:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Insured"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Uninsured"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),a.jsx("span",{className:"text-xs text-gray-600",children:"High Claims Area"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",defaultChecked:!1,onChange:N=>{if(Ae.current){const M=N.target.checked;console.log("Heatmap toggle:",M)}},className:"rounded"}),"Claims Heatmap"]}),a.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx("input",{type:"checkbox",defaultChecked:!1,onChange:N=>{if(Ae.current){const M=N.target.checked;console.log("Disaster overlay toggle:",M)}},className:"rounded"}),"Disaster Impact"]})]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"💡 Hover over pins for detailed farmer information • Color-coded by barangay and insurance status"})]}),a.jsx("div",{className:"w-full h-[420px] rounded-lg border border-gray-200 overflow-hidden",children:a.jsx("div",{ref:_e,className:"w-full h-full"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Pr,{size:16,className:"text-amber-500 mr-2"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pending Insurance Claims"}),a.jsx("span",{className:"ml-2 px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full",children:w.filter(N=>N.status==="pending").length})]}),a.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-lg border border-gray-200 overflow-hidden",children:w.filter(N=>N.status==="pending").length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(so,{size:24,className:"text-gray-400"})}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No pending claims at the moment"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:w.filter(N=>N.status==="pending").sort((N,M)=>{const z=Number.parseFloat(N.degreeOfDamage)||Number.parseFloat(N.areaDamaged)||0;return(Number.parseFloat(M.degreeOfDamage)||Number.parseFloat(M.areaDamaged)||0)-z}).map(N=>{var M;return a.jsx("div",{className:"p-3 hover:bg-gray-50 transition-colors duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-8 bg-amber-400 rounded-full flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-1"}),N.crop||N.cropType||"Unknown Crop"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-1"}),N.damageType||N.type||"Damage Type"]}),a.jsxs("span",{className:"flex items-center font-mono",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-1"}),"ID: ",(M=N.claimNumber||N._id)==null?void 0:M.slice(-6)]})]})]})]})}),a.jsx("div",{className:"flex items-center space-x-2 ml-4",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Pending Review"})})]})},N._id)})})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(zr,{size:16,className:"text-lime-600 mr-2"}),a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Claims"}),a.jsx("span",{className:"ml-2 px-2 py-1 bg-lime-100 text-lime-700 text-xs font-medium rounded-full",children:w.slice(0,5).length})]}),a.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-lg border border-gray-200 overflow-hidden",children:w.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(zr,{size:24,className:"text-gray-400"})}),a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent claims found"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:w.slice(0,5).map(N=>{var M;return a.jsx("div",{className:"p-3 hover:bg-gray-50 transition-colors duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-2 h-8 rounded-full flex-shrink-0 ${N.status==="approved"?"bg-green-400":N.status==="rejected"?"bg-[rgb(26,61,59)]":N.status==="pending"?"bg-amber-400":"bg-gray-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-1"}),N.crop||N.cropType||"Unknown Crop"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-1"}),new Date(N.date).toLocaleDateString()]}),a.jsxs("span",{className:"flex items-center font-mono",children:[a.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mr-1"}),"ID: ",(M=N.claimNumber||N._id)==null?void 0:M.slice(-6)]})]})]})]})}),a.jsx("div",{className:"flex items-center space-x-2 ml-4",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.status==="approved"?"bg-green-100 text-green-800":N.status==="rejected"?"bg-[rgb(26,61,59)] text-white":N.status==="pending"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:N.status?N.status.charAt(0).toUpperCase()+N.status.slice(1):"Unknown"})})]})},N._id)})})})]})]}),f==="claims"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Cash Assistance Claims"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>Ca("pending"),className:`px-4 py-2 rounded-lg ${ri==="pending"?"bg-lime-700 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pending Cash Assistance Claims"}),a.jsx("button",{onClick:()=>Ca("all"),className:`px-4 py-2 rounded-lg ${ri==="all"?"bg-lime-700 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Claims"})]})]}),w&&w.length>0?a.jsx(j3,{claims:w,claimsTabView:ri,setClaimsTabView:Ca,showClaimDetails:gr,setShowClaimDetails:gt,selectedClaim:Ls,setSelectedClaim:Is,showConfirmationModal:Qr,setShowConfirmationModal:Fr,confirmationAction:Oe,setConfirmationAction:at,openClaimDetails:Us,initiateStatusUpdate:tr,confirmStatusUpdate:qe,searchQuery:ke,setSearchQuery:tc}):a.jsx("div",{className:"text-center py-10 text-gray-500 italic text-lg",children:"No claims found."})]}),f==="farmer-registration"&&a.jsx(_3,{showMapModal:Fe,setShowMapModal:ct,mapMode:vr,setMapMode:tn,selectedLocation:oe,setSelectedLocation:On,mapCenter:rn,setMapCenter:Oa,mapZoom:qi,setMapZoom:kn,mapRef:It,leafletMapRef:$,markersLayerRef:ge,mapSearchQuery:ni,setMapSearchQuery:Yt,searchLocation:Hi,addFarmersToMap:Dn,formData:nn,setFormData:an,reverseGeocode:yr}),f==="distribution"&&a.jsx(e1,{claims:w,approvedClaims:w.filter(N=>N.status==="approved").length,generateAnalytics:on,analyticsLoading:Jl,allApplications:Y}),f==="assistance"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mr-4",children:"Assistance Inventory"}),a.jsxs("button",{onClick:()=>ti(!0),className:"flex items-center gap-2 bg-gradient-to-r from-lime-500 to-lime-600 text-white px-4 py-2 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[a.jsx("span",{className:"text-xl font-bold",children:"+"}),a.jsx("span",{className:"font-semibold",children:"Add New Assistance"})]})]}),F&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Loading assistance inventory..."})}),K&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a.jsxs("p",{children:["Error: ",K]})}),!F&&!K&&a.jsx("div",{className:"bg-white/60 rounded-2xl shadow-xl p-6 mb-8",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ui.length>0?ui.map((N,M)=>a.jsxs("div",{className:"relative group rounded-2xl shadow-xl p-0 bg-gradient-to-br from-lime-100 via-white to-lime-50 border-2 border-lime-200 hover:shadow-2xl transition-all duration-300 flex flex-col items-stretch min-h-[260px]",children:[a.jsx("div",{className:"absolute top-0 right-0 px-4 py-1 rounded-bl-2xl text-xs font-bold tracking-wider z-10 bg-lime-600 text-white shadow-md",children:N.assistanceType}),N.photo&&a.jsx("div",{className:"flex items-center justify-center w-full h-32 rounded-t-2xl border-b border-lime-100 overflow-hidden",children:a.jsx("img",{src:N.photo,alt:"Assistance Logo",className:"object-contain w-full h-full"})}),a.jsxs("div",{className:"flex-1 flex flex-col justify-between p-5 gap-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full border ${(N.availableQuantity||0)<5?"bg-red-100 text-red-700 border border-red-300":"bg-lime-100 text-lime-800 border-lime-300"}`,children:(N.availableQuantity||0)<5?"Low Stock":"Available"}),N.requiresRSBSA&&a.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 border border-orange-300 ml-2",children:"RSBSA Required"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[a.jsxs("span",{children:["Crop: ",a.jsx("span",{className:"font-semibold text-gray-700",children:N.cropType})]}),a.jsxs("span",{children:["Founder: ",a.jsx("span",{className:"font-semibold text-gray-700",children:N.founderName})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[a.jsxs("span",{children:["Available: ",a.jsx("span",{className:"font-semibold text-gray-700",children:N.availableQuantity||0})]}),a.jsxs("span",{children:["Max/Farmer: ",a.jsxs("span",{className:"font-semibold text-gray-700",children:[N.maxQuantityPerFarmer||100,"kg"]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:a.jsxs("span",{children:["Date Added: ",a.jsx("span",{className:"font-semibold text-gray-700",children:new Date(N.dateAdded).toLocaleDateString()})]})})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx("button",{onClick:()=>Ee(N),className:"flex-1 flex items-center justify-center gap-1 bg-blue-600 text-white px-3 py-2 rounded-lg font-semibold shadow hover:bg-blue-700 transition",children:"View"}),a.jsx("button",{onClick:()=>Zi(M),className:"flex-1 flex items-center justify-center gap-1 bg-lime-600 text-white px-3 py-2 rounded-lg font-semibold shadow hover:bg-lime-700 transition",children:"Edit"}),a.jsx("button",{onClick:()=>Ma(M),className:"flex-1 flex items-center justify-center gap-1 bg-red-600 text-white px-3 py-2 rounded-lg font-semibold shadow hover:bg-red-700 transition",children:"Delete"})]})]})]},N._id||M)):a.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No assistance items available"})})}),Ur>1&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsxs("nav",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>ut(N=>Math.max(N-1,1)),disabled:qt===1,className:`px-3 py-1 rounded-md ${qt===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:"Previous"}),[...Array(Ur)].map((N,M)=>a.jsx("button",{onClick:()=>ut(M+1),className:`px-3 py-1 rounded-md ${qt===M+1?"bg-lime-700 text-white":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:M+1},M)),a.jsx("button",{onClick:()=>ut(N=>Math.min(N+1,Ur)),disabled:qt===Ur,className:`px-3 py-1 rounded-md ${qt===Ur?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:"Next"})]})}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Assistance Applications"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs("select",{value:D,onChange:N=>{V(N.target.value),Ne(1)},className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-lime-500 focus:border-lime-500",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"distributed",children:"Distributed"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Zn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search ID or farmer name...",value:se,onChange:N=>{ae(N.target.value),Ne(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-lime-500 focus:border-lime-500 w-64"})]}),a.jsxs("button",{onClick:()=>{console.log("Refreshing applications..."),console.log("React Query will automatically refresh data")},className:"px-4 py-2 bg-lime-600 text-white rounded-md hover:bg-lime-700 transition text-sm font-medium flex items-center gap-2",children:[a.jsx(wj,{className:"h-4 w-4"}),"Refresh"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:W.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b text-sm text-gray-600 bg-gray-50 rounded-t-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{children:["Showing ",(re-1)*ze+1," to ",Math.min(re*ze,W.length)," of ",W.length," applications",D&&` (filtered by: ${D})`,se&&` (search: "${se}")`]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Total in database: ",Y.length]})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Farmer Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assistance Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity Requested"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarter"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Applied"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(N=>{var M,z,ne,ve,Ie,$e,Me;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:N._id.slice(-6).toUpperCase()})}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate max-w-[120px]",title:N._id,children:N._id})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:N.farmerId?`${N.farmerId.firstName} ${N.farmerId.lastName}`:"N/A"}),((M=N.farmerId)==null?void 0:M.cropType)&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Primary crop: ",N.farmerId.cropType]}),((z=N.farmerId)==null?void 0:z.rsbsaRegistered)&&a.jsx("div",{className:"text-xs text-green-600 mt-1",children:"✓ RSBSA Registered"})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[a.jsx("div",{className:"font-medium text-gray-900",children:((ne=N.assistanceId)==null?void 0:ne.assistanceType)||"N/A"}),((ve=N.assistanceId)==null?void 0:ve.cropType)&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["For: ",N.assistanceId.cropType," farmers"]}),((Ie=N.assistanceId)==null?void 0:Ie.founderName)&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["By: ",N.assistanceId.founderName]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.jsxs("div",{className:"font-medium",children:[N.requestedQuantity,"kg"]}),(($e=N.assistanceId)==null?void 0:$e.maxQuantityPerFarmer)&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Max allowed: ",N.assistanceId.maxQuantityPerFarmer,"kg"]}),((Me=N.assistanceId)==null?void 0:Me.availableQuantity)!==void 0&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Available: ",N.assistanceId.availableQuantity,"kg"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:N.quarter})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[a.jsx("div",{children:new Date(N.applicationDate).toLocaleDateString()}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(N.applicationDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N.status==="approved"?"bg-green-100 text-green-800":N.status==="rejected"?"bg-red-100 text-red-800":N.status==="distributed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)}),N.reviewDate&&a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Reviewed: ",new Date(N.reviewDate).toLocaleDateString()]}),N.distributionDate&&a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Distributed: ",new Date(N.distributionDate).toLocaleDateString()]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[N.status==="pending"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>Da(N._id),className:"text-green-600 hover:text-green-800 font-medium px-3 py-1 rounded border border-green-200 hover:bg-green-50 transition text-xs",children:"Approve"}),a.jsx("button",{onClick:()=>Ki(N._id),className:"text-red-600 hover:text-red-800 font-medium px-3 py-1 rounded border border-red-200 hover:bg-red-50 transition text-xs",children:"Reject"})]}),N.status==="approved"&&a.jsx("button",{onClick:()=>Ws(N._id),className:"text-blue-600 hover:text-blue-800 font-medium px-3 py-1 rounded border border-blue-200 hover:bg-blue-50 transition text-xs",children:"Mark Distributed"}),(N.status==="rejected"||N.status==="distributed")&&a.jsx("span",{className:"text-gray-400 text-xs",children:"No actions available"}),N.officerNotes&&a.jsxs("div",{className:"text-xs text-gray-500 mt-2 italic",title:N.officerNotes,children:["Note: ",N.officerNotes.length>20?N.officerNotes.substring(0,20)+"...":N.officerNotes]})]})]},N._id)})})]})}),ee>1&&a.jsxs("div",{className:"flex justify-between items-center p-4 border-t bg-gray-50 rounded-b-lg",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",re," of ",ee]}),a.jsxs("nav",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ne(1),disabled:re===1,className:`px-3 py-1 rounded-md text-sm ${re===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:"First"}),a.jsx("button",{onClick:()=>Ne(N=>Math.max(N-1,1)),disabled:re===1,className:`px-3 py-1 rounded-md text-sm ${re===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:"Previous"}),[...Array(Math.min(5,ee))].map((N,M)=>{const z=re<=3?M+1:re>=ee-2?ee-4+M:re-2+M;return z>0&&z<=ee?a.jsx("button",{onClick:()=>Ne(z),className:`px-3 py-1 rounded-md text-sm ${re===z?"bg-lime-700 text-white":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:z},z):null}),a.jsx("button",{onClick:()=>Ne(N=>Math.min(N+1,ee)),disabled:re===ee,className:`px-3 py-1 rounded-md text-sm ${re===ee?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:"Next"}),a.jsx("button",{onClick:()=>Ne(ee),disabled:re===ee,className:`px-3 py-1 rounded-md text-sm ${re===ee?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-lime-100 text-lime-800 hover:bg-lime-200"}`,children:"Last"})]})]})]}):a.jsx("div",{className:"p-8",children:a.jsx("div",{className:"text-center py-8 text-gray-500",children:Y.length===0?a.jsxs(a.Fragment,{children:[a.jsx(so,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"No assistance applications found"}),a.jsx("p",{className:"text-sm mt-2",children:"Applications from farmers will appear here once they apply for assistance."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Zn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"No applications match your filters"}),a.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search criteria or clearing filters."}),a.jsx("button",{onClick:()=>{V(""),ae(""),Ne(1)},className:"mt-4 px-4 py-2 bg-lime-600 text-white rounded-md hover:bg-lime-700 transition text-sm font-medium",children:"Clear All Filters"})]})})})})]})]}),v&&j&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Assistance Details"}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-700",children:"Assistance Type"}),a.jsx("p",{className:"text-gray-900",children:j.assistanceType})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-700",children:"Founder"}),a.jsx("p",{className:"text-gray-900",children:j.founderName})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-700",children:"Quantity"}),a.jsx("p",{className:"text-gray-900",children:j.quantity})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-700",children:"Date Added"}),a.jsx("p",{className:"text-gray-900",children:j.dateAdded})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-700",children:"Farmers Availed"}),a.jsx("div",{className:"mt-2",children:((Ln=j.farmersAvailed)==null?void 0:Ln.length)>0?a.jsx("ul",{className:"space-y-2",children:j.farmersAvailed.map((N,M)=>a.jsx("li",{className:"text-gray-900",children:N},M))}):a.jsx("p",{className:"text-gray-500",children:"No farmers have availed this assistance yet."})})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Close"})})]})}),f==="crop-insurance"&&a.jsx("div",{className:"p-6",children:a.jsx(P3,{})}),f==="settings"&&a.jsx(w3,{})]})]}),a.jsx(N3,{showModal:Ul,setShowModal:Zl,modalForm:Le,setModalForm:Xe,initialModalForm:En,selectedLocation:oe,setSelectedLocation:On,setShowMapModal:ct,setMapMode:tn,showEventModal:Kl,setShowEventModal:ti,eventForm:_t,handleEventChange:Ta,handleEventSubmit:Ea,showRegisterForm:Hl,setShowRegisterForm:zs,formData:nn,handleChange:Gt,handleSubmit:ec,showClaimDetails:gr,setShowClaimDetails:gt,selectedClaim:Ls,initiateStatusUpdate:tr,showConfirmationModal:Qr,setShowConfirmationModal:Fr,confirmationAction:Oe,confirmStatusUpdate:qe,showMapModal:Fe,mapMode:vr,mapSearchQuery:ni,setMapSearchQuery:Yt,searchLocation:Hi,mapRef:It,showFarmerDetails:st,setShowFarmerDetails:qr,showDeleteConfirmation:Ft,setShowDeleteConfirmation:oi,farmerToDelete:we,setFarmerToDelete:Je,farmers:C,feedbackText:er,setFeedbackText:ye}),Ce&&me&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Predictive Analytics"}),a.jsx("button",{onClick:()=>it(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(td,{className:"mr-2 h-5 w-5 text-lime-600"}),"Current Year Overview"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",me.currentYear.totalClaims]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Monthly Completion Rates"}),a.jsx("div",{className:"h-60",children:a.jsx(la,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Claims"}}},elements:{line:{tension:.4},point:{radius:3}}},data:{labels:Object.keys(me.currentYear.monthlyStatus),datasets:[{label:"Approved",data:Object.values(me.currentYear.monthlyStatus).map(N=>N.approved||0),borderColor:"rgba(16, 185, 129, 1)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,borderWidth:2},{label:"Rejected",data:Object.values(me.currentYear.monthlyStatus).map(N=>N.rejected||0),borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,borderWidth:2},{label:"Completed",data:Object.values(me.currentYear.monthlyStatus).map(N=>N.completed||0),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,borderWidth:2}]}})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Status Distribution"}),a.jsx("div",{className:"h-60",children:a.jsx(Nm,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12}}}},data:{labels:["Approved","Rejected","Pending","Completed"],datasets:[{data:[me.currentYear.byStatus.approved||0,me.currentYear.byStatus.rejected||0,me.currentYear.byStatus.pending||0,me.currentYear.byStatus.completed||0],backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)"],borderWidth:1}]}})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(cf,{className:"mr-2 h-5 w-5 text-blue-600"}),"Next Year Forecast"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Predicted Total: ",me.nextYear.totalClaims]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Predicted Monthly Trends"}),a.jsx("div",{className:"h-60",children:a.jsx(la,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Predicted Claims"},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{color:"rgba(0, 0, 0, 0.05)"}}},elements:{line:{tension:.4},point:{radius:3}}},data:{labels:Object.keys(me.nextYear.monthlyStatus||{}),datasets:[{label:"Approved",data:Object.values(me.nextYear.monthlyStatus||{}).map(N=>N.approved||0),borderColor:"rgba(16, 185, 129, 1)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,borderWidth:2},{label:"Rejected",data:Object.values(me.nextYear.monthlyStatus||{}).map(N=>N.rejected||0),borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,borderWidth:2},{label:"Completed",data:Object.values(me.nextYear.monthlyStatus||{}).map(N=>N.completed||0),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,borderWidth:2}]}})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Predicted Status Distribution"}),a.jsx("div",{className:"h-60",children:a.jsx(al,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12}}},cutout:"60%"},data:{labels:["Approved","Rejected","Pending","Completed"],datasets:[{data:[me.nextYear.byStatus.approved||0,me.nextYear.byStatus.rejected||0,me.nextYear.byStatus.pending||0,me.nextYear.byStatus.completed||0],backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)","rgba(59, 130, 246, 0.8)"],borderWidth:1}]}})})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 md:col-span-2",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(dc,{className:"mr-2 h-5 w-5 text-lime-600"}),"Resource Allocation Recommendations"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Key Insights"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[a.jsxs("li",{children:["Predicted ",me.nextYear.totalClaims-me.currentYear.totalClaims," more claims next year (",Math.round((me.nextYear.totalClaims-me.currentYear.totalClaims)/me.currentYear.totalClaims*100),"% increase)"]}),a.jsxs("li",{children:[Object.entries(me.nextYear.byMonth||{}).sort((N,M)=>M[1]-N[1]).slice(0,2).map(([N])=>N).join(" and ")," ","will likely see the highest claim volumes"]}),a.jsxs("li",{children:["Approval rate is expected to be"," ",Math.round(me.nextYear.byStatus.approved/me.nextYear.totalClaims*100),"% next year"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Monthly Processing Forecast"}),a.jsx("div",{className:"h-60",children:a.jsx(la,{options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Claims"},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{color:"rgba(0, 0, 0, 0.05)"}}},elements:{line:{tension:.1},point:{radius:2}}},data:{labels:Object.keys(me.nextYear.byMonth||{}),datasets:[{label:"Current Year",data:Object.values(me.currentYear.byMonth||{}),borderColor:"rgba(107, 114, 128, 1)",backgroundColor:"rgba(107, 114, 128, 0.1)",borderWidth:2,borderDash:[5,5],fill:!1},{label:"Next Year (Predicted)",data:Object.values(me.nextYear.byMonth||{}),borderColor:"rgba(79, 70, 229, 1)",backgroundColor:"rgba(79, 70, 229, 0.1)",borderWidth:2,fill:!0}]}})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[a.jsx(Pr,{className:"mr-2 h-5 w-5 text-yellow-600"}),"Status Assessment"]})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Status Efficiency"}),a.jsx("div",{className:"h-60",children:a.jsx(tf,{options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:N=>`${N.raw.toFixed(1)}% of total claims`}}},scales:{x:{beginAtZero:!0,max:100,title:{display:!0,text:"Percentage (%)"}}}},data:{labels:me.statusEfficiency.map(N=>N.status),datasets:[{label:"Status Percentage",data:me.statusEfficiency.map(N=>N.value),backgroundColor:me.statusEfficiency.map(N=>N.status==="Approved"?"rgba(16, 185, 129, 0.8)":N.status==="Rejected"?"rgba(239, 68, 68, 0.8)":N.status==="Pending"?"rgba(245, 158, 11, 0.8)":N.status==="Completed"?"rgba(59, 130, 246, 0.8)":"rgba(107, 114, 128, 0.8)"),borderRadius:4}]}})})]})})]})]}),a.jsxs("div",{className:"flex justify-between mt-8",children:[a.jsx("button",{onClick:()=>it(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition",children:"Close"}),a.jsxs("button",{onClick:$a,className:"bg-lime-700 text-white px-4 py-2 rounded-lg hover:bg-lime-800 transition flex items-center",children:[a.jsx(Lj,{className:"mr-2 h-5 w-5"}),"Download Full Report"]})]})]})]})}),Fe&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 text-white p-4 rounded-t-xl flex justify-between items-center",style:{backgroundColor:"rgb(43, 158, 102)"},children:[a.jsx("h2",{className:"text-xl font-bold",children:vr==="view"?"Farm Locations Map":"Select Farm Location"}),a.jsx("button",{onClick:()=>ct(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-wrap gap-4 items-center",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search for a location...",value:ni,onChange:N=>Yt(N.target.value),className:"w-full p-2 pr-10 border rounded-md",onKeyDown:N=>{N.key==="Enter"&&Hi()}}),a.jsx("button",{onClick:Hi,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:a.jsx(Zn,{className:"h-5 w-5"})})]})}),vr==="view"&&a.jsxs("button",{onClick:()=>tn("add"),className:"bg-lime-600 text-white px-4 py-2 rounded hover:bg-lime-700 flex items-center",children:[a.jsx(oa,{className:"mr-2 h-5 w-5"}),"Add Location"]}),vr==="add"&&a.jsxs("button",{onClick:()=>tn("view"),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 flex items-center",children:[a.jsx(pn,{className:"mr-2 h-5 w-5"}),"View All Locations"]})]}),a.jsx("div",{className:"flex-1 min-h-[400px] relative",children:a.jsx("div",{ref:It,className:"w-full h-[500px]"})}),vr==="add"&&a.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{children:oe?a.jsxs("p",{className:"text-sm text-gray-600",children:["Selected coordinates: ",oe.lat.toFixed(6),", ",oe.lng.toFixed(6)]}):a.jsx("p",{className:"text-sm text-gray-600",children:"Click on the map to select a location"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ct(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),a.jsx("button",{onClick:()=>{oe?ct(!1):alert("Please select a location on the map first.")},disabled:!oe,className:`px-4 py-2 bg-lime-700 text-white rounded hover:bg-lime-800 ${oe?"":"opacity-50 cursor-not-allowed"}`,children:"Confirm Location"})]})]})})]})}),st&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto hide-scrollbar",children:[a.jsxs("div",{className:"sticky top-0 bg-lime-700 text-white p-4 rounded-t-xl flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Farmer Details"}),a.jsx("button",{onClick:()=>qr(!1),className:"text-white hover:text-gray-200 focus:outline-none transition-colors",children:a.jsx(nt,{size:24})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-lime-800 mb-3 flex items-center gap-2",children:[a.jsx(Ir,{size:20}),"Personal Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:C[st].farmerName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Birthday"}),a.jsx("p",{className:"font-medium",children:C[st].birthday||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Gender"}),a.jsx("p",{className:"font-medium",children:C[st].gender||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Contact Number"}),a.jsx("p",{className:"font-medium",children:C[st].contactNum||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Address"}),a.jsx("p",{className:"font-medium",children:C[st].address})]})]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:"Farm Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Type"}),a.jsx("p",{className:"font-medium",children:C[st].cropType})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Crop Area"}),a.jsxs("p",{className:"font-medium",children:[C[st].cropArea," hectares"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Lot Number"}),a.jsx("p",{className:"font-medium",children:C[st].lotNumber||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Lot Area"}),a.jsx("p",{className:"font-medium",children:C[st].lotArea||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Certified"}),a.jsx("p",{className:"font-medium",children:C[st].isCertified?a.jsxs("span",{className:"text-green-600 flex items-center",children:[a.jsx(Ar,{size:16,className:"mr-1"})," Yes"]}):a.jsx("span",{className:"text-gray-600",children:"No"})})]})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Insurance Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Insurance Type"}),a.jsx("p",{className:"font-medium",children:C[st].insuranceType||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Premium Amount"}),a.jsx("p",{className:"font-medium",children:C[st].premiumAmount||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Period From"}),a.jsx("p",{className:"font-medium",children:C[st].periodFrom||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Period To"}),a.jsx("p",{className:"font-medium",children:C[st].periodTo||"Not provided"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Agency"}),a.jsx("p",{className:"font-medium",children:C[st].agency||"Not provided"})]})]})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:()=>qr(!1),className:"bg-lime-700 text-white px-6 py-2 rounded-lg hover:bg-lime-800 transition",children:"Close"})})]})]})}),Ft&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4 text-gray-800 flex items-center",children:[a.jsx(Pr,{className:"mr-2 text-red-500",size:24}),"Delete Farmer"]}),a.jsxs("p",{className:"mb-6 text-gray-600",children:["Are you sure you want to delete ",a.jsx("strong",{children:C[Ft].farmerName}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{oi(!1),Je(null)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:async()=>{try{const N=C[Ft].id||C[Ft]._id,M=C[Ft].farmerName||`${C[Ft].firstName} ${C[Ft].lastName}`;await Te.mutateAsync(N),oi(!1),Je(null),je.getState().addAdminNotification({id:G(),type:"success",title:"Farmer Deleted Successfully",message:`${M} has been removed from the system.`,timestamp:new Date})}catch(N){je.getState().addAdminNotification({id:G(),type:"error",title:"Delete Failed",message:`Error: ${N.message}`,timestamp:new Date})}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[a.jsx(nt,{size:16,className:"mr-1"}),"Delete"]})]})]})}),Qr&&a.jsx("div",{className:"fixed inset-0 z-50 bg-transparent bg-opacity-30 backdrop-blur-sm flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:Oe.type==="approved"?"Approve Claim":"Reject Claim"}),a.jsxs("p",{className:"mb-4 text-gray-600",children:["Are you sure you want to ",Oe.type==="approved"?"approve":"reject"," this claim? This action cannot be undone."]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback (optional)"}),a.jsx("textarea",{id:"feedback",value:er,onChange:N=>ye(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-lime-500",rows:3,placeholder:"Add feedback for the farmer..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>Fr(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:qe,className:`px-4 py-2 rounded-lg text-white ${Oe.type==="approved"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:Oe.type==="approved"?"Yes, Approve":"Yes, Reject"})]})]})}),mr&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-30 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[kt.type==="approved"?"Approve":kt.type==="rejected"?"Reject":kt.type==="delete"?"Delete":"Action"," Application"]}),a.jsx("p",{className:"mb-4 text-gray-600",children:kt.type==="delete"?`Are you sure you want to delete "${kt.itemName}"? This action cannot be undone.`:`Are you sure you want to ${kt.type} this assistance application? 
                Please provide feedback for the farmer.`}),kt.type!=="delete"&&a.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-3 mb-4 focus:ring-2 focus:ring-lime-500 focus:border-lime-500",rows:4,placeholder:`Enter feedback for the farmer (reason for ${kt.type})`,value:Ht,onChange:N=>pr(N.target.value)}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{Kt(!1),pr("")},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:La,className:`px-4 py-2 rounded-lg text-white transition-colors ${kt.type==="approved"?"bg-green-600 hover:bg-green-700":(kt.type==="rejected","bg-red-600 hover:bg-red-700")}`,children:kt.type==="approved"?"Yes, Approve":kt.type==="rejected"?"Yes, Reject":"Yes, Delete"})]})]})}),Zs&&wt&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-30 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[wt.type==="approve"?"Approve":"Reject"," Request"]}),a.jsxs("p",{className:"mb-2",children:["Farmer: ",a.jsx("span",{className:"font-medium",children:wt.request.farmerName})]}),a.jsxs("p",{className:"mb-2",children:["Assistance: ",a.jsx("span",{className:"font-medium",children:wt.request.assistanceName})]}),a.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 mb-4",rows:3,placeholder:`Enter feedback for the farmer (reason for ${wt.type})`,value:er,onChange:N=>ye(N.target.value)}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>di(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{onClick:async()=>{if(wt.type==="approve")console.log("Approving assistance request:",wt.request.id),je.getState().addFarmerNotification({id:`assist-approve-${wt.request.id}`,title:"Assistance Request Approved",message:`Your request for ${wt.request.assistanceName} was approved. Feedback: ${er}`,type:"success",timestamp:new Date,read:!1},wt.request.farmerId),di(!1),Ba(null),ye("");else{try{await te.mutateAsync({applicationId:wt.request.id,statusData:{status:"rejected",adminFeedback:er}}),je.getState().addAdminNotification({id:G(),type:"success",title:"Request Rejected",message:"Assistance request has been rejected.",timestamp:new Date})}catch(N){je.getState().addAdminNotification({id:G(),type:"error",title:"Error Rejecting Request",message:N.message,timestamp:new Date})}je.getState().addFarmerNotification({id:`assist-reject-${wt.request.id}`,title:"Assistance Request Rejected",message:`Your request for ${wt.request.assistanceName} was rejected. Feedback: ${er}`,type:"warning",timestamp:new Date,read:!1},wt.request.farmerId),di(!1),Ba(null),ye("")}},className:`px-4 py-2 rounded text-white ${wt.type==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:wt.type==="approve"?"Approve":"Reject"})]})]})}),J.length>0&&a.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-300 text-red-800 rounded-lg flex items-center gap-2",children:[a.jsx(Pr,{className:"h-5 w-5 text-red-500"}),a.jsxs("span",{children:["Warning: The following assistance item",J.length>1?"s are":" is"," low in stock:"," ",a.jsx("strong",{children:J.map(N=>N.assistanceType).join(", ")}),". Please restock soon."]})]})]})};export{t4 as default};
